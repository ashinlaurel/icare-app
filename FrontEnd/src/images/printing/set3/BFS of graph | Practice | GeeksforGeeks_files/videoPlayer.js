var currentLikeStatus=videoFeedbackCodes.NO_VOTE;window.mobileAndTabletCheck=function(){let check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check};function addLikeDislikeFeedbackAction(){$("#feedback-action-bar").remove();let z=`\n    <div class="feedback-action-launch"> >> </div>\n    <table id="feedback-action-bar">\n    <tr class="feedback-action">\n        <td>\n            <div id="likeBtn" title="I like it">\n                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 104.19" style="enable-background:new 0 0 122.88 104.19" xml:space="preserve"><g><path d="M62.63,6.25c0.56-2.85,2.03-4.68,4.04-5.61c1.63-0.76,3.54-0.83,5.52-0.31c1.72,0.45,3.53,1.37,5.26,2.69 c4.69,3.57,9.08,10.3,9.64,18.71c0.17,2.59,0.12,5.35-0.12,8.29c-0.16,1.94-0.41,3.98-0.75,6.1h19.95l0.09,0.01 c3.24,0.13,6.38,0.92,9.03,2.3c2.29,1.2,4.22,2.84,5.56,4.88c1.38,2.1,2.13,4.6,2.02,7.46c-0.08,2.12-0.65,4.42-1.81,6.87 c0.66,2.76,0.97,5.72,0.54,8.32c-0.36,2.21-1.22,4.17-2.76,5.63c0.08,3.65-0.41,6.71-1.39,9.36c-1.01,2.72-2.52,4.98-4.46,6.98 c-0.17,1.75-0.45,3.42-0.89,4.98c-0.55,1.96-1.36,3.76-2.49,5.35l0,0c-3.4,4.8-6.12,4.69-10.43,4.51c-0.6-0.02-1.24-0.05-2.24-0.05 l-39.03,0c-3.51,0-6.27-0.51-8.79-1.77c-2.49-1.25-4.62-3.17-6.89-6.01l-0.58-1.66V47.78l1.98-0.53 c5.03-1.36,8.99-5.66,12.07-10.81c3.16-5.3,5.38-11.5,6.9-16.51V6.76L62.63,6.25L62.63,6.25L62.63,6.25z M4,43.02h29.08 c2.2,0,4,1.8,4,4v53.17c0,2.2-1.8,4-4,4l-29.08,0c-2.2,0-4-1.8-4-4V47.02C0,44.82,1.8,43.02,4,43.02L4,43.02L4,43.02z M68.9,5.48 c-0.43,0.2-0.78,0.7-0.99,1.56V20.3l-0.12,0.76c-1.61,5.37-4.01,12.17-7.55,18.1c-3.33,5.57-7.65,10.36-13.27,12.57v40.61 c1.54,1.83,2.96,3.07,4.52,3.85c1.72,0.86,3.74,1.2,6.42,1.2l39.03,0c0.7,0,1.6,0.04,2.45,0.07c2.56,0.1,4.17,0.17,5.9-2.27v-0.01 c0.75-1.06,1.3-2.31,1.69-3.71c0.42-1.49,0.67-3.15,0.79-4.92l0.82-1.75c1.72-1.63,3.03-3.46,3.87-5.71 c0.86-2.32,1.23-5.11,1.02-8.61l-0.09-1.58l1.34-0.83c0.92-0.57,1.42-1.65,1.63-2.97c0.34-2.1-0.02-4.67-0.67-7.06l0.21-1.93 c1.08-2.07,1.6-3.92,1.67-5.54c0.06-1.68-0.37-3.14-1.17-4.35c-0.84-1.27-2.07-2.31-3.56-3.09c-1.92-1.01-4.24-1.59-6.66-1.69v0.01 l-26.32,0l0.59-3.15c0.57-3.05,0.98-5.96,1.22-8.72c0.23-2.7,0.27-5.21,0.12-7.49c-0.45-6.72-3.89-12.04-7.56-14.83 c-1.17-0.89-2.33-1.5-3.38-1.77C70.04,5.27,69.38,5.26,68.9,5.48L68.9,5.48L68.9,5.48z" style="fill: black;"></path></g></svg>\n            </div>\n        </td>\n    </tr>\n    <tr class="feedback-action">\n        <td>\n            <div id="dislikeBtn" title="I dislike it">\n                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 104.19" style="enable-background:new 0 0 122.88 104.19" xml:space="preserve"><g><path d="M62.63,97.94c0.56,2.85,2.03,4.68,4.04,5.61c1.64,0.76,3.54,0.83,5.52,0.31c1.72-0.45,3.53-1.37,5.26-2.69 c4.69-3.57,9.08-10.3,9.64-18.71c0.17-2.59,0.13-5.35-0.12-8.29c-0.16-1.94-0.41-3.98-0.75-6.1h19.95l0.09-0.01 c3.24-0.13,6.38-0.92,9.03-2.3c2.29-1.2,4.22-2.84,5.56-4.88c1.38-2.1,2.13-4.6,2.02-7.46c-0.08-2.12-0.65-4.42-1.81-6.88 c0.66-2.76,0.97-5.72,0.54-8.32c-0.36-2.21-1.22-4.17-2.76-5.63c0.08-3.65-0.41-6.71-1.39-9.36c-1.01-2.72-2.52-4.98-4.46-6.98 c-0.17-1.75-0.45-3.42-0.89-4.98c-0.55-1.96-1.36-3.76-2.49-5.35l0,0c-3.4-4.8-6.12-4.69-10.43-4.51c-0.6,0.02-1.24,0.05-2.24,0.05 l-39.02,0c-3.51,0-6.27,0.51-8.79,1.77c-2.5,1.25-4.62,3.17-6.89,6.01l-0.58,1.66v45.52l1.98,0.53c5.03,1.36,8.99,5.66,12.07,10.81 c3.16,5.3,5.38,11.5,6.89,16.51v13.16L62.63,97.94L62.63,97.94L62.63,97.94z M4,61.17h29.08c2.2,0,4-1.8,4-4V4c0-2.2-1.8-4-4-4L4,0 C1.8,0,0,1.8,0,4v53.17C0,59.37,1.8,61.17,4,61.17L4,61.17L4,61.17z M68.9,98.72c-0.43-0.2-0.78-0.7-0.99-1.56V83.89l-0.12-0.76 c-1.61-5.37-4.01-12.17-7.55-18.1c-3.33-5.57-7.65-10.36-13.28-12.57V11.85c1.54-1.83,2.96-3.07,4.52-3.85 c1.72-0.86,3.74-1.2,6.42-1.2h39.02c0.7,0,1.61-0.04,2.45-0.07c2.56-0.1,4.17-0.17,5.9,2.27v0.01c0.75,1.06,1.3,2.31,1.69,3.71 c0.42,1.5,0.67,3.15,0.79,4.92l0.82,1.75c1.72,1.63,3.03,3.46,3.87,5.71c0.86,2.32,1.23,5.11,1.02,8.61l-0.09,1.58l1.34,0.83 c0.92,0.57,1.42,1.65,1.63,2.97c0.34,2.09-0.02,4.67-0.67,7.06l0.21,1.92c1.08,2.07,1.6,3.92,1.67,5.54 c0.06,1.68-0.37,3.14-1.17,4.35c-0.84,1.27-2.07,2.31-3.56,3.09c-1.92,1-4.24,1.59-6.66,1.69v-0.01l-26.32,0l0.59,3.15 c0.57,3.05,0.98,5.96,1.22,8.72c0.23,2.7,0.27,5.21,0.12,7.49c-0.45,6.72-3.89,12.04-7.56,14.83c-1.17,0.89-2.33,1.5-3.38,1.77 C70.04,98.92,69.38,98.94,68.9,98.72L68.9,98.72L68.9,98.72z" style="fill: black;"></path></g></svg>\n            </div>\n        </td>\n    </tr>\n    <tr class="feedback-action">\n        <td>\n            <div id="feedbackBtn" title="Give Feedback">\n                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 112.77 122.88" style="enable-background:new 0 0 112.77 122.88" xml:space="preserve"><g><path d="M64.44,61.11c1.79,0,3.12-1.45,3.12-3.12c0-1.78-1.45-3.12-3.12-3.12H24.75c-1.78,0-3.12,1.45-3.12,3.12 c0,1.78,1.45,3.12,3.12,3.12H64.44L64.44,61.11L64.44,61.11L64.44,61.11z M77.45,19.73l18.1-19.14c0.69-0.58,1.39-0.81,2.2-0.35 l14.56,14.1c0.58,0.69,0.69,1.5-0.12,2.31L93.75,36.14L77.45,19.73L77.45,19.73L77.45,19.73L77.45,19.73z M87.74,42.27l-18.66,3.86 l2.36-20.28L87.74,42.27L87.74,42.27z M19.14,13.09h41.73l-3.05,6.45H19.14c-3.48,0-6.65,1.43-8.96,3.73s-3.73,5.46-3.73,8.96 v45.74c0,3.48,1.43,6.66,3.73,8.96c2.3,2.3,5.47,3.73,8.96,3.73h3.72v0.01l0.21,0.01c1.77,0.12,3.12,1.66,2.99,3.43l-1.26,18.1 L48.78,97.7c0.58-0.58,1.38-0.93,2.27-0.93h37.32c3.48,0,6.65-1.42,8.96-3.73c2.3-2.3,3.73-5.48,3.73-8.96V50.45h6.68v42.69 c0.35,9.63-3.58,15.04-19.43,15.7l-32.25-0.74l-32.73,13.87l-0.16,0.13c-1.35,1.16-3.38,1-4.54-0.36c-0.57-0.67-0.82-1.49-0.77-2.3 l1.55-22.34h-0.26c-5.26,0-10.05-2.15-13.52-5.62C2.15,88.03,0,83.24,0,77.98V32.23c0-5.26,2.15-10.05,5.62-13.52 C9.08,15.24,13.87,13.09,19.14,13.09L19.14,13.09L19.14,13.09z M79.69,78.42c1.79,0,3.12-1.45,3.12-3.12 c0-1.79-1.45-3.12-3.12-3.12H24.75c-1.78,0-3.12,1.45-3.12,3.12c0,1.78,1.45,3.12,3.12,3.12H79.69L79.69,78.42L79.69,78.42 L79.69,78.42z M50.39,43.81c1.78,0,3.12-1.45,3.12-3.12c0-1.67-1.45-3.12-3.12-3.12H24.75c-1.78,0-3.12,1.45-3.12,3.12 c0,1.78,1.45,3.12,3.12,3.12H50.39L50.39,43.81L50.39,43.81L50.39,43.81z" style="fill: black;"></path></g></svg>\n            </div>\n        </td>\n    </tr>\n    </table>\n    `;$("#learnVideoModal").append(z)}$(function(){if(typeof statsUpdateInterval==="undefined"||statsUpdateInterval==null){statsUpdateInterval=30}$("body").on("click",".play-videojs-list",function(e){e.preventDefault();createVideoJs();let id=$(this).attr("data-id");let section=$(this).attr("data-section");let videoDetails=returnVideoDetails(section,id);playClassroomCourseVideo(videoDetails["url"],section,id,true);window.location.hash="";$("#current-video-description").html($.parseHTML(videoDetails["description"]));$("#video-playlist-wrapper").html(videoPlaylistTemplate(section,trackVideosProgressData));$(".video-playlist-item[data-src="+id+"]").addClass("video-item-active");$(".video-playlist-item[data-src="+id+"] .fa-custom_icon").removeClass("fa-play-circle-o").addClass("fa-pause");$("#learnVideoModal").append('<div class="forwardIcon text-center" style="display:none; position: absolute;top: 44%;left: 80%; z-index: 9999; font-size:25px;"><i class="fa fa-forward"></i><span style="margin-bottom:50%"> 10</span></div><div class="backwardIcon text-center" style="display:none;position: absolute;top: 44%;left: 10%;z-index: 9999; font-size:25px;">10 <i class="fa fa-backward"></i></div><div class="volumeIcon text-center" style="position: absolute;z-index: 9999;top: 10%; left: 80%;font-size: 20px;"></div>');setTimeout(function(){$("#learnVideoModal").focus()},500);$("#learnVideoModal").attr("data-gfg-video-id",id);$("#current-video-description > p").css("padding","0px 10px");$("h4, p").filter(function(){return $.trim($(this).text().trim()).length===0}).remove()});$("body").on("click",".video-playlist-item",function(e){e.preventDefault();$(".video-playlist-item").removeClass("video-item-active").addClass("pe-none");$(".video-playlist-item .fa-custom_icon").removeClass("fa-pause").addClass("fa-play-circle-o");$(this).addClass("video-item-active");let id=$(this).attr("data-src");let section=$(this).attr("data-section");let videoDetails=returnVideoDetails(section,id);if(parseInt(videoDetails["type"])==1){createVideoJs();$(this).find(".fa-custom_icon").removeClass("fa-play-circle-o").addClass("fa-pause");$(".video-inner-src").css("opacity","0.2");$("#loader").removeClass("hide").css("display","block!important");$("#cancelPlayVideo").hide();$("#current-video-description").html("");setTimeout(()=>{$("#loader").addClass("hide");$("#cancelPlayVideo").show();$(".video-inner-src").css("opacity","1");playClassroomCourseVideo(videoDetails["url"],section,id,false);$("#current-video-description").html($.parseHTML(videoDetails["description"]));$("h4, p").filter(function(){return $.trim($(this).text().trim()).length===0}).remove();$("#current-video-description > p").css("padding","0px 10px");$(".video-playlist-item").removeClass("pe-none");$("#learnVideoModal").append('<div class="forwardIcon text-center" style="display:none; position: absolute;top: 44%;left: 80%; z-index: 9999; font-size:25px;"><i class="fa fa-forward"></i><span style="margin-bottom:50%"> 10</span></div><div class="backwardIcon text-center" style="display:none;position: absolute;top: 44%;left: 10%;z-index: 9999; font-size:25px;">10 <i class="fa fa-backward"></i></div><div class="volumeIcon text-center" style="position: absolute;z-index: 9999;top: 10%; left: 80%;font-size: 20px;"></div>');$("#learnVideoModal").attr("data-gfg-video-id",id)},1e3);setTimeout(function(){$("#learnVideoModal").focus()},500)}else{let elIndex=findElementIndex(id,section);window.location.hash=`trackTitle_${section}_${elIndex}`;$("#learnVideo").modal("hide");$(`#trackTitle_${section}_${elIndex}`).collapse("show")}});$("#learnVideo").on("hidden.bs.modal",function(){currentPlayer.pause();currentPlayer.reset();if($("#cancelPlayVideo").length>0){$("#cancelPlayVideo").trigger("click")}});$("body").on("click","#feedbackBtn",function(e){let feedbackContent=prompt("Please enter your feedback");if(feedbackContent==null)return;let videoId=$(".video-playlist-item.video-item-active")[0].getAttribute("data-src");feedbackContent=feedbackContent.replace(/<\/?[^>]+(>|$)/g,"");if(feedbackContent==""){alert("Feedback body can't be  empty");return}$.ajax({type:"POST",url:"/user-course/stats/",data:{requestType:videoFeedbackCodes.ADD_FEEDBACK,videoId:btoa(videoId),batchId:btoa(batchId),feedback_content:feedbackContent},success:function(result){var response=result;var status=response["success"];if(status==true){$("#gfg-snackbar").text("Feedback Recorded!");$("#gfg-snackbar").addClass("show");setTimeout(function(){$("#gfg-snackbar").removeClass("show")},3e3)}},error:function(xhr,status,error){console.error(status)}})});$("body").on("click","#likeBtn, #dislikeBtn",function(e){let videoId=$(".video-playlist-item.video-item-active")[0].getAttribute("data-src");let buttonType=$(this).attr("id");let action;if(buttonType=="likeBtn"){action=videoFeedbackCodes.LIKE}else if(buttonType=="dislikeBtn"){action=videoFeedbackCodes.DISLIKE}if(action==currentLikeStatus){action=videoFeedbackCodes.NO_VOTE}$.ajax({type:"POST",url:"/user-course/stats/",data:{requestType:"updateVideoLikeStatus",videoId:btoa(videoId),batchId:btoa(batchId),video_like_status:action},success:function(result){var response=result;var status=response["success"];let colorOfLikeBtn="black";let colorOfDislikeBtn="black";if(status==true){currentLikeStatus=parseInt(response["video_like_status"]);allVideosLikeStatus[videoId]=parseInt(response["video_like_status"]);allVideosLikeDislikeCounts[videoId]["likes_count"]=response["likes_count"];allVideosLikeDislikeCounts[videoId]["dislikes_count"]=response["dislikes_count"];setLikeStatus(response["likes_count"],response["dislikes_count"])}else{$("#likeBtn path").css("fill",colorOfLikeBtn);$("#dislikeBtn path").css("fill",colorOfDislikeBtn)}}})});if(mobileAndTabletCheck()==false){$("body").on("mouseenter",".feedback-action-launch",function(ev){show=true;$("#feedback-action-bar").show();$(".feedback-action-launch").hide()});$("body").on("mouseleave","#feedback-action-bar",function(ev){show=false;$("#feedback-action-bar").hide();$(".feedback-action-launch").show()})}else{$("body").on("click",".feedback-action-launch",function(e){$("#feedback-action-bar").show();$(".feedback-action-launch").hide();setTimeout(function(){if(mobileAndTabletCheck()){$("#feedback-action-bar").hide();$(".feedback-action-launch").show()}},3e3)})}});function playClassroomCourseVideo(url,section,id,show=true){var videoPlayerSavedSettings={};let level=JSON.parse(sessionStorage.getItem("videoPlayerSavedSettings"));currentPlayer=undefined;currentPlayer=videojs("learnVideoModal",{playbackRates:[.5,.75,1,1.25,1.5,2],html5:{nativeAudioTracks:false,nativeVideoTracks:false,hls:{debug:true,overrideNative:true,enableLowInitialPlaylist:true,smoothQualityChange:true}}},function(){$.each(level,function(key,value){if(key=="gfgVolumebar"){if(typeof value!=undefined&&value!==null){currentPlayer.volume(value)}}if(key=="gfgIsMute"){if(typeof value!=undefined&&value!==null&&value==true){$(".vjs-tech").prop("muted",true);videoPlayerSavedSettings["gfgIsMute"]=true;sessionStorage.setItem("videoPlayerSavedSettings",JSON.stringify(videoPlayerSavedSettings))}}})});currentPlayer.ready(function(){this.src({src:url,type:"application/x-mpegURL",withCredentials:false});currentPlayer.hlsQualitySelector({});currentPlayer.play();this.hotkeys({volumeStep:.1,seekStep:10,enableModifiersForNumbers:false,alwaysCaptureHotkeys:true,forwardKey:function(event,player){if(event.which==39){$(".forwardIcon").show().delay(10).fadeOut();setTimeout(function(){$("#learnVideoModal").focus()},500)}return event.which==39},rewindKey:function(event,player){if(event.which==37){$(".backwardIcon").show().delay(10).fadeOut();setTimeout(function(){$("#learnVideoModal").focus()},500)}return event.which==37},volumeUpKey:function(event,player){if(event.which==38){var currentVolume=$(".vjs-volume-bar").attr("aria-valuenow");$(".volumeIcon").html('<i class="fa fa-volume-up"></i> '+currentVolume+"%");$(".volumeIcon").show().delay(50).fadeOut();setTimeout(function(){$("#learnVideoModal").focus()},500)}return event.which==38},volumeDownKey:function(event,player){if(event.which==40){$(".volumeIcon").html('<i class="fa fa-volume-down"></i> '+$(".vjs-volume-bar").attr("aria-valuenow")+"%");$(".volumeIcon").show().delay(50).fadeOut();setTimeout(function(){$("#learnVideoModal").focus()},500)}return event.which==40}})});currentPlayer.one("play",function(e){if(trackVideosProgressData&&trackVideosProgressData!={}&&id in trackVideosProgressData&&trackVideosProgressData[id]&&trackVideosProgressData[id]!=undefined){var watchedTime=parseInt(trackVideosProgressData[id].watched_time);var totalDuration=parseInt(trackVideosProgressData[id].total_duration);var remainingTime=totalDuration-watchedTime;if(remainingTime>statsUpdateInterval){currentPlayer.currentTime(watchedTime)}}$.each(level,function(key,value){if(key=="gfgRatebar"){if(typeof value!=undefined&&value!==null){currentPlayer.playbackRate(value)}}});var content='<style>.video-js:before{content: "'+user_email+'";}</style>';$("head").append(content);var watermark_align=["top-left","forth-quad","second-quad","bottom-right","center-left","top-right","third-quad","center-right","center-top","bottom-left","center","first-quad","center-bottom"];var counter=0;setInterval(function(){if(counter){currentPlayer.removeClass(watermark_align[counter-1])}else{currentPlayer.removeClass(watermark_align[watermark_align.length-1])}if(counter>=watermark_align.length){counter=0}currentPlayer.addClass(watermark_align[counter]);counter++},5e4)});var lastUpdateTime=0;var updatedOnce=false;currentPlayer.on("timeupdate",function(e){var whereUserAt=currentPlayer.currentTime();var ceilTime=Math.ceil(whereUserAt);var totalDuration=Math.ceil(currentPlayer.duration());var watchedPercentage=parseInt(ceilTime*100/totalDuration);$("#gfg-video-progress-"+id).css({display:"block",width:`${watchedPercentage}%`});if(!updatedOnce||(ceilTime%statsUpdateInterval==0||Math.abs(ceilTime-lastUpdateTime)>statsUpdateInterval)&&String(ceilTime)!=String(lastUpdateTime)){updatedOnce=true;lastUpdateTime=ceilTime;$.ajax({type:"POST",url:"/user-course/stats/",data:{requestType:"saveUserVideoProgress",utoken:$("#utoken").text(),videoId:btoa(id),batchId:btoa(batchId),totalDuration:totalDuration,watchedTime:ceilTime},success:function(result){var response=result;var status=response["success"];if(status==true){if(id in trackVideosProgressData){trackVideosProgressData[id]["watched_time"]=ceilTime}else{trackVideosProgressData[id]={watched_time:ceilTime,total_duration:totalDuration}}}}})}});currentPlayer.on("error",function(e){errorHandling(e,"learnVideo",currentPlayer)});currentPlayer.on("ratechange",function(){setTimeout(function(){$("#learnVideoModal").focus()},500);videoPlayerSavedSettings["gfgRatebar"]=currentPlayer.playbackRate();sessionStorage.setItem("videoPlayerSavedSettings",JSON.stringify(videoPlayerSavedSettings))});currentPlayer.on("volumechange",function(){if(currentPlayer.volume()!==null||currentPlayer.volume()!==undefined){videoPlayerSavedSettings["gfgVolumebar"]=currentPlayer.volume();sessionStorage.setItem("videoPlayerSavedSettings",JSON.stringify(videoPlayerSavedSettings))}});$(".vjs-mute-control").on("click",function(e){if($(".vjs-tech").prop("muted")){videoPlayerSavedSettings["gfgIsMute"]=true}else{videoPlayerSavedSettings["gfgIsMute"]=false}sessionStorage.setItem("videoPlayerSavedSettings",JSON.stringify(videoPlayerSavedSettings))});currentPlayer.on("ended",function(){if(videoPlaylistArr[section]&&parseInt(videoPlaylistArr[section][videoPlaylistArr[section].length-1]["id"])!=id*1&&nextVideoIndex(section,id)!=-1){$("#loader").removeClass("hide").css("display","block!important");$(".video-inner-src").css("opacity","0.55")}else{section=null;id=null;return}$("#cancelPlayVideo").on("click",function(e){id=null;section=null;$("#loader").addClass("hide");$(".video-inner-src").css("opacity","1");return});setTimeout(()=>{if(section&&id&&videoPlaylistArr[section]&&parseInt(videoPlaylistArr[section][videoPlaylistArr[section].length-1]["id"])!=id*1&&nextVideoIndex(section,id)!=-1){playNextVideo(section,id)}id=null;section=null},3e3)});addLikeDislikeFeedbackAction();currentLikeStatus=allVideosLikeStatus[id];try{setLikeStatus(allVideosLikeDislikeCounts[id]["likes_count"],allVideosLikeDislikeCounts[id]["dislikes_count"])}catch(ex){setLikeStatus(likes_count=0,dislikes_count=0)}let videoDetails=returnVideoDetails(section,id);$("#videoTitle").text(videoDetails["title"]);if(show){$("#learnVideo").modal("show")}}function returnVideoDetails(section,id){let data=videoPlaylistArr[section].find(obj=>{return obj["id"]==id});return data}function videoPlaylistTemplate(section,trackVideosProgressData){let template="";videoPlaylistArr[section].forEach(o=>{if(o.id){template+=`<li class="list-group-item playlist-card video-playlist-item" data-src="${o.id}" data-section="${section}">\n                                <p style="padding: 0px">`;if(o.type==1){template+=`<span class="fa fa-play-circle-o fa-custom_icon"></span>&nbsp;`}else if(o.type==0){template+=`<span class="fa fa-file-o"></span>&nbsp;`}template+=`  <span style="font-size: 13px">${o.title.replace("Video -","")}</span>\n                              </p>`;if(o.type==1){var watchTime=0;var display="none";if(o.id in trackVideosProgressData&&trackVideosProgressData[o.id].watched_percentage>0){var watchTime=trackVideosProgressData[o.id].watched_percentage;var display="block"}template+=` <div class="video-progress--light-grey"> \n                    <div class="video-progress-container video-progress-bar" id="gfg-video-progress-${o.id}" style="display:${display}; width:${watchTime}%"></div> </div>`}template+=`</li>`}});return template}function playNextVideo(section,id){let nextIndex=nextVideoIndex(section,id);if(nextIndex&&nextIndex!=-1){$(`.video-playlist-item[data-section=${section}][data-src=${videoPlaylistArr[section][nextIndex]["id"]}]`).click()}else{currentPlayer.pause();currentPlayer.reset();$("#loader").addClass("hide");$("#cancelPlayVideo").show();$(".video-inner-src").css("opacity","1")}}function findElementIndex(id,section){let index=videoPlaylistArr[section].findIndex(o=>{return o.id==id});return index!=null||index!=undefined?index:-1}function nextVideoIndex(section,currentId){if(videoPlaylistArr[section]&&videoPlaylistArr[section].length&&videoPlaylistArr[section][videoPlaylistArr[section].length-1]["id"]!=currentId*1){let index=findElementIndex(currentId,section);let videoDetails=index!=-1?videoPlaylistArr[section][index+1]:null;if(!videoDetails||videoDetails["type"]!=1){return-1}return index+1}else{return-1}}function createVideoJs(src){disposePlayer(true);var videoDiv=document.getElementById("video-src");var video=document.createElement("video");video.id="learnVideoModal";video.className="video-js video-inner-src vjs-default-skin";video.setAttribute("controls","controls");video.setAttribute("autoplay","autoplay");video.setAttribute("oncontextmenu","return false;");video.setAttribute("style","width: 100%!important; padding-left: 0px; padding-right: 0px");videoDiv.appendChild(video)}function disposePlayer(dispose=true){if(currentPlayer&&currentPlayer!=undefined&&dispose){currentPlayer.dispose()}}function errorHandling(e,modalId,curPlayer){e.stopImmediatePropagation();var errorObj=curPlayer.player().error();$("#gfg-snackbar").text(errorObj.message).addClass("show");setTimeout(()=>{$("#gfg-snackbar").removeClass("show").addClass("hide");$("#"+modalId).modal("hide")},3e3)}function setLikeStatus(likes_count=0,dislikes_count=0){let colorOfLikeBtn="black";let colorOfDislikeBtn="black";switch(currentLikeStatus){case videoFeedbackCodes.LIKE:colorOfLikeBtn="#308D46";break;case videoFeedbackCodes.DISLIKE:colorOfDislikeBtn="#308D46";break;default:break}$("#likeBtn path").css("fill",colorOfLikeBtn);$("#dislikeBtn path").css("fill",colorOfDislikeBtn)}