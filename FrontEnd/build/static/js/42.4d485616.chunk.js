(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[42],{1065:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a.n(n),r=a(9),c=a(2),o=a(0),u=a.n(o),s=(a(19),a(8)),i=a.n(s),m=a(15),d=a(28),b=a(1),p=a(10),E=(a(94),a(30)),f=a(6),v=a(29);t.default=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],s=Object(o.useState)(0),h=Object(c.a)(s,2),g=h[0],w=h[1],x=Object(o.useContext)(E.a),O=(x.bbaropen,x.setBBarOpen),y=x.setAssetDetails,j=(x.assetdetails,Object(o.useState)(0)),C=Object(c.a)(j,2),T=C[0],S=C[1],k=Object(o.useContext)(v.a),N=(k.topheading,k.setTopHeading),M=Object(o.useState)(!1),B=Object(c.a)(M,2),_=(B[0],B[1],Object(o.useState)(1)),F=Object(c.a)(_,2),P=F[0],A=F[1],D=Object(o.useState)([]),I=Object(c.a)(D,2),z=I[0],H=I[1],L=Object(o.useState)(!1),R=Object(c.a)(L,2),K=(R[0],R[1],Object(o.useState)(!1)),G=Object(c.a)(K,2),U=(G[0],G[1],Object(o.useState)(!1)),J=Object(c.a)(U,2),q=(J[0],J[1],Object(o.useState)(!0)),Q=Object(c.a)(q,2),V=Q[0],W=Q[1],X=Object(o.useState)(!0),Y=Object(c.a)(X,2),Z=(Y[0],Y[1],Object(o.useState)("")),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)(""),ne=Object(c.a)(ae,2),le=ne[0],re=ne[1],ce=Object(o.useState)(""),oe=Object(c.a)(ce,2),ue=oe[0],se=oe[1],ie=Object(o.useState)({}),me=Object(c.a)(ie,2),de=me[0],be=(me[1],Object(o.useState)("")),pe=Object(c.a)(be,2),Ee=pe[0],fe=(pe[1],Object(o.useState)("")),ve=Object(c.a)(fe,2),he=(ve[0],ve[1],Object(o.useState)("")),ge=Object(c.a)(he,2),we=ge[0],xe=ge[1],Oe=Object(o.useState)(20),ye=Object(c.a)(Oe,2),je=ye[0],Ce=ye[1];return Object(o.useEffect)((function(){return O(1),function(){O(0),y({})}}),[]),Object(o.useEffect)((function(){return N("Inventory"),function(){N("")}}),[]),Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:P,limit:10},filters:{type:ee,location:le,condition:ue,searchtype:Ee,searchquery:we}},e.prev=2,e.next=5,i()({url:"".concat(p.a,"/inventory/").concat(m.a.getId(),"/getall"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),Ce(a.data.total),H(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}()()}),[P,le,ue,ee,V]),console.log(de),u.a.createElement(u.a.Fragment,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(b.Modal,{isOpen:a,onClose:function(){return n(!1)}},u.a.createElement(b.ModalHeader,null,"Are you sure you want to delete!"),u.a.createElement(b.ModalBody,null),u.a.createElement(b.ModalFooter,null,u.a.createElement(b.Button,{className:"w-full sm:w-auto",onClick:Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i()({url:"".concat(p.a,"/inventory/").concat(m.a.getId(),"/delete"),method:"POST",data:{id:g}});case 3:t=e.sent,console.log(t.data),a=z.filter((function(e){return e._id!=g})),H(a),n(!1),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))},"Confirm Delete")))),u.a.createElement("div",{className:"mb-64 mt-4"},u.a.createElement("div",{className:""},u.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ee,onChange:function(e){te(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Item Type"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Mouse"},"Mouse"),u.a.createElement("option",{value:"Keyboard"},"Keyboard"),u.a.createElement("option",{value:"Monitor"},"Monitor"),u.a.createElement("option",{value:"Cpu"},"Cpu"),u.a.createElement("option",{value:"Ram"},"Ram"),u.a.createElement("option",{value:"Fan"},"Fan"),u.a.createElement("option",{value:"Motherboard"},"Motherboard"),u.a.createElement("option",{value:"SMPS"},"SMPS"),u.a.createElement("option",{value:"HDD"},"HDD"),u.a.createElement("option",{value:"SMPS"},"SMPS"),u.a.createElement("option",{value:"GCard"},"Gcard"),u.a.createElement("option",{value:"EnetCard"},"Enet Card"),u.a.createElement("option",{value:"SerialCard"},"Serial Card"),u.a.createElement("option",{value:"ParalellCard"},"Paralell Card"),u.a.createElement("option",{value:"OpticalDrive"},"Optical Drive"),u.a.createElement("option",{value:"Others"},"Others")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:le,onChange:function(e){re(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),u.a.createElement("option",{value:"Kottayum"},"Kottayum"),u.a.createElement("option",{value:"Kozhikode"},"Kozhikode")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ue,onChange:function(e){se(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Condition"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Good"},"Good"),u.a.createElement("option",{value:"Bad"},"Bad")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"block relative xl:ml-64"},u.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},u.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},u.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),W(!V)}},u.a.createElement("input",{value:we,onChange:function(e){return xe(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),u.a.createElement(b.TableContainer,{className:"mt-4"},u.a.createElement(b.Table,null,u.a.createElement(b.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(b.TableCell,null,"Type"),u.a.createElement(b.TableCell,null,"Name"),u.a.createElement(b.TableCell,null,"Serial Number"),u.a.createElement(b.TableCell,null,"Location"),u.a.createElement(b.TableCell,null,"Inv Number"),u.a.createElement(b.TableCell,null,"Condition"),u.a.createElement(b.TableCell,null,"Edit/Delete"))),u.a.createElement(b.TableBody,null,z.map((function(e,t){return u.a.createElement(b.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(T==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){S(e._id)}},u.a.createElement(b.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.type)))),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.name)),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.sno)),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.location)),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.invnumber)),u.a.createElement(b.TableCell,null,u.a.createElement(b.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),u.a.createElement(b.TableCell,null,u.a.createElement("div",{className:"flex items-center space-x-4"},u.a.createElement(b.Button,{layout:"link",size:"icon","aria-label":"Edit"},u.a.createElement(f.b,{key:e._id,to:"/app/unit/update/".concat(e._id)},u.a.createElement(d.EditIcon,{className:"w-5 h-5","aria-hidden":"true"}))," "),u.a.createElement(b.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("delete Asset"),n(!0),w(e._id);case 3:case"end":return t.stop()}}),t)})))},u.a.createElement(d.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})))))})))),u.a.createElement(b.TableFooter,null,u.a.createElement(b.Pagination,{totalResults:je,resultsPerPage:10,label:"Table navigation",onChange:function(e){A(e)}})))))}},87:function(e,t,a){},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(3),l=a.n(n),r=a(9),c=a(2),o=a(0),u=a.n(o),s=a(8),i=a.n(s),m=a(1),d=a(92),b=(a(87),a(10));function p(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,s=e.setUnit,p=e.account,E=e.setAccount,f=e.customer,v=e.setCustomer,h=e.refresh,g=e.setRefresh,w=Object(o.useState)([]),x=Object(c.a)(w,2),O=x[0],y=x[1],j=Object(o.useState)([]),C=Object(c.a)(j,2),T=C[0],S=C[1],k=Object(o.useState)([]),N=Object(c.a)(k,2),M=N[0],B=N[1],_=Object(o.useState)(0),F=Object(c.a)(_,2),P=F[0],A=F[1],D=Object(o.useState)(""),I=Object(c.a)(D,2),z=I[0],H=I[1],L=function(e){H(e.target.value)},R=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:z,role:1},e.prev=2,e.next=5,i()({url:"".concat(b.a,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),y(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:z,role:1},e.prev=1,e.next=4,i()({url:"".concat(b.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),y(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var K=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,i.a.post("".concat(b.a,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),S(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,i.a.post("".concat(b.a,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),B(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(m.ModalHeader,null,"Select"," ",0==P?u.a.createElement(u.a.Fragment,null,"Customer"):1==P?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(m.ModalBody,null,u.a.createElement(d.d,{selectedIndex:P,onSelect:function(e){return A(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(m.TableContainer,null,u.a.createElement(m.Table,null,u.a.createElement(m.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,u.a.createElement("form",{onSubmit:R},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:L}))))),u.a.createElement(m.TableBody,null,O.map((function(e,t){return u.a.createElement(m.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},u.a.createElement(m.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(m.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(m.TableContainer,null,u.a.createElement(m.Table,null,u.a.createElement(m.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,"Account"))),u.a.createElement(m.TableBody,null,T.map((function(e,t){return u.a.createElement(m.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return G(e)}},u.a.createElement(m.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(m.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(m.TableContainer,null,u.a.createElement(m.Table,null,u.a.createElement(m.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,"Unit"))),u.a.createElement(m.TableBody,null,M.map((function(e,t){return u.a.createElement(m.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},u.a.createElement(m.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(m.TableFooter,null)))),u.a.createElement(m.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(m.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",p.accountName),u.a.createElement(m.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName)),u.a.createElement(m.ModalFooter,null,u.a.createElement(m.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),g(!h)}},"Select"))))}}}]);
//# sourceMappingURL=42.4d485616.chunk.js.map