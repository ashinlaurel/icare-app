(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[28],{1084:function(e,t,a){"use strict";a.r(t);var l=a(95),n=a(3),r=a.n(n),c=a(10),o=a(2),u=a(0),s=a.n(u),m=(a(18),a(7)),i=a.n(m),d=a(15),b=a(28),p=a(1),E=a(8),f=(a(93),a(30)),v=a(29);t.default=function(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1],Object(u.useState)(0)),n=Object(o.a)(a,2),m=(n[0],n[1],Object(u.useContext)(f.a)),g=(m.bbaropen,m.setBBarOpen,m.setAssetDetails,m.assetdetails,Object(u.useState)(-1)),h=Object(o.a)(g,2),y=h[0],x=h[1],w=Object(u.useContext)(v.a),O=(w.topheading,w.setTopHeading),T=Object(u.useState)(!1),j=Object(o.a)(T,2),C=(j[0],j[1],Object(u.useState)(1)),N=Object(o.a)(C,2),k=N[0],S=N[1],I=Object(u.useState)([]),B=Object(o.a)(I,2),_=B[0],A=B[1],M=Object(u.useState)([]),L=Object(o.a)(M,2),D=L[0],F=L[1],P=Object(u.useState)(!1),z=Object(o.a)(P,2),H=(z[0],z[1],Object(u.useState)(!1)),R=Object(o.a)(H,2),K=(R[0],R[1],Object(u.useState)(!1)),U=Object(o.a)(K,2),G=(U[0],U[1],Object(u.useState)(!0)),V=Object(o.a)(G,2),q=V[0],J=V[1],W=Object(u.useState)(!0),Y=Object(o.a)(W,2),$=(Y[0],Y[1],Object(u.useState)("")),Q=Object(o.a)($,2),X=Q[0],Z=Q[1],ee=Object(u.useState)(""),te=Object(o.a)(ee,2),ae=te[0],le=te[1],ne=Object(u.useState)(""),re=Object(o.a)(ne,2),ce=re[0],oe=re[1],ue=Object(u.useState)(""),se=Object(o.a)(ue,2),me=se[0],ie=se[1],de=Object(u.useState)(new Date),be=Object(o.a)(de,2),pe=be[0],Ee=be[1],fe=Object(u.useState)("Available"),ve=Object(o.a)(fe,2),ge=ve[0],he=ve[1],ye=Object(u.useState)({}),xe=Object(o.a)(ye,2),we=xe[0],Oe=(xe[1],Object(u.useState)("")),Te=Object(o.a)(Oe,2),je=Te[0],Ce=(Te[1],Object(u.useState)("")),Ne=Object(o.a)(Ce,2),ke=(Ne[0],Ne[1],Object(u.useState)("")),Se=Object(o.a)(ke,2),Ie=Se[0],Be=Se[1],_e=Object(u.useState)(!1),Ae=Object(o.a)(_e,2),Me=Ae[0],Le=Ae[1],De=Object(u.useState)(!1),Fe=Object(o.a)(De,2),Pe=Fe[0],ze=Fe[1],He=Object(u.useState)(""),Re=Object(o.a)(He,2),Ke=Re[0],Ue=Re[1],Ge=Object(u.useState)(!1),Ve=Object(o.a)(Ge,2),qe=Ve[0],Je=Ve[1],We=Object(u.useState)([]),Ye=Object(o.a)(We,2),$e=Ye[0],Qe=Ye[1],Xe=Object(u.useState)({_id:"",name:"",aadharNo:"",PANNo:"",GSTNo:""}),Ze=Object(o.a)(Xe,2),et=Ze[0],tt=Ze[1],at=Object(u.useState)(!1),lt=Object(o.a)(at,2),nt=lt[0],rt=lt[1];function ct(){return(ct=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={filters:{searchquery:""}},e.prev=1,e.next=4,i()({url:"".concat(E.a,"/vendor/").concat(d.a.getId(),"/getAll"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data.out),Qe(a.data.out),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}Object(u.useEffect)((function(){!function(){ct.apply(this,arguments)}()}),[]);var ot=Object(u.useState)(20),ut=Object(o.a)(ot,2),st=ut[0],mt=ut[1];function it(e){S(e)}function dt(){return bt.apply(this,arguments)}function bt(){return(bt=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:k,limit:10},filters:{type:X,location:ae,condition:ge,searchtype:je,searchquery:Ie}},e.prev=2,e.next=5,i()({url:"".concat(E.a,"/inventory/").concat(d.a.getId(),"/getall"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),mt(a.data.total),A(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}Object(u.useEffect)((function(){return O("LST"),function(){O("")}}),[]),Object(u.useEffect)((function(){dt()}),[k,ae,ge,X,q]),console.log(we);var pt=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=me){e.next=4;break}return Ue("LST Number necessary"),ze(!0),e.abrupt("return");case 4:if(""!=pe){e.next=8;break}return Ue("Date Necessary"),ze(!0),e.abrupt("return");case 8:if(""!=ae){e.next=12;break}return Ue("From location not selected"),ze(!0),e.abrupt("return");case 12:if(""!=ce){e.next=16;break}return Ue("To location not selected"),ze(!0),e.abrupt("return");case 16:if(0!=D.length){e.next=20;break}return Ue("No items selected"),ze(!0),e.abrupt("return");case 20:return t=[],D.map(function(){var e=Object(c.a)(r.a.mark((function e(a){var l,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.push(a._id),l={histtype:"lst",date:pe,location:"In Transit",callId:"Nil",assetId:"Nil",status:a.condition,note:"Item sent from ".concat(ae," to ").concat(ce)},n={id:a._id,update:{location:"In Transit",caseId:a.caseId,$push:{history:l}}},console.log("PAYLOAD",n),e.prev=4,e.next=7,i()({url:"".concat(E.a,"/inventory/").concat(d.a.getId(),"/invupdate"),method:"POST",data:n});case 7:console.log("Done"),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(4),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()),a={from:ae,to:ce,LSTNo:me,date:pe,invItems:t,status:"In Transit"},""!=et._id&&(console.log("here"),a.vendorId=et._id,a.vendorName=et.name),console.log("LST",a),e.prev=25,e.next=28,i()({url:"".concat(E.a,"/lst/").concat(d.a.getId(),"/create"),method:"POST",data:a});case 28:console.log("Done"),Ue("LST Submitted"),ze(!0),F([]),dt(),e.next=39;break;case 35:throw e.prev=35,e.t0=e.catch(25),console.log(e.t0),e.t0;case 39:case"end":return e.stop()}}),e,null,[[25,35]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-64 mt-4"},s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mr-2 flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mx-1 my-1  "},"From"),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ae,onChange:function(e){le(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),s.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),s.a.createElement("option",{value:"Kottayam"},"Kottayam"),s.a.createElement("option",{value:"Kozhikode"},"Kozhikode")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mx-1 my-1 "},"To"),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ce,onChange:function(e){oe(e.target.value),"Vendor"==e.target.value?rt(!0):rt(!1)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),s.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),s.a.createElement("option",{value:"Kottayam"},"Kottayam"),s.a.createElement("option",{value:"Kozhikode"},"Kozhikode"),s.a.createElement("option",{value:"Vendor"},"Vendor")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),nt?s.a.createElement("div",{className:"mx-2"},s.a.createElement(p.Button,{layout:"outline",className:"w-full",onClick:function(){return Je(!0)}},"Select Vendor")):null,s.a.createElement("div",{className:" flex flex-row dark:text-white  "},s.a.createElement("div",{className:" mx-3 my-1 "},"LST No."),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("input",{value:me,onChange:function(e){return ie(e.target.value)},placeholder:"LST No.",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-1 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))),s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:" my-2 "},"Date"),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("input",{type:"date",value:pe,onChange:function(e){return Ee(e.target.value)},placeholder:"LST No.",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))),s.a.createElement("div",{className:"flex flex-row dark:text-white mx-5 "},s.a.createElement(p.Button,{onClick:pt},"Submit"))),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:""},s.a.createElement("div",{class:"mb-1 mt-5 dark:text-white font-semibold "},"Selected Items")),s.a.createElement(p.TableContainer,{className:"mt-4"},s.a.createElement(p.Table,null,s.a.createElement(p.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(p.TableCell,null,"Type"),s.a.createElement(p.TableCell,null,"Name"),s.a.createElement(p.TableCell,null,"Serial Number"),s.a.createElement(p.TableCell,null,"Location"),s.a.createElement(p.TableCell,null,"Inv Number"),s.a.createElement(p.TableCell,null,"Condition"),s.a.createElement(p.TableCell,null,"Case Id"),s.a.createElement(p.TableCell,null,"Remove"))),s.a.createElement(p.TableBody,null,D.map((function(e,t){return s.a.createElement(p.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(y==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){x(t)}},s.a.createElement(p.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.type)))),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.name)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.sno)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.location)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.invnumber)),s.a.createElement(p.TableCell,null,s.a.createElement(p.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),s.a.createElement(p.TableCell,null,s.a.createElement("input",{value:e.caseId,onChange:function(t){var a=D;a=a.filter((function(a){if(a._id!=e._id)return a;console.log("here",t.target.value);var l=a;return l.caseId=t.target.value,l})),console.log(a),F(a)},defaultValue:"Imprest",placeholder:"Cse Id.",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-1 pr-1 py-1 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})),s.a.createElement(p.TableCell,null,s.a.createElement("div",{className:" py-1",onClick:function(){var t=[].concat(Object(l.a)(_),[e]);A(t);var a=D;a=a.filter((function(t){return t._id!=e._id})),F(a)}},s.a.createElement(b.TrashIcon,{className:"w-5 h-5 cursor-pointer m-2 text-2xl",fill:"maroon","aria-hidden":"true"}))))})))))),s.a.createElement("div",{className:"my-5"},s.a.createElement(p.Button,{onClick:function(){if(""==ae||""==ce)return Ue("Select From and To Locations"),void ze(!0);Le(!0)}},"Add Product from Inventory")),Me?s.a.createElement("div",{className:"dark:bg-gray-700 bg-gray-100 px-2 py-2 rounded-lg"},s.a.createElement("div",{className:""},s.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:X,onChange:function(e){Z(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Item Type"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"mouse"},"Mouse"),s.a.createElement("option",{value:"keyboard"},"Keyboard"),s.a.createElement("option",{value:"monitor"},"Monitor"),s.a.createElement("option",{value:"cpu"},"Cpu"),s.a.createElement("option",{value:"ram"},"Ram"),s.a.createElement("option",{value:"fan"},"Fan"),s.a.createElement("option",{value:"motherboard"},"Motherboard"),s.a.createElement("option",{value:"smps"},"SMPS"),s.a.createElement("option",{value:"hdd"},"HDD"),s.a.createElement("option",{value:"gcard"},"Gcard"),s.a.createElement("option",{value:"enetcard"},"Enet Card"),s.a.createElement("option",{value:"serialcard"},"Serial Card"),s.a.createElement("option",{value:"paralellcard"},"Paralell Card"),s.a.createElement("option",{value:"opticaldrive"},"Optical Drive"),s.a.createElement("option",{value:"others"},"Others")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ge,onChange:function(e){he(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0},"Condition"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"Good"},"Good"),s.a.createElement("option",{value:"Bad"},"Bad"),s.a.createElement("option",{value:"Used"},"Used"),s.a.createElement("option",{value:"Available",selected:!0},"Available"),s.a.createElement("option",{value:"Defective"},"Defective"),s.a.createElement("option",{value:"Damaged"},"Damaged"),s.a.createElement("option",{value:"DOA"},"DOA")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"block relative xl:ml-64"},s.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},s.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},s.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),J(!q)}},s.a.createElement("input",{value:Ie,onChange:function(e){return Be(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),s.a.createElement(p.TableContainer,{className:"mt-4"},s.a.createElement(p.Table,null,s.a.createElement(p.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(p.TableCell,null,"Category"),s.a.createElement(p.TableCell,null,"Description"),s.a.createElement(p.TableCell,null,"Serial Number"),s.a.createElement(p.TableCell,null,"Location"),s.a.createElement(p.TableCell,null,"Stock Type"),s.a.createElement(p.TableCell,null,"Wty."),s.a.createElement(p.TableCell,null,"Status"),s.a.createElement(p.TableCell,null,"Add"))),s.a.createElement(p.TableBody,null,_.map((function(e,t){return s.a.createElement(p.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(y==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){x(t)}},s.a.createElement(p.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.type)))),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.name)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.sno)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.location)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.stocktype)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.expirydate)),s.a.createElement(p.TableCell,null,s.a.createElement(p.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),s.a.createElement(p.TableCell,null,s.a.createElement(p.Button,{layout:"outline",className:"dark:border-green-700 border-green-400",onClick:function(){var t=!1,a=_;if(a=a.filter((function(t){return t._id!=e._id})),console.log(a),A(a),D.map((function(a){a._id==e._id&&(console.log(a._id,e._id),Ue("Product already Added!"),ze(!0),t=!0)})),!t){e.caseId="imprest";var n=[].concat(Object(l.a)(D),[e]);F(n)}}},"Add")))})))),s.a.createElement(p.TableFooter,null,s.a.createElement(p.Pagination,{totalResults:st,resultsPerPage:10,label:"Table navigation",onChange:it})))):null),s.a.createElement(s.a.Fragment,null,s.a.createElement(p.Modal,{isOpen:Pe,onClose:function(){return ze(!1)}},s.a.createElement(p.ModalHeader,null,Ke),s.a.createElement(p.ModalBody,null),s.a.createElement(p.ModalFooter,null,s.a.createElement(p.Button,{className:"w-full sm:w-auto",onClick:function(){return ze(!1)}},"Okay!")))),s.a.createElement(s.a.Fragment,null,s.a.createElement(p.Modal,{isOpen:qe,onClose:function(){return Je(!1)}},s.a.createElement(p.ModalHeader,null,"Pink Vendor"),s.a.createElement(p.ModalBody,null,s.a.createElement(p.TableContainer,null,s.a.createElement(p.Table,null,s.a.createElement(p.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(p.TableCell,null,"Customer"))),s.a.createElement(p.TableBody,null,$e.map((function(e,t){return s.a.createElement(p.TableRow,{key:t,className:"hover:bg-purple-900 ",onClick:function(){console.log(e),tt(e),Je(!1)}},s.a.createElement(p.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))))),s.a.createElement(p.ModalFooter,null,s.a.createElement(p.Button,{className:"w-full sm:w-auto",onClick:function(){return Je(!1)}},"Okay!")))))}},87:function(e,t,a){},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var l=a(3),n=a.n(l),r=a(10),c=a(2),o=a(0),u=a.n(o),s=a(7),m=a.n(s),i=a(1),d=a(91),b=(a(87),a(8));function p(e){var t=e.isModalOpen,a=e.setIsModalOpen,l=e.unit,s=e.setUnit,p=e.account,E=e.setAccount,f=e.customer,v=e.setCustomer,g=e.refresh,h=e.setRefresh,y=Object(o.useState)([]),x=Object(c.a)(y,2),w=x[0],O=x[1],T=Object(o.useState)([]),j=Object(c.a)(T,2),C=j[0],N=j[1],k=Object(o.useState)([]),S=Object(c.a)(k,2),I=S[0],B=S[1],_=Object(o.useState)(0),A=Object(c.a)(_,2),M=A[0],L=A[1],D=Object(o.useState)(""),F=Object(c.a)(D,2),P=F[0],z=F[1],H=function(e){z(e.target.value)},R=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:P,role:1},e.prev=2,e.next=5,m()({url:"".concat(b.a,"/customer/customers"),method:"POST",data:a});case 5:l=e.sent,console.log(l.data),O(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:P,role:1},e.prev=1,e.next=4,m()({url:"".concat(b.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),O(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var K=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(b.a,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),N(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(b.a,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),B(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(i.ModalHeader,null,"Select"," ",0==M?u.a.createElement(u.a.Fragment,null,"Customer"):1==M?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(i.ModalBody,null,u.a.createElement(d.d,{selectedIndex:M,onSelect:function(e){return L(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,u.a.createElement("form",{onSubmit:R},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:H}))))),u.a.createElement(i.TableBody,null,w.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Account"))),u.a.createElement(i.TableBody,null,C.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Unit"))),u.a.createElement(i.TableBody,null,I.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return G(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(i.TableFooter,null)))),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",p.accountName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",l.unitName)),u.a.createElement(i.ModalFooter,null,u.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),h(!g)}},"Select"))))}},95:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a(22);var n=a(31);function r(e){return function(e){if(Array.isArray(e))return Object(l.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=28.cebd4033.chunk.js.map