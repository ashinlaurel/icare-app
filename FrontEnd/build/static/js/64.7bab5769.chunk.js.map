{"version":3,"sources":["pages/Inventory/CreateInvent.js"],"names":["CreateInvent","useContext","TopBarContext","setTopHeading","topheading","useState","messageModal","setMessageModal","modalMessage","setModalMessage","itemType","setItemType","condition","setCondition","location","setLocation","name","sno","invnumber","values","setValues","type","takenFrom","caseId","err","setErr","useEffect","handleChange","e","target","value","submitItem","a","console","log","newitem","toLowerCase","Axios","url","API","Emp","getId","method","data","then","_id","catch","className","onChange","valid","onClick","aria-label","aria-haspopup","isOpen","onClose"],"mappings":"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","file":"static/js/64.7bab5769.chunk.js","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\nimport Emp from \"../../helpers/auth/EmpProfile\";\n\nimport {\n  Input,\n  HelperText,\n  Label,\n  Button,\n  Badge,\n  Select,\n} from \"@windmill/react-ui\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"@windmill/react-ui\"\n\nimport { TopBarContext } from \"../../context/TopBarContext\";\nimport { API } from \"../../backendapi\";\nimport Axios from \"axios\";\n\nconst CreateInvent = () => {\n  const { topheading, setTopHeading } = useContext(TopBarContext);\n  const [messageModal, setMessageModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState(\"\");\n  const [itemType, setItemType] = useState(\"Mouse\");\n  const [condition, setCondition] = useState(\"Good\");\n  const [location, setLocation] = useState(\"Trivandrum\");\n  const [values, setValues] = useState({\n    name: \"\",\n    sno: \"\",\n    invnumber: \"\",\n  });\n  const [err, setErr] = useState({\n    type: \"\",\n    name: \"\",\n    sno: \"\",\n    condition: \"\",\n    location: \"\",\n    // invnumber: \"\",\n    takenFrom:\"\",\n    caseId:\"\"\n  });\n\n  useEffect(() => {\n    setTopHeading(\"Create Item\");\n    return () => {\n      setTopHeading(\"\");\n    };\n  }, []);\n\n  const handleChange = (name) => (e) => {\n    setValues({ ...values, [name]: e.target.value });\n  };\n\n  const submitItem = async () => {\n    if (values.name === \"\") {\n        setModalMessage(\"Product name necessary\");\n        setMessageModal(true);\n        console.log(\"missing inputs\");\n        return;\n    }\n    if ( values.sno === \"\" ) {\n      setModalMessage(\"Serial number necessary\");\n      setMessageModal(true);\n      console.log(\"missing inputs\");\n      return;\n  }\n    const newitem = {\n      name: values.name,\n      sno: values.sno,\n      type: itemType.toLowerCase(),\n      condition: condition,\n      location: location,\n      invnumber: values.invnumber,\n    };\n    await Axios({\n      url: `${API}/inventory/${Emp.getId()}/create`,\n      method: \"POST\",\n      data: newitem,\n    })\n      .then((data) => {\n        console.log(\"Added\", data._id);\n        setModalMessage(\"Added to Inventory\");\n        setMessageModal(true);\n        // setIsReviewModalOpen(true);\n        setValues({ name: \"\", sno: \"\", invnumber: \"\" });\n        setErr({\n          type: \"\",\n          name: \"\",\n          sno: \"\",\n          condition: \"\",\n          location: \"\",\n          invnumber: \"\",\n        });\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n        setErr({ ...err });\n      });\n  };\n\n  const messageModalComponent = () => {\n    return (\n      <>\n        <Modal isOpen={messageModal} onClose={() => setMessageModal(false)}>\n          <ModalHeader>{modalMessage}</ModalHeader>\n          <ModalBody></ModalBody>\n          <ModalFooter>\n            <Button\n              className=\"w-full sm:w-auto\"\n              onClick={() => setMessageModal(false)}\n            >\n              Okay!\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"px-4 py-3 mt-4 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n      <Label className=\"font-bold\">\n        <span>Add Item To Inventory</span>\n      </Label>\n      <hr className=\"mb-5 mt-2\" />\n      {/* ------------------------Row 1-------------------------- */}\n      <div className=\"flex-row flex space-x-3\">\n        <div className=\"flex flex-col w-full\">\n          <Label className=\"w-full\">\n            <span>Select Type*</span>\n            <Select\n              className=\"mt-1\"\n              onChange={(e) => {\n                setItemType(e.target.value);\n              }}\n            >\n              <option value=\"Mouse\">Mouse</option>\n              <option value=\"Kbd\">Keyboard</option>\n              <option value=\"Monitor\">Monitor</option>\n              <option value=\"Cpu\">Cpu</option>\n              <option value=\"Ram\">Ram</option>\n              <option value=\"Fan\">Fan</option>\n              <option value=\"Motherboard\">Motherboard</option>\n              <option value=\"SMPS\">SMPS</option>\n              <option value=\"HDD\">HDD</option>\n              <option value=\"SMPS\">SMPS</option>\n              <option value=\"GCard\">Gcard</option>\n              <option value=\"EnetCard\">Enet Card</option>\n              <option value=\"SerialCard\">Serial Card</option>\n              <option value=\"ParalellCard\">Paralell Card</option>\n              <option value=\"OpticalDrive\">Optical Drive</option>\n              <option value=\"Others\">Others</option>\n            </Select>\n          </Label>\n        </div>\n\n        <>\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Product Name*</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={values.name}\n                onChange={handleChange(\"name\")}\n              />\n            </Label>\n            <HelperText valid={false}>{err.name}</HelperText>\n          </div>\n        </>\n\n        <div className=\"flex flex-col w-full\">\n          <Label className=\"w-full\">\n            <span>Serial Number*</span>\n            <Input\n              className=\"mt-1\"\n              type=\"text\"\n              value={values.sno}\n              onChange={handleChange(\"sno\")}\n            />\n          </Label>\n          <HelperText valid={false}>{err.sno}</HelperText>\n        </div>\n\n        <div className=\"flex flex-col w-full\">\n          <Label className=\"w-full\">\n            <span>Select Condition*</span>\n            <Select\n              className=\"mt-1\"\n              onChange={(e) => {\n                setCondition(e.target.value);\n              }}\n            >\n              <option value=\"Good\">Good</option>\n              <option value=\"Bad\">Bad</option>\n            </Select>\n          </Label>\n        </div>\n      </div>\n      {/* ----------------------Row 2 ----------------------------- */}\n      <div className=\"flex-row flex space-x-3 my-2\">\n        <div className=\"flex flex-col w-full\">\n          <Label className=\"w-full\">\n            <span>Select Location*</span>\n            <Select\n              className=\"mt-1\"\n              onChange={(e) => {\n                setLocation(e.target.value);\n              }}\n            >\n              <option value=\"Trivandrum\">Trivandrum</option>\n              <option value=\"Kottayam\">Kottayam</option>\n              <option value=\"Kozhikode\">Kozhikode</option>\n            </Select>\n          </Label>\n        </div>\n        <div className=\"flex flex-col w-full\">\n          <Label className=\"w-full\">\n            <span>Taken From</span>\n            <Input\n              className=\"mt-1\"\n              type=\"text\"\n              value={values.takenFrom}\n              onChange={handleChange(\"takenFrom\")}\n            />\n          </Label>\n          {/* <HelperText valid={false}>{err.invnumber}</HelperText> */}\n        </div>\n        <div className=\"flex flex-col w-full\">\n          <Label className=\"w-full\">\n            <span>Case ID</span>\n            <Input\n              className=\"mt-1\"\n              type=\"text\"\n              value={values.caseId}\n              onChange={handleChange(\"caseId\")}\n            />\n          </Label>\n          {/* <HelperText valid={false}>{err.invnumber}</HelperText> */}\n        </div>\n      </div>\n      {/* ///////////////////////////////////////////////////////// */}\n      {/* <Label className=\"font-bold mt-5 mb-2\">\n      <span>Additional Information</span>\n    </Label> */}\n      {/* <hr /> */}\n\n      {/* ///////////////////////////////////////////////////////// */}\n\n      <Button\n        onClick={() => {\n          submitItem();\n        }}\n        aria-label=\"Notifications\"\n        aria-haspopup=\"true\"\n        className=\"mt-4\"\n      >\n        {\" \"}\n        Add Item\n      </Button>\n      {messageModalComponent()}\n    </div>\n    \n  );\n};\n\nexport default CreateInvent;\n"],"sourceRoot":""}