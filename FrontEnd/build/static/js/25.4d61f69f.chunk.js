(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[25],{1066:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(9),c=a(2),o=a(0),s=a.n(o),u=a(19),m=a.n(u),i=a(8),d=a.n(i),E=a(15),b=a(28),p=a(1),f=a(10),v=(a(94),a(30)),g=a(6),x=a(29),h=a(966);t.default=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],u=Object(o.useState)(0),i=Object(c.a)(u,2),y=i[0],w=i[1],O=Object(o.useState)(!1),j=Object(c.a)(O,2),C=j[0],N=j[1],T=Object(o.useState)(0),S=Object(c.a)(T,2),k=S[0],M=S[1],B=Object(o.useContext)(v.a),P=(B.bbaropen,B.setBBarOpen),A=B.setAssetDetails,D=(B.assetdetails,Object(o.useState)(0)),_=Object(c.a)(D,2),F=_[0],I=_[1],z=Object(o.useContext)(x.a),H=(z.topheading,z.setTopHeading),L=Object(o.useState)(!1),R=Object(c.a)(L,2),G=(R[0],R[1],Object(o.useState)(1)),U=Object(c.a)(G,2),K=U[0],J=U[1],V=Object(o.useState)([]),Y=Object(c.a)(V,2),q=Y[0],W=Y[1],Q=Object(o.useState)(!1),X=Object(c.a)(Q,2),Z=(X[0],X[1],Object(o.useState)(!1)),$=Object(c.a)(Z,2),ee=($[0],$[1],Object(o.useState)(!1)),te=Object(c.a)(ee,2),ae=(te[0],te[1],Object(o.useState)(!0)),le=Object(c.a)(ae,2),ne=le[0],re=le[1],ce=Object(o.useState)(!0),oe=Object(c.a)(ce,2),se=(oe[0],oe[1],Object(o.useState)("")),ue=Object(c.a)(se,2),me=ue[0],ie=ue[1],de=Object(o.useState)(""),Ee=Object(c.a)(de,2),be=Ee[0],pe=Ee[1],fe=Object(o.useState)(""),ve=Object(c.a)(fe,2),ge=ve[0],xe=ve[1],he=Object(o.useState)({}),ye=Object(c.a)(he,2),we=ye[0],Oe=(ye[1],Object(o.useState)("")),je=Object(c.a)(Oe,2),Ce=je[0],Ne=(je[1],Object(o.useState)("")),Te=Object(c.a)(Ne,2),Se=(Te[0],Te[1],Object(o.useState)("")),ke=Object(c.a)(Se,2),Me=ke[0],Be=ke[1],Pe=Object(o.useState)(20),Ae=Object(c.a)(Pe,2),De=Ae[0],_e=Ae[1];return Object(o.useEffect)((function(){return function(){P(0),A({})}}),[]),Object(o.useEffect)((function(){return H("Inventory"),function(){H("")}}),[]),Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:K,limit:10},filters:{type:me,location:be,condition:ge,searchtype:Ce,searchquery:Me}},e.prev=2,e.next=5,d()({url:"".concat(f.a,"/inventory/").concat(E.a.getId(),"/getall"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),_e(a.data.total),W(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}()()}),[K,be,ge,me,ne]),console.log(we),s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(p.Modal,{isOpen:a,onClose:function(){return l(!1)}},s.a.createElement(p.ModalHeader,null,"Are you sure you want to delete!"),s.a.createElement(p.ModalBody,null),s.a.createElement(p.ModalFooter,null,s.a.createElement(p.Button,{className:"w-full sm:w-auto",onClick:Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"".concat(f.a,"/inventory/").concat(E.a.getId(),"/delete"),method:"POST",data:{id:y}});case 3:t=e.sent,console.log(t.data),a=q.filter((function(e){return e._id!=y})),W(a),l(!1),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))},"Confirm Delete")))),function(){if(q[k]){var e=q[k];return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.Modal,{isOpen:C,onClose:function(){return N(!1)},className:"w-8/12 dark:bg-gray-800 p-10 my-12  bg-gray-50 text-gray-900 dark:text-white  rounded-lg overflow-y-scroll"},s.a.createElement(p.ModalHeader,{className:"flex flex-row justify-between text-xl"},s.a.createElement("div",null,e.name),s.a.createElement("div",null,"Condition: ",s.a.createElement(p.Badge,null,e.condition)," ")),s.a.createElement(p.ModalBody,null,s.a.createElement("div",{className:"font-semibold text-xl my-2"},"Product Description"),s.a.createElement("div",{className:"flex flex-col lg:flex-row items-center dark:bg-gray-700 justify-between bg-gray-100 rounded-lg p-5 "},s.a.createElement("div",{className:"my-3  flex-col flex"},s.a.createElement("div",{className:"font-semibold"}," Serial No: ",e.sno),s.a.createElement("div",null,"Invnetory No:",e.invnumber),s.a.createElement("div",null,"Location:",e.location),s.a.createElement("div",null,"GST No: ",e.gstno),s.a.createElement("div",null,"Expiry Date: ",e.expirydate)),s.a.createElement("div",{className:"my-3 font- flex-col flex"},s.a.createElement("span",{className:"font-semibold"},"Type:",e.type),s.a.createElement("div",null,"inventory Date: ",m()(e.invdate).format("DD/MM/YY")),s.a.createElement("div",null,"Purchase Location: ",e.purchlocation),s.a.createElement("div",null,"PAN No: ",e.panno),s.a.createElement("div",null,"Warranty: ",e.wty)),s.a.createElement("div",{className:"my-3  flex-col flex"},s.a.createElement("div",{className:"font-semibold"},"vendor:",e.vendor),s.a.createElement("div",null,"Inventory Type: ",e.invtype),s.a.createElement("div",null,"Purchase type: ",e.purchtype),s.a.createElement("div",null,"Aadhar No: ",e.aadharno))),s.a.createElement("div",{className:"font-semibold text-xl my-2"},"Product Rates"),s.a.createElement("div",{className:"flex flex-col lg:flex-row items-center dark:bg-gray-700 justify-between bg-gray-100 rounded-lg p-5 "},s.a.createElement("div",{className:"my-3  flex-col flex"},s.a.createElement("span",{className:"font-semibold"},"Amount:",e.amount),s.a.createElement("div",{className:"font-semibold"},"Net tax: ",e.nettax),s.a.createElement("div",null,"IGST: ",e.igst),s.a.createElement("div",null,"TCS: ",e.tcs)),s.a.createElement("div",{className:"my-3 font- flex-col flex"},s.a.createElement("div",{className:"font-semibold"},"Rate: ",e.rate),s.a.createElement("span",null,"Tax Category:",e.taxcategory),s.a.createElement("div",null,"CGST : ",e.cgst)),s.a.createElement("div",{className:"my-3  flex-col flex"},s.a.createElement("div",{className:"font-semibold"},"Invoice Amount:",e.invamount),s.a.createElement("div",null,"Tax percentage: ",e.taxperc),s.a.createElement("div",null,"SGST: ",e.sgst))),s.a.createElement("div",{className:"flex flex-col lg:flex-row items-center justify-between"})),s.a.createElement(p.ModalFooter,null)))}}(),s.a.createElement("div",{className:"mb-64 mt-4"},s.a.createElement("div",{className:""},s.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:me,onChange:function(e){ie(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Item Type"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"Mouse"},"Mouse"),s.a.createElement("option",{value:"Keyboard"},"Keyboard"),s.a.createElement("option",{value:"Monitor"},"Monitor"),s.a.createElement("option",{value:"Cpu"},"Cpu"),s.a.createElement("option",{value:"Ram"},"Ram"),s.a.createElement("option",{value:"Fan"},"Fan"),s.a.createElement("option",{value:"Motherboard"},"Motherboard"),s.a.createElement("option",{value:"SMPS"},"SMPS"),s.a.createElement("option",{value:"HDD"},"HDD"),s.a.createElement("option",{value:"SMPS"},"SMPS"),s.a.createElement("option",{value:"GCard"},"Gcard"),s.a.createElement("option",{value:"EnetCard"},"Enet Card"),s.a.createElement("option",{value:"SerialCard"},"Serial Card"),s.a.createElement("option",{value:"ParalellCard"},"Paralell Card"),s.a.createElement("option",{value:"OpticalDrive"},"Optical Drive"),s.a.createElement("option",{value:"Others"},"Others")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:be,onChange:function(e){pe(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),s.a.createElement("option",{value:"Kottayam"},"Kottayam"),s.a.createElement("option",{value:"Kozhikode"},"Kozhikode")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ge,onChange:function(e){xe(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Condition"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"Good"},"Good"),s.a.createElement("option",{value:"Bad"},"Bad"),s.a.createElement("option",{value:"Used"},"Used")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"block relative xl:ml-64"},s.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},s.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},s.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),re(!ne)}},s.a.createElement("input",{value:Me,onChange:function(e){return Be(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),s.a.createElement(p.TableContainer,{className:"mt-4"},s.a.createElement(p.Table,null,s.a.createElement(p.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(p.TableCell,null,"Type"),s.a.createElement(p.TableCell,null,"Name"),s.a.createElement(p.TableCell,null,"Serial Number"),s.a.createElement(p.TableCell,null,"Location"),s.a.createElement(p.TableCell,null,"Inv Number"),s.a.createElement(p.TableCell,null,"Condition"),s.a.createElement(p.TableCell,null,"View"),s.a.createElement(p.TableCell,null,"Edit/Delete"))),s.a.createElement(p.TableBody,null,q.map((function(e,t){return s.a.createElement(p.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(F==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){I(e._id)}},s.a.createElement(p.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},Object(h.capitalize)(e.type))))),s.a.createElement(p.TableCell,null,"item"==e.systype?s.a.createElement("span",{className:"text-sm"},e.name):s.a.createElement("span",{className:"text-sm"},e.brand+e.model)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.sno)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.location)),s.a.createElement(p.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.invnumber)),s.a.createElement(p.TableCell,null,s.a.createElement(p.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),s.a.createElement(p.TableCell,null,s.a.createElement(p.Button,{onClick:function(){M(t),N(!0)},layout:"outline"},"View")),s.a.createElement(p.TableCell,null,s.a.createElement("div",{className:"flex items-center space-x-4"},s.a.createElement(p.Button,{layout:"link",size:"icon","aria-label":"Edit"},s.a.createElement(g.b,{key:e._id,to:"/app/inventory/update/".concat(e._id)},s.a.createElement(b.EditIcon,{className:"w-5 h-5","aria-hidden":"true"}))," "),s.a.createElement(p.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("delete Asset"),l(!0),w(e._id);case 3:case"end":return t.stop()}}),t)})))},s.a.createElement(b.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})))))})))),s.a.createElement(p.TableFooter,null,s.a.createElement(p.Pagination,{totalResults:De,resultsPerPage:10,label:"Table navigation",onChange:function(e){J(e)}})))))}},87:function(e,t,a){},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var l=a(3),n=a.n(l),r=a(9),c=a(2),o=a(0),s=a.n(o),u=a(8),m=a.n(u),i=a(1),d=a(92),E=(a(87),a(10));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,l=e.unit,u=e.setUnit,b=e.account,p=e.setAccount,f=e.customer,v=e.setCustomer,g=e.refresh,x=e.setRefresh,h=Object(o.useState)([]),y=Object(c.a)(h,2),w=y[0],O=y[1],j=Object(o.useState)([]),C=Object(c.a)(j,2),N=C[0],T=C[1],S=Object(o.useState)([]),k=Object(c.a)(S,2),M=k[0],B=k[1],P=Object(o.useState)(0),A=Object(c.a)(P,2),D=A[0],_=A[1],F=Object(o.useState)(""),I=Object(c.a)(F,2),z=I[0],H=I[1],L=function(e){H(e.target.value)},R=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:z,role:1},e.prev=2,e.next=5,m()({url:"".concat(E.a,"/customer/customers"),method:"POST",data:a});case 5:l=e.sent,console.log(l.data),O(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:z,role:1},e.prev=1,e.next=4,m()({url:"".concat(E.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),O(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var G=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),p({_id:"",accountName:""}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.a,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),T(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),p({_id:t._id,accountName:t.name}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.a,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),B(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),u({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},s.a.createElement(i.ModalHeader,null,"Select"," ",0==D?s.a.createElement(s.a.Fragment,null,"Customer"):1==D?s.a.createElement(s.a.Fragment,null,"Account"):s.a.createElement(s.a.Fragment,null,"Unit")),s.a.createElement(i.ModalBody,null,s.a.createElement(d.d,{selectedIndex:D,onSelect:function(e){return _(e)}},s.a.createElement(d.b,null,s.a.createElement(d.a,null,"Customer"),s.a.createElement(d.a,null,"Account"),s.a.createElement(d.a,null,"Unit")),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Customer")),s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,s.a.createElement("form",{onSubmit:R},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:L}))))),s.a.createElement(i.TableBody,null,w.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return G(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Account"))),s.a.createElement(i.TableBody,null,N.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Unit"))),s.a.createElement(i.TableBody,null,M.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),s.a.createElement(i.TableFooter,null)))),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",l.unitName)),s.a.createElement(i.ModalFooter,null,s.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),x(!g)}},"Select"))))}},966:function(e,t){t.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}}}]);
//# sourceMappingURL=25.4d61f69f.chunk.js.map