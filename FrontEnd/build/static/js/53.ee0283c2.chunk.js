(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[53],{1223:function(e,t,a){"use strict";a.r(t);var l=a(16),n=a(5),r=a.n(n),c=a(12),o=a(3),u=a(0),s=a.n(u),m=a(20),i=a.n(m),d=a(9),p=a.n(d),b=a(18),E=a(36),v=a(2),f=a(199),g=(a(193),a(10)),h=(a(202),a(44)),x=a(43),y=a(37);t.default=function(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1],Object(u.useState)(0)),n=Object(o.a)(a,2),m=(n[0],n[1],Object(u.useContext)(h.a)),d=(m.bbaropen,m.setBBarOpen,m.setAssetDetails,m.assetdetails,Object(u.useState)("")),w=Object(o.a)(d,2),N=w[0],C=w[1],O=Object(u.useState)(-1),T=Object(o.a)(O,2),j=T[0],k=T[1],S=Object(u.useContext)(x.a),I=(S.topheading,S.setTopHeading),M=Object(u.useState)(!1),L=Object(o.a)(M,2),A=(L[0],L[1],Object(u.useState)(1)),P=Object(o.a)(A,2),_=P[0],B=P[1],F=Object(u.useState)([]),D=Object(o.a)(F,2),R=D[0],z=D[1],K=Object(u.useState)([]),Y=Object(o.a)(K,2),H=Y[0],U=Y[1],V=Object(u.useState)(!1),G=Object(o.a)(V,2),q=(G[0],G[1],Object(u.useState)(!1)),J=Object(o.a)(q,2),W=(J[0],J[1],Object(u.useState)(!1)),$=Object(o.a)(W,2),Q=($[0],$[1],Object(u.useState)(!0)),X=Object(o.a)(Q,2),Z=X[0],ee=X[1],te=Object(u.useState)(!0),ae=Object(o.a)(te,2),le=(ae[0],ae[1],Object(u.useState)("Normal")),ne=Object(o.a)(le,2),re=ne[0],ce=ne[1],oe=Object(u.useState)(""),ue=Object(o.a)(oe,2),se=ue[0],me=ue[1],ie=Object(u.useState)(""),de=Object(o.a)(ie,2),pe=de[0],be=de[1],Ee=Object(u.useState)(""),ve=Object(o.a)(Ee,2),fe=ve[0],ge=ve[1],he=Object(u.useState)(""),xe=Object(o.a)(he,2),ye=xe[0],we=xe[1],Ne=Object(u.useState)(i()().format()),Ce=Object(o.a)(Ne,2),Oe=Ce[0],Te=Ce[1],je=Object(u.useState)("Available"),ke=Object(o.a)(je,2),Se=ke[0],Ie=ke[1],Me=Object(u.useState)({}),Le=Object(o.a)(Me,2),Ae=Le[0],Pe=(Le[1],Object(u.useState)("")),_e=Object(o.a)(Pe,2),Be=_e[0],Fe=(_e[1],Object(u.useState)("")),De=Object(o.a)(Fe,2),Re=(De[0],De[1],Object(u.useState)("")),ze=Object(o.a)(Re,2),Ke=ze[0],Ye=ze[1],He=Object(u.useState)(!1),Ue=Object(o.a)(He,2),Ve=Ue[0],Ge=Ue[1],qe=Object(u.useState)(!1),Je=Object(o.a)(qe,2),We=Je[0],$e=Je[1],Qe=Object(u.useState)(""),Xe=Object(o.a)(Qe,2),Ze=Xe[0],et=Xe[1],tt=Object(u.useState)(!1),at=Object(o.a)(tt,2),lt=at[0],nt=at[1],rt=Object(u.useState)([]),ct=Object(o.a)(rt,2),ot=ct[0],ut=ct[1],st={_id:"",name:"",aadharNo:"",PANNo:"",GSTNo:""},mt=Object(u.useState)(st),it=Object(o.a)(mt,2),dt=it[0],pt=it[1],bt=Object(u.useState)(!1),Et=Object(o.a)(bt,2),vt=Et[0],ft=Et[1],gt=Object(u.useState)({_id:"",unitName:""}),ht=Object(o.a)(gt,2),xt=ht[0],yt=ht[1],wt=Object(u.useState)({_id:"",customerName:""}),Nt=Object(o.a)(wt,2),Ct=Nt[0],Ot=Nt[1],Tt=Object(u.useState)({_id:"",accountName:""}),jt=Object(o.a)(Tt,2),kt=jt[0],St=jt[1],It=Object(u.useState)(!1),Mt=Object(o.a)(It,2),Lt=Mt[0],At=Mt[1],Pt={type:"",name:"",sno:"",condition:"Good",invnumber:"",location:"In Transit",caseId:"imprest",systype:"item"},_t=Object(u.useState)([Pt]),Bt=Object(o.a)(_t,2),Ft=Bt[0],Dt=Bt[1];function Rt(){return(Rt=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={filters:{searchquery:N}},e.prev=1,e.next=4,p()({url:"".concat(g.API,"/vendor/").concat(b.a.getId(),"/getAll"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data.out),ut(a.data.out),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}Object(u.useEffect)((function(){!function(){Rt.apply(this,arguments)}()}),[N]);var zt=Object(u.useState)(20),Kt=Object(o.a)(zt,2),Yt=Kt[0],Ht=Kt[1];function Ut(e){B(e)}var Vt=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var l,n,c,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,a),""!=a&&""!=t){e.next=3;break}return e.abrupt("return");case 3:return l={from:a,date:t},n=0,e.prev=5,e.next=8,p()({url:"".concat(g.API,"/lst/").concat(b.a.getId(),"/lstbydate"),method:"POST",data:l});case 8:n=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),e.t0;case 14:c="Trivandrum"==a?"TVM":"Kottayam"==a?"KTM":"CLT",o=i()(t).format("YY"),i()(t).format("MM"),i()(t).format("DD"),(u=n.data+1)<10?u="00"+u:u<100&&(u="0"+u),console.log(n.data),we("ICS"+c+o+u);case 23:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,a){return e.apply(this,arguments)}}();function Gt(){return qt.apply(this,arguments)}function qt(){return(qt=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:_,limit:10},filters:{type:se,location:pe,condition:Se,searchtype:Be,searchquery:Ke}},e.prev=2,e.next=5,p()({url:"".concat(g.API,"/inventory/").concat(b.a.getId(),"/getall"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),Ht(a.data.total),z(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}Object(u.useEffect)((function(){return I("LST"),function(){I("")}}),[]),Object(u.useEffect)((function(){Gt()}),[_,pe,Se,se,Z]),console.log(Ae);var Jt=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=ye){e.next=4;break}return et("LST Number necessary"),$e(!0),e.abrupt("return");case 4:if(""!=Oe){e.next=8;break}return et("Date Necessary"),$e(!0),e.abrupt("return");case 8:if(""!=pe){e.next=12;break}return et("From location not selected"),$e(!0),e.abrupt("return");case 12:if(""!=fe){e.next=16;break}return et("To location not selected"),$e(!0),e.abrupt("return");case 16:if("CMRR"!=re){e.next=20;break}return console.log(Ft),Wt(),e.abrupt("return");case 20:if(0!=H.length){e.next=24;break}return et("No items selected"),$e(!0),e.abrupt("return");case 24:if("Customer"!=re){e.next=37;break}if(""!=Ct._id){e.next=29;break}return et("Customer Not Selcted"),$e(!0),e.abrupt("return");case 29:if(""!=kt._id){e.next=33;break}return et("Account Not Selcted"),$e(!0),e.abrupt("return");case 33:if(""!=xt._id){e.next=37;break}return et("Unit Not Selcted"),$e(!0),e.abrupt("return");case 37:return t=[],H.map(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push(a._id);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a={from:pe,to:fe,LSTNo:ye,date:Oe,invItems:t,status:"In Transit",LSTtype:re},"Customer"==re&&(a.unitId=xt._id,a.unitName=xt.unitName,a.accountId=kt._id,a.accountName=kt.accountName,a.customerId=Ct._id,a.customerName=Ct.customerName),""!=dt._id&&(console.log("here"),a.vendorId=dt._id,a.vendorName=dt.name),console.log("LST",a),e.prev=43,e.next=46,p()({url:"".concat(g.API,"/lst/").concat(b.a.getId(),"/create"),method:"POST",data:a});case 46:H.map(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={histtype:"lst",date:Oe,location:"In Transit",callId:"Nil",assetId:"Nil",status:t.condition,note:"Item sent from ".concat(pe," to ").concat(fe)},l={id:t._id,update:{location:"In Transit",caseId:t.caseId,$push:{history:a},LSTtype:re,LSTCustomer:""}},"Customer"==re&&(l.update.LSTCustomer=Ct),console.log("PAYLOAD",l),e.prev=4,e.next=7,p()({url:"".concat(g.API,"/inventory/").concat(b.a.getId(),"/invupdate"),method:"POST",data:l});case 7:console.log("Done"),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(4),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()),console.log("Done"),et("LST Submitted"),ge(""),Te(""),pt(st),Vt(Oe,pe),$e(!0),U([]),Gt(),e.next=62;break;case 58:throw e.prev=58,e.t0=e.catch(43),console.log(e.t0),e.t0;case 62:case"end":return e.stop()}}),e,null,[[43,58]])})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={from:pe,to:fe,LSTNo:ye,date:Oe,invItems:[],status:"In Transit",LSTtype:re,CMRRItems:Ft},console.log("LST",t),e.prev=2,e.next=5,p()({url:"".concat(g.API,"/lst/").concat(b.a.getId(),"/create"),method:"POST",data:t});case 5:console.log("Done"),et("LST Submitted"),ge(""),Te(""),pt(st),Dt([Pt]),$e(!0),U([]),Gt(),e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(2),console.log(e.t0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:" mt-4"},s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mr-1 flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mx-1 my-1  "}," Type"),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:re,onChange:function(e){ce(e.target.value)}},s.a.createElement("option",{value:"Normal",default:!0,selected:!0},"Normal"),s.a.createElement("option",{value:"CMRR"},"CMRR"),s.a.createElement("option",{value:"Customer"},"Customer")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),s.a.createElement("div",{className:"mr-1 flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mx-1 my-1  "},"From"),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:pe,onChange:function(e){be(e.target.value),Vt(Oe,e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),s.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),s.a.createElement("option",{value:"Kottayam"},"Kottayam"),s.a.createElement("option",{value:"Kozhikode"},"Kozhikode")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:"mx-1 my-1 "},"To"),s.a.createElement("div",{class:"relative mx-1 "},"Normal"==re||"Customer"==re?s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:fe,onChange:function(e){ge(e.target.value),pt(st),"Vendor"==e.target.value?ft(!0):ft(!1)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),s.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),s.a.createElement("option",{value:"Kottayam"},"Kottayam"),s.a.createElement("option",{value:"Kozhikode"},"Kozhikode"),"Normal"==re?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:"Vendor"},"Vendor")):null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:fe,onChange:function(e){ge(e.target.value),pt(st),"Vendor"==e.target.value?ft(!0):ft(!1)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),s.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),s.a.createElement("option",{value:"Kottayam"},"Kottayam"),s.a.createElement("option",{value:"Kozhikode"},"Kozhikode"))),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),vt?s.a.createElement("div",{className:"mx-1"},s.a.createElement(v.Button,{layout:"outline",className:"w-full",onClick:function(){return nt(!0)}},"Select Vendor")):null,s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:" my-2 "},"Date"),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("input",{type:"date",value:Oe,onChange:function(e){Te(e.target.value),Vt(e.target.value,pe)},placeholder:"LST No.",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))),s.a.createElement("div",{className:" flex flex-row dark:text-white  "},s.a.createElement("div",{className:" mx-1 my-1 "},"LST No."),s.a.createElement("div",{class:"relative  "},s.a.createElement("input",{value:ye,disabled:!0,onChange:function(e){return we(e.target.value)},class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-1 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))),s.a.createElement("div",{className:"flex flex-row dark:text-white mx-5 "},s.a.createElement(v.Button,{onClick:Jt},"Submit"))),"Customer"==re?s.a.createElement("div",{className:"flex flex-row dark:text-white  "},s.a.createElement("div",{className:" flex flex-row dark:text-white mt-2 "},s.a.createElement("div",{className:"flex items-center  space-x-3 my-3"},s.a.createElement(v.Button,{onClick:function(){return At(!0)},"aria-label":"Notifications","aria-haspopup":"true"},"Pick Customer")),Ct._id?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"align-center my-auto mx-4"},"Customer: ",Ct.customerName," - Account:"," ",kt.accountName," - Unit: ",xt.unitName)):null)):null,"Normal"==re||"Customer"==re?s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:""},s.a.createElement("div",{class:"mb-1 mt-5 dark:text-white font-semibold "},""!==dt.name?s.a.createElement(s.a.Fragment,null," Vendor:",dt.name):null),s.a.createElement("div",{class:"mb-1 mt-5 dark:text-white font-semibold "},"Selected Items")),s.a.createElement(v.TableContainer,{className:"mt-4"},s.a.createElement(v.Table,null,s.a.createElement(v.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(v.TableCell,null,"Type"),s.a.createElement(v.TableCell,null,"Name"),s.a.createElement(v.TableCell,null,"Serial Number"),s.a.createElement(v.TableCell,null,"Location"),s.a.createElement(v.TableCell,null,"Inv Number"),s.a.createElement(v.TableCell,null,"Condition"),s.a.createElement(v.TableCell,null,"Case Id"),s.a.createElement(v.TableCell,null,"Remove"))),s.a.createElement(v.TableBody,null,H.map((function(e,t){return s.a.createElement(v.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(j==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){k(t)}},s.a.createElement(v.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.type)))),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.name)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.sno)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.location)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.invnumber)),s.a.createElement(v.TableCell,null,s.a.createElement(v.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),s.a.createElement(v.TableCell,null,s.a.createElement("input",{value:e.caseId,onChange:function(t){var a=H;a=a.filter((function(a){if(a._id!=e._id)return a;console.log("here",t.target.value);var l=a;return l.caseId=t.target.value,l})),console.log(a),U(a)},defaultValue:"Imprest",placeholder:"Cse Id.",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-1 pr-1 py-1 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})),s.a.createElement(v.TableCell,null,s.a.createElement("div",{className:" py-1",onClick:function(){var t=[].concat(Object(l.a)(R),[e]);z(t);var a=H;a=a.filter((function(t){return t._id!=e._id})),U(a)}},s.a.createElement(E.TrashIcon,{className:"w-5 h-5 cursor-pointer m-2 text-2xl",fill:"maroon","aria-hidden":"true"}))))})))))),s.a.createElement("div",{className:"my-5"},s.a.createElement(v.Button,{layout:"outline",onClick:function(){if(""==pe||""==fe)return et("Select From and To Locations"),void $e(!0);Ge(!0)}},"Add Product from Inventory")),Ve?s.a.createElement("div",{className:"dark:bg-gray-700 bg-gray-100 px-2 py-2 rounded-lg"},s.a.createElement("div",{className:""},s.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:se,onChange:function(e){me(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Item Type"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"mouse"},"Mouse"),s.a.createElement("option",{value:"keyboard"},"Keyboard"),s.a.createElement("option",{value:"monitor"},"Monitor"),s.a.createElement("option",{value:"cpu"},"Cpu"),s.a.createElement("option",{value:"ram"},"Ram"),s.a.createElement("option",{value:"fan"},"Fan"),s.a.createElement("option",{value:"motherboard"},"Motherboard"),s.a.createElement("option",{value:"smps"},"SMPS"),s.a.createElement("option",{value:"hdd"},"HDD"),s.a.createElement("option",{value:"gcard"},"Gcard"),s.a.createElement("option",{value:"enetcard"},"Enet Card"),s.a.createElement("option",{value:"serialcard"},"Serial Card"),s.a.createElement("option",{value:"paralellcard"},"Paralell Card"),s.a.createElement("option",{value:"opticaldrive"},"Optical Drive"),s.a.createElement("option",{value:"others"},"Others")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"relative mx-1 "},s.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:Se,onChange:function(e){Ie(e.target.value)}},s.a.createElement("option",{value:"",disabled:!0},"Condition"),s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"Good"},"Good"),s.a.createElement("option",{value:"Bad"},"Bad"),s.a.createElement("option",{value:"Used"},"Used"),s.a.createElement("option",{value:"Available",selected:!0},"Available"),s.a.createElement("option",{value:"DOA"},"DOA")),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),s.a.createElement("div",{class:"block relative xl:ml-64"},s.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},s.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},s.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),ee(!Z)}},s.a.createElement("input",{value:Ke,onChange:function(e){return Ye(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),s.a.createElement(v.TableContainer,{className:"mt-4"},s.a.createElement(v.Table,null,s.a.createElement(v.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(v.TableCell,null,"Category"),s.a.createElement(v.TableCell,null,"Description"),s.a.createElement(v.TableCell,null,"Serial Number"),s.a.createElement(v.TableCell,null,"Location"),s.a.createElement(v.TableCell,null,"Stock Type"),s.a.createElement(v.TableCell,null,"Wty."),s.a.createElement(v.TableCell,null,"Status"),s.a.createElement(v.TableCell,null,"Add"))),s.a.createElement(v.TableBody,null,R.map((function(e,t){return s.a.createElement(v.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(j==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){k(t)}},s.a.createElement(v.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},Object(y.capitalize)(e.type))))),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.name)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.sno)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.location)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.stocktype)),s.a.createElement(v.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.expirydate)),s.a.createElement(v.TableCell,null,s.a.createElement(v.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),s.a.createElement(v.TableCell,null,s.a.createElement(v.Button,{layout:"outline",className:"dark:border-green-700 border-green-400",onClick:function(){var t=!1,a=R;if(a=a.filter((function(t){return t._id!=e._id})),console.log(a),z(a),H.map((function(a){a._id==e._id&&(console.log(a._id,e._id),et("Product already Added!"),$e(!0),t=!0)})),!t){e.caseId="imprest";var n=[].concat(Object(l.a)(H),[e]);U(n)}}},"Add")))})))),s.a.createElement(v.TableFooter,null,s.a.createElement(v.Pagination,{totalResults:Yt,resultsPerPage:10,label:"Table navigation",onChange:Ut})))):null):null),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.Modal,{isOpen:We,onClose:function(){return $e(!1)}},s.a.createElement(v.ModalHeader,null,Ze),s.a.createElement(v.ModalBody,null),s.a.createElement(v.ModalFooter,null,s.a.createElement(v.Button,{className:"w-full sm:w-auto",onClick:function(){return $e(!1)}},"Okay!")))),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.Modal,{isOpen:lt,onClose:function(){return nt(!1)}},s.a.createElement(v.ModalHeader,null,s.a.createElement("tr",null,s.a.createElement(v.TableCell,null,"Pick Vendor")),s.a.createElement("tr",null,s.a.createElement(v.TableCell,null,s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:function(e){C(e.target.value)}}))))),s.a.createElement(v.ModalBody,{className:"overflow-y-scroll h-64"},s.a.createElement(v.TableContainer,null,s.a.createElement(v.Table,null,s.a.createElement(v.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(v.TableCell,null,"Customer"))),s.a.createElement(v.TableBody,null,ot.map((function(e,t){return s.a.createElement(v.TableRow,{key:t,className:"hover:bg-purple-900 ",onClick:function(){console.log(e),pt(e),nt(!1)}},s.a.createElement(v.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))))),s.a.createElement(v.ModalFooter,null,s.a.createElement(v.Button,{className:"w-full sm:w-auto",onClick:function(){return nt(!1)}},"Okay!")))),"CMRR"==re?s.a.createElement(s.a.Fragment,null,Ft.map((function(e,t){return a=t,s.a.createElement("div",{className:"px-4 py-3 my-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},s.a.createElement(v.Label,{className:"font-bold flex-row flex justify-between"},s.a.createElement("span",null,"Item Number : ",a+1)," ",s.a.createElement("div",{layout:"outline",onClick:function(){var e=Object(l.a)(Ft);e=e.filter((function(e,t){if(t!=a)return e})),Dt(e)},className:"border-gray-100 rounded-full cursor pointer"},s.a.createElement(E.CloseIcon,{fill:"lightgray",className:"w-5 h-5 cursor-pointer ","aria-hidden":"true"}))),s.a.createElement("hr",{className:"mb-5 mt-2"}),s.a.createElement("div",{className:"flex-row flex space-x-3"},s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Select Type*"),s.a.createElement(v.Select,{className:"mt-1",value:Ft[a].systype,onChange:function(e){var t=Object(l.a)(Ft);t[a].systype=e.target.value,Dt(t)}},s.a.createElement("option",{selected:!0,value:"item"},"Item"),s.a.createElement("option",{value:"full system"},"Full System")))),"item"==Ft[a].systype?s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Select Category*"),s.a.createElement(v.Select,{className:"mt-1",value:Ft[a].type,onChange:function(e){var t=Object(l.a)(Ft);t[a].type=e.target.value,Dt(t)}},s.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select Type"),s.a.createElement("option",{value:"mouse"},"Mouse"),s.a.createElement("option",{value:"keyboard"},"Keyboard"),s.a.createElement("option",{value:"monitor"},"Monitor"),s.a.createElement("option",{value:"cpu"},"Cpu"),s.a.createElement("option",{value:"ram"},"Ram"),s.a.createElement("option",{value:"fan"},"Fan"),s.a.createElement("option",{value:"motherboard"},"Motherboard"),s.a.createElement("option",{value:"smps"},"SMPS"),s.a.createElement("option",{value:"hdd"},"HDD"),s.a.createElement("option",{value:"gcard"},"Gcard"),s.a.createElement("option",{value:"enetcard"},"Enet Card"),s.a.createElement("option",{value:"serialcard"},"Serial Card"),s.a.createElement("option",{value:"paralellcard"},"Paralell Card"),s.a.createElement("option",{value:"opticaldrive"},"Optical Drive"),s.a.createElement("option",{value:"others"},"Others")))):s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Select Category*"),s.a.createElement(v.Select,{className:"mt-1",value:Ft[a].type,onChange:function(e){var t=Object(l.a)(Ft);t[a].type=e.target.value,Dt(t)}},s.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select Type"),s.a.createElement("option",{value:"console"},"Console"),s.a.createElement("option",{value:"DMP"},"DMP"),s.a.createElement("option",{value:"inkjet"},"Inkjet"),s.a.createElement("option",{value:"KVM"},"KVM"),s.a.createElement("option",{value:"laptop"},"Laptop"),s.a.createElement("option",{value:"laser"},"Laser"),s.a.createElement("option",{value:"LMP"},"LMP"),s.a.createElement("option",{value:"module"},"Module"),s.a.createElement("option",{value:"router"},"Router"),s.a.createElement("option",{value:"scanner"},"Scanner"),s.a.createElement("option",{value:"server"},"Server"),s.a.createElement("option",{value:"desktop"},"Desktop"),s.a.createElement("option",{value:"storage"},"Storage"),s.a.createElement("option",{value:"switch"},"Switch"),s.a.createElement("option",{value:"UPS"},"UPS"),s.a.createElement("option",{value:"others"},"Others")))),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Product Name*"),s.a.createElement(v.Input,{className:"mt-1",type:"text",value:Ft[a].name,onChange:function(e){var t=Object(l.a)(Ft);t[a].name=e.target.value,Dt(t)}})))),s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Serial Number*"),s.a.createElement(v.Input,{className:"mt-1",type:"text",value:Ft[a].sno,onChange:function(e){var t=Object(l.a)(Ft);t[a].sno=e.target.value,Dt(t)}}))),s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Select Condition*"),s.a.createElement(v.Select,{className:"mt-1",onChange:function(e){var t=Object(l.a)(Ft);t[a].condition=e.target.value,Dt(t)}},s.a.createElement("option",{value:"Good",selected:!0},"Good"),s.a.createElement("option",{value:"Bad"},"Bad"),s.a.createElement("option",{value:"DOA"},"DOA"))))),s.a.createElement("div",{className:"flex-row flex space-x-3"},s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Warranty*"),s.a.createElement(v.Select,{className:"mt-1",value:Ft[a].wty,onChange:function(e){var t=Object(l.a)(Ft);t[a].wty=e.target.value,Dt(t)}},s.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select Category"),s.a.createElement("option",{value:"0D"},"0 days"),s.a.createElement("option",{value:"3M"},"3 Months"),s.a.createElement("option",{value:"6M"},"6 Months"),s.a.createElement("option",{value:"1Y"},"1 Year"),s.a.createElement("option",{value:"2Y"},"2 Years"),s.a.createElement("option",{value:"3Y"},"3 Years"),s.a.createElement("option",{value:"4Y"},"4 Years"),s.a.createElement("option",{value:"5Y"},"5 Years"),s.a.createElement("option",{value:"20Y"},"20 Years")))),s.a.createElement("div",{className:"flex flex-col w-full"},s.a.createElement(v.Label,{className:"w-full"},s.a.createElement("span",null,"Case ID*"),s.a.createElement(v.Input,{className:"mt-1",type:"text",value:Ft[a].caseId,onChange:function(e){var t=Object(l.a)(Ft);t[a].caseId=e.target.value,Dt(t)}})))));var a})),s.a.createElement(v.Card,{className:"mb-4 shadow-md "},s.a.createElement(v.CardBody,null,s.a.createElement("div",{className:"flex flex-row flex-wrap justify-start"},s.a.createElement(v.Button,{onClick:function(){var e=Object(l.a)(Ft),t=Pt;e.push(t),Dt(e)},"aria-label":"Notifications","aria-haspopup":"true",layout:"outline",className:" mx-2 "},"Add Item"))))):null,s.a.createElement(f.a,{isModalOpen:Lt,setIsModalOpen:At,setUnit:yt,unit:xt,customer:Ct,setCustomer:Ot,account:kt,setAccount:St}))}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var l=a(5),n=a.n(l),r=a(12),c=a(3),o=a(0),u=a.n(o),s=a(9),m=a.n(s),i=a(2),d=a(196),p=(a(198),a(10));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,l=e.unit,s=e.setUnit,b=e.account,E=e.setAccount,v=e.customer,f=e.setCustomer,g=Object(o.useState)([]),h=Object(c.a)(g,2),x=h[0],y=h[1],w=Object(o.useState)([]),N=Object(c.a)(w,2),C=N[0],O=N[1],T=Object(o.useState)([]),j=Object(c.a)(T,2),k=j[0],S=j[1],I=Object(o.useState)(0),M=Object(c.a)(I,2),L=M[0],A=M[1],P=Object(o.useState)(""),_=Object(c.a)(P,2),B=_[0],F=_[1],D=function(e){F(e.target.value)},R=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:B,role:1},e.prev=2,e.next=5,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:a});case 5:l=e.sent,console.log(l.data),y(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:B,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),y(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var z=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),O(a.data),A(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),S(a.data),A(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(i.ModalHeader,null,"Select"," ",0==L?u.a.createElement(u.a.Fragment,null,"Customer"):1==L?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},u.a.createElement(d.d,{selectedIndex:L,onSelect:function(e){return A(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,u.a.createElement("form",{onSubmit:R},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:D}))))),u.a.createElement(i.TableBody,null,x.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return z(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Account"))),u.a.createElement(i.TableBody,null,C.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,{className:" w-full overflow-y-scroll"},u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Unit"))),u.a.createElement(i.TableBody,null,k.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return Y(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(i.TableFooter,null))))),u.a.createElement(i.ModalFooter,null,u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",v.customerName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",l.unitName),u.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){return a(!1)}},"Select"))))}}}]);
//# sourceMappingURL=53.ee0283c2.chunk.js.map