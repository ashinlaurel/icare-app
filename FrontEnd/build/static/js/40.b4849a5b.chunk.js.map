{"version":3,"sources":["pages/Inventory/PurchaseInventory.js","components/Modal/CustomerCreateModal.js","helpers/unitHelper.js","components/Modal/AddUnitModal.js"],"names":["PurchaseInventory","setTopHeading","useContext","TopBarContext","useState","calculate","setCalculate","datecalculate","setDateCalculate","calnum","setCalnum","isVendorModalopen","setIsVendorModalopen","vendors","setVendors","ismessageModal","setIsmessageModal","modalMessage","setModalMessage","vendorsearch","setVendorsearch","_id","name","aadharNo","PANNo","GSTNo","selectedVendor","setselectedVendor","thebval","purchtype","vendor","invnumber","invdate","moment","format","location","invtype","gstno","panno","aadharno","purchlocation","totalInvoice","vendorId","basevalues","setBaseValues","histtype","date","callId","assetId","status","note","history","invdetails","type","sno","condition","taxcategory","taxperc","rate","igst","cgst","sgst","nettax","amount","tcs","invamount","wty","expirydate","brand","model","systype","stocktype","caseId","values","setValues","err","setErr","submitItems","a","flag","map","value","console","log","i","j","ids","newitems","item","Axios","url","API","Emp","getId","method","data","then","push","histdata","invItems","catch","response","message","payload","filters","searchquery","axios","out","useEffect","getVendorList","newlist","parseInt","parseFloat","add","subtract","className","onChange","e","target","selected","disabled","layout","onClick","BasicForm","isOpen","onClose","num","newitem","filter","fill","aria-hidden","toLowerCase","valid","readOnly","theperc","slice","toFixed","aria-label","aria-haspopup","length","onSubmit","preventDefault","placeholder","user","key","CustomerCreateModal","isModalOpen","setIsModalOpen","setCustomer","customer","customers","setCustomers","tabIndex","setTabIndex","search","setSearch","handleChange","handleSubmit","role","pickCustomer","customerName","selectedIndex","onSelect","ind","unitCreate","newunit","post","unit","error","errors","AddUnitModal","account","setAccount","accounts","setAccounts","accountName","customerId","accs","pickAccount"],"mappings":"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","file":"static/js/40.b4849a5b.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { API } from \"../../backendapi\";\nimport moment from \"moment\";\nimport { Card, CardBody } from \"@windmill/react-ui\";\n\nimport Emp from \"../../helpers/auth/EmpProfile\";\nimport PageTitle from \"../../components/Typography/PageTitle\";\nimport SectionTitle from \"../../components/Typography/SectionTitle\";\nimport {\n  Input,\n  HelperText,\n  Label,\n  Button,\n  Badge,\n  Select,\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Pagination,\n} from \"@windmill/react-ui\";\n\nimport { signup, signin, authenticate } from \"../../helpers/auth\";\nimport CustomerCreateModal from \"../../components/Modal/CustomerCreateModal\";\nimport EmpProfile from \"../../helpers/auth/EmpProfile\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"@windmill/react-ui\";\nimport { resetIdCounter } from \"react-tabs\";\nimport { TopBarContext } from \"../../context/TopBarContext\";\nimport { unitCreate } from \"../../helpers/unitHelper\";\nimport AddUnitModal from \"../../components/Modal/AddUnitModal\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport { CloseIcon } from \"../../icons\";\n\n/////////////----------------->>>>>> bug <<<<<------------customerList refresh--------------------------\n\nfunction PurchaseInventory() {\n  const { setTopHeading } = useContext(TopBarContext);\n  const [flow, setFlow] = useState(\"basic\");\n  const [calculate, setCalculate] = useState(false);\n  const [datecalculate, setDateCalculate] = useState(false);\n  const [calnum, setCalnum] = useState(-1);\n  const [isVendorModalopen, setIsVendorModalopen] = useState(false);\n  const [vendors, setVendors] = useState([]);\n  const [ismessageModal, setIsmessageModal] = useState(false);\n  const [modalMessage, setModalMessage] = useState(\"\");\n  const [vendorsearch, setVendorsearch] = useState(\"\");\n  const [selectedVendor, setselectedVendor] = useState({\n    _id: \"\",\n    name: \"\",\n    aadharNo: \"\",\n    PANNo: \"\",\n    GSTNo: \"\",\n  });\n\n  const thebval = {\n    purchtype: \"B2B\",\n    vendor: \"\",\n    invnumber: \"\",\n    invdate: moment().format(),\n    location: \"Trivandrum\",\n    invtype: \"Material\",\n    gstno: \"\",\n    panno: \"\",\n    aadharno: \"\",\n    purchlocation: \"Local\",\n    totalInvoice: \"0\",\n    vendorId: \"\",\n  };\n  const [basevalues, setBaseValues] = useState(thebval);\n\n  const [history, setHistory] = useState([\n    {\n      histtype: \"purchase\",\n      date: moment().format(),\n      location: basevalues.location,\n      callId: \"Nil\",\n      assetId: \"Nil\",\n      status: \"Good\",\n      note: \"Inventory Purchased\",\n    },\n  ]);\n\n  const invdetails = {\n    type: \"\",\n    name: \"\",\n    // assetsIdHistory: \"\",\n    // assetId: \"\",\n    sno: \"\",\n    condition: \"Good\",\n    taxcategory: \"\",\n    taxperc: \"\",\n    rate: \"\",\n    igst: \"0\",\n    cgst: \"0\",\n    sgst: \"0\",\n    nettax: \"0\",\n    amount: \"0\",\n    tcs: \"0\",\n    invamount: \"0\",\n    wty: \"\",\n    expirydate: \"\",\n    //-------------------------\n    purchtype: \"\",\n    vendorId: \"\",\n    vendor: \"\",\n    invnumber: \"\",\n    invdate: moment().format(),\n    location: \"\",\n    invtype: \"\",\n    gstno: \"\",\n    panno: \"\",\n    aadharno: \"\",\n    purchlocation: \"\",\n\n    brand: \"\",\n    model: \"\",\n    systype: \"item\",\n    stocktype: \"Purchased\",\n\n    //-------\n    caseId: \"imprest\",\n  };\n  const [values, setValues] = useState([invdetails]);\n\n  const [err, setErr] = useState({\n    type: \"\",\n    name: \"\",\n    sno: \"\",\n    condition: \"\",\n    location: \"\",\n    invnumber: \"\",\n  });\n\n  const submitItems = async () => {\n    let flag = false;\n    if (selectedVendor._id == \"\") {\n      setModalMessage(\"Please select vendor\");\n      setIsmessageModal(true);\n      return;\n    }\n    values.map((value) => {\n      if (value.systype == \"item\" && (value.name === \"\" || value.sno === \"\")) {\n        //   setIsReqFieldModal(true);\n        setModalMessage(`Required fields not filled!`);\n        setIsmessageModal(true);\n        console.log(\"missing inputs\");\n        flag = true;\n      }\n    });\n\n    values.map((i) => {\n      values.map((j) => {\n        console.log(i.sno, j.sno);\n        if (i != j && i.sno == j.sno) {\n          setModalMessage(`Serial numbers have to be unique!`);\n          setIsmessageModal(true);\n          console.log(\"serial num same\");\n          flag = true;\n        }\n      });\n    });\n    if (flag == true) return;\n    let ids = [];\n    console.log(\"Submission Start\");\n    const newitems = [...values];\n    newitems.map((item) => {\n      item.purchtype = basevalues.purchtype;\n      item.vendorId = selectedVendor._id;\n      item.vendor = selectedVendor.name;\n      item.invnumber = basevalues.invnumber;\n      item.invdate = basevalues.invdate;\n      item.location = basevalues.location;\n      item.invtype = basevalues.invtype;\n      item.gstno = selectedVendor.GSTNo;\n      item.panno = selectedVendor.PANNo;\n      item.aadharno = selectedVendor.aadharNo;\n      item.purchlocation = basevalues.purchtype;\n      item.history = history;\n    });\n    console.log(newitems);\n    await Axios({\n      url: `${API}/inventory/${Emp.getId()}/createitems`,\n      method: \"POST\",\n      data: newitems,\n    })\n      .then((data) => {\n        console.log(\"Added\", data);\n        data.data.map((i) => ids.push(i._id));\n        // setIsReviewModalOpen(true);\n\n        console.log(ids);\n        let histdata = { ...basevalues, invItems: ids };\n\n        Axios({\n          url: `${API}/inventory/${Emp.getId()}/createpurchasehistory`,\n          method: \"POST\",\n          data: histdata,\n        })\n          .then((data) => {\n            console.log(\"hisory added\", data);\n            setValues([invdetails]);\n            setBaseValues(thebval);\n            setErr({\n              type: \"\",\n              name: \"\",\n              sno: \"\",\n              condition: \"\",\n              location: \"\",\n              invnumber: \"\",\n            });\n            setModalMessage(\"Item(s) Added\");\n            setIsmessageModal(true);\n            setCalnum(0);\n          })\n          .catch((err) => {\n            console.log(\"Purchase Hisry err\", err.response);\n            setErr({ ...err });\n          });\n      })\n      .catch((err) => {\n        console.log(\"INV err\", err.response);\n\n        if (err.response) setModalMessage(err.response.data.message);\n        setIsmessageModal(true);\n        setErr({ ...err });\n      });\n  };\n\n  async function getVendorList() {\n    let payload = {\n      filters: {\n        searchquery: vendorsearch,\n      },\n    };\n    try {\n      let response = await axios({\n        url: `${API}/vendor/${Emp.getId()}/getAll`,\n        method: \"POST\",\n        data: payload,\n      });\n      console.log(response.data.out);\n      setVendors(response.data.out);\n    } catch (error) {\n      throw error;\n    }\n  }\n  useEffect(() => {\n    getVendorList();\n  }, [vendorsearch]);\n  // ----------------------Heading Use Effect-------------\n\n  useEffect(() => {\n    setTopHeading(\"Purchase Inventory\");\n    return () => {\n      setTopHeading(\"\");\n    };\n  }, []);\n  // ------------------- Calculations----------------------------------\n  useEffect(() => {\n    // console.log(\"hello\");\n    // console.log(basevalues,values);\n    let newlist = [...values];\n\n    if (basevalues.purchlocation == \"Local\" && calnum != -1) {\n      newlist[calnum].sgst =\n        parseInt(newlist[calnum].rate) *\n        (parseInt(newlist[calnum].taxperc) / 200);\n      newlist[calnum].cgst =\n        parseInt(newlist[calnum].rate) *\n        (parseInt(newlist[calnum].taxperc) / 200);\n      newlist[calnum].nettax =\n        parseInt(newlist[calnum].sgst) + parseInt(newlist[calnum].cgst);\n      newlist[calnum].amount =\n        parseFloat(newlist[calnum].rate) + parseFloat(newlist[calnum].nettax);\n\n      // setValues(newlist);\n    } else if (calnum != -1) {\n      newlist[calnum].igst =\n        parseInt(newlist[calnum].rate) *\n        (parseInt(newlist[calnum].taxperc) / 100);\n      newlist[calnum].nettax = newlist[calnum].igst;\n\n      newlist[calnum].sgst = 0;\n      newlist[calnum].cgst = 0;\n      newlist[calnum].amount =\n        parseFloat(newlist[calnum].rate) + parseFloat(newlist[calnum].nettax);\n\n      // setValues(newlist);\n    }\n\n    if (calnum != -1) {\n      newlist[calnum].tcs = parseFloat(newlist[calnum].amount) * 0.001;\n\n      newlist[calnum].invamount =\n        parseFloat(newlist[calnum].amount) + parseFloat(newlist[calnum].tcs);\n\n      // newlist[calnum].expirydate = moment().format(\"DD-MM-YYYY\");\n      // console.log(basevalues.totalInvoice, newlist[calnum].invamount);\n      // console.log(\n      //   parseFloat(basevalues.totalInvoice) +\n      //     parseFloat(newlist[calnum].invamount)\n      // );\n\n      let newbaseval = basevalues;\n      // newbaseval.totalInvoice=(\n      //   parseFloat(basevalues.totalInvoice) +\n      //     parseFloat(newlist[calnum].invamount)\n      // ).toString();\n\n      // let val =\n      //   parseFloat(basevalues.totalInvoice) +\n      //   parseFloat(newlist[calnum].invamount);\n\n      // console.log(newbaseval)\n      setBaseValues(newbaseval);\n    }\n\n    setValues(newlist);\n\n    return () => {\n      console.log(\"Calculations done!\");\n    };\n  }, [calculate]);\n\n  //   const handleChange = (name) => (e) => {\n  //     setValues({ ...values, [name]: e.target.value });\n  //   };\n\n  // ---------Date Calculations ------------\n\n  useEffect(() => {\n    // console.log(\"hello\");\n    // console.log(calnum);\n    let newlist = [...values];\n\n    if (calnum != -1) {\n      switch (newlist[calnum].wty) {\n        case \"0D\":\n          newlist[calnum].expirydate = moment(basevalues.invdate).format(\n            \"DD-MM-YYYY\"\n          );\n\n          break;\n        case \"3M\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(3, \"M\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"6M\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(6, \"M\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"1Y\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(1, \"Y\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"2Y\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(2, \"Y\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"3Y\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(3, \"Y\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"4Y\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(4, \"Y\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"5Y\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(5, \"Y\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n        case \"20Y\":\n          newlist[calnum].expirydate = moment(basevalues.invdate)\n            .add(20, \"Y\")\n            .subtract(1, \"days\")\n            .format(\"DD-MM-YYYY\");\n\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    setValues(newlist);\n\n    return () => {\n      console.log(\"Calculations done!\");\n    };\n  }, [datecalculate]);\n\n  const handleBaseChange = (name) => (e) => {\n    setBaseValues({ ...basevalues, [name]: e.target.value });\n  };\n\n  //   const ReviewSubmit = () => {\n  //     return (\n  //       <>\n  //         <Modal\n  //           isOpen={isReviewModalOpen}\n  //           onClose={() => setIsReviewModalOpen(false)}\n  //         >\n  //           <ModalHeader>Information updated Successfully!</ModalHeader>\n  //           <ModalBody></ModalBody>\n  //           <ModalFooter>\n  //             <Button\n  //               className=\"w-full sm:w-auto\"\n  //               // onClick={() => setIsReviewModalOpen(false)}\n  //               onClick={() => setIsReviewModalOpen(false)}\n  //             >\n  //               Okay!\n  //             </Button>\n  //           </ModalFooter>\n  //         </Modal>\n  //       </>\n  //     );\n  //   };\n\n  const MessageModalComponent = () => {\n    return (\n      <>\n        <Modal isOpen={ismessageModal} onClose={() => setIsmessageModal(false)}>\n          <ModalHeader></ModalHeader>\n          <ModalBody>{modalMessage}</ModalBody>\n          <ModalFooter>\n            <Button\n              className=\"w-full sm:w-auto\"\n              onClick={() => setIsmessageModal(false)}\n            >\n              Okay!\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </>\n    );\n  };\n  // Vendor PICK\n\n  const VendorModal = () => {\n    return (\n      <>\n        <Modal\n          isOpen={isVendorModalopen}\n          onClose={() => setIsVendorModalopen(false)}\n        >\n          <ModalHeader>\n            <tr>\n              <TableCell>Pick Vendor</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n            <tr>\n              <TableCell>\n                <form\n                // onSubmit={handlevendorSubmit}\n                onSubmit={e=>{e.preventDefault()}}\n                >\n                  <input\n                    className=\"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input\"\n                    placeholder=\"Search Customers\"\n                    onChange={(e) => {\n                      setVendorsearch(e.target.value);\n                    }}\n                  />\n                </form>\n              </TableCell>\n            </tr>\n          </ModalHeader>\n          <ModalBody>\n            <TableContainer>\n              <Table>\n                <TableHeader>\n                  <tr>\n                    <TableCell>Customer</TableCell>\n                    {/* <TableCell>Unit</TableCell> */}\n                    {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n                  </tr>\n                </TableHeader>\n                <TableBody>\n                  {vendors.map((user, i) => (\n                    <TableRow\n                      key={i}\n                      className=\"hover:bg-purple-900 \"\n                      onClick={() => {\n                        console.log(user);\n                        setselectedVendor(user);\n                        setIsVendorModalopen(false);\n                      }}\n                    >\n                      <TableCell>\n                        <div>\n                          <div>\n                            <p className=\"font-semibold\">{user.name}</p>\n                          </div>\n                        </div>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              className=\"w-full sm:w-auto\"\n              onClick={() => setIsVendorModalopen(false)}\n            >\n              Okay!\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </>\n    );\n  };\n\n  //   Basic Form\n\n  const BasicForm = () => {\n    return (\n      <div className=\"px-4 py-3 mt-4 mb-2 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n        <Label className=\"font-bold\">\n          <span>\n            Purchase Information Total Invoice Amount{basevalues.totalInvoice}\n          </span>\n        </Label>\n        <hr className=\"mb-5 mt-2\" />\n        {/* -----Row 1 --------- */}\n        <div className=\"flex-row flex  space-x-3\">\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Purchase Type*</span>\n              <Select\n                className=\"mt-1\"\n                value={basevalues.purchtype}\n                onChange={(e) => {\n                  setBaseValues({ ...basevalues, purchtype: e.target.value });\n                }}\n              >\n                <option value=\"\" selected disabled>\n                  Select Purchase Type\n                </option>\n                <option value=\"B2B\">B2B</option>\n                <option value=\"B2C\">B2C</option>\n              </Select>\n            </Label>\n          </div>\n\n          {/* ---------------- */}\n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Location*</span>\n              <Select\n                className=\"mt-1\"\n                onChange={(e) => {\n                  setBaseValues({ ...basevalues, location: e.target.value });\n                }}\n              >\n                <option value=\"Trivandrum\">Trivandrum</option>\n                <option value=\"Kottayam\">Kottayam</option>\n                <option value=\"Kozhikode\">Kozhikode</option>\n              </Select>\n            </Label>\n          </div>\n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Purchase Location*</span>\n              <Select\n                className=\"mt-1\"\n                onChange={(e) => {\n                  setBaseValues({\n                    ...basevalues,\n                    purchlocation: e.target.value,\n                  });\n\n                  let newlist = [...values];\n                  newlist.map((item, i) => {\n                    item.taxcategory = \"\";\n                    item.taxperc = \"\";\n                  });\n                  setValues([invdetails]);\n                }}\n              >\n                <option value=\"Local\">Local</option>\n                <option value=\"IGST\">IGST</option>\n              </Select>\n            </Label>\n          </div>\n\n          {/* -------------------- */}\n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Invoice Number*</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={basevalues.invnumber}\n                onChange={handleBaseChange(\"invnumber\")}\n              />\n            </Label>\n          </div>\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Invoice Date*</span>\n              <Input\n                className=\"mt-1\"\n                type=\"date\"\n                value={basevalues.invdate}\n                onChange={(e) => {\n                  setBaseValues({ ...basevalues, invdate: e.target.value });\n                  setDateCalculate(!datecalculate);\n                }}\n              />\n            </Label>\n          </div>\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Invoice Type*</span>\n              <Select\n                className=\"mt-1\"\n                onChange={(e) => {\n                  setBaseValues({ ...basevalues, invtype: e.target.value });\n                }}\n              >\n                <option value=\"\" selected disabled>\n                  Select Invoice Type\n                </option>\n                <option value=\"Material\">Material</option>\n                <option value=\"AMC\">AMC</option>\n                <option value=\"Addtl Wty\">Addtl Wty</option>\n              </Select>\n            </Label>\n          </div>\n\n          <div className=\"flex flex-col w-full  \">\n            <Label className=\"w-full\">\n              <Button\n                layout=\"outline\"\n                className=\"-mb-10 w-full\"\n                onClick={() => setIsVendorModalopen(true)}\n              >\n                Select Vendor\n              </Button>\n            </Label>\n          </div>\n        </div>\n        {/* ------------------------Row 2-------------------------- */}\n        {/* <div className=\"flex-row flex  space-x-3\">\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Location*</span>\n              <Select\n                className=\"mt-1\"\n                onChange={(e) => {\n                  setBaseValues({ ...basevalues, location: e.target.value });\n                }}\n              >\n                <option value=\"Trivandrum\">Trivandrum</option>\n                <option value=\"Kottayam\">Kottayam</option>\n                <option value=\"Kozhikode\">Kozhikode</option>\n              </Select>\n            </Label>\n          </div>\n          \n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Purchase Location*</span>\n              <Select\n                className=\"mt-1\"\n                onChange={(e) => {\n                  setBaseValues({\n                    ...basevalues,\n                    purchlocation: e.target.value,\n                  });\n\n                  let newlist = [...values];\n                  newlist.map((item, i) => {\n                    item.taxcategory = \"\";\n                    item.taxperc = \"\";\n                  });\n                  setValues([invdetails]);\n                }}\n              >\n                <option value=\"Local\">Local</option>\n                <option value=\"IGST\">IGST</option>\n              </Select>\n            </Label>\n          </div>\n          <div className=\"flex flex-col w-full  \">\n            <Label className=\"w-full\">\n              <Button\n                layout=\"outline\"\n                className=\"-mb-10 w-full\"\n                onClick={() => setIsVendorModalopen(true)}\n              >\n                Select Vendor\n              </Button>\n            </Label>\n          </div>\n          \n         \n          \n        </div> */}\n\n        {/* -------------------------ROw 3-------------------- */}\n        <div className=\"flex-row flex  space-x-3\">\n          <Label className=\" mt-3\">Vendor Name:{selectedVendor.name}</Label>\n          <Label className=\" ml-3 mt-3\">GST No. {selectedVendor.GSTNo}</Label>\n          {/* <Label className=\" ml-3 mt-3\">\n          PAN No. {selectedVendor.PANNo}\n          </Label>\n          <Label className=\" ml-3 mt-3\">\n          Aadhar No. {selectedVendor.aadharNo}\n          </Label> */}\n        </div>\n      </div>\n    );\n  };\n\n  const ItemForm = (num) => {\n    return (\n      <div className=\"px-4 py-3 my-2 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n        <Label className=\"font-bold flex-row flex justify-between\">\n          <span>Item Number : {num + 1}</span>{\" \"}\n          <div\n            layout=\"outline\"\n            onClick={() => {\n              let newitem = [...values];\n              newitem = newitem.filter((item, i) => {\n                if (i != num) return item;\n              });\n              setValues(newitem);\n            }}\n            className=\"border-gray-100 rounded-full cursor pointer\"\n          >\n            <CloseIcon\n              fill=\"lightgray\"\n              className=\"w-5 h-5 cursor-pointer \"\n              aria-hidden=\"true\"\n            />\n          </div>\n        </Label>\n        <hr className=\"mb-5 mt-2\" />\n        {/* ------------------------Row 1-------------------------- */}\n        <div className=\"flex-row flex space-x-3\">\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Select Type*</span>\n              <Select\n                className=\"mt-1\"\n                value={values[num].systype}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].systype = e.target.value;\n                  setValues(newlist);\n                }}\n              >\n                <option value=\"\" selected disabled>\n                  Select Type\n                </option>\n                <option value=\"item\">Item</option>\n                <option value=\"full system\">Full System</option>\n              </Select>\n            </Label>\n          </div>\n          {values[num].systype == \"item\" ? (\n            <div className=\"flex flex-col w-full\">\n              <Label className=\"w-full\">\n                <span>Select Category*</span>\n                <Select\n                  className=\"mt-1\"\n                  value={values[num].type}\n                  onChange={(e) => {\n                    let newlist = [...values];\n                    // console.log(e.target.value)\n                    newlist[num].type = e.target.value.toLowerCase();\n                    // newlist[num].type = newlist[num].type.toLowerCase();\n                    // console.log(newlist)\n\n                    setValues(newlist);\n                  }}\n                >\n                  <option value=\"\" selected disabled>\n                    Select Type\n                  </option>\n\n                  <option value=\"mouse\">Mouse</option>\n                  <option value=\"keyboard\">Keyboard</option>\n                  <option value=\"monitor\">Monitor</option>\n                  <option value=\"cpu\">Cpu</option>\n                  <option value=\"ram\">Ram</option>\n                  <option value=\"fan\">Fan</option>\n                  <option value=\"motherboard\">Motherboard</option>\n                  <option value=\"smps\">SMPS</option>\n                  <option value=\"hdd\">HDD</option>\n                  <option value=\"gcard\">Gcard</option>\n                  <option value=\"enetcard\">Enet Card</option>\n                  <option value=\"serialcard\">Serial Card</option>\n                  <option value=\"paralellcard\">Paralell Card</option>\n                  <option value=\"opticaldrive\">Optical Drive</option>\n                  <option value=\"others\">Others</option>\n\n                  {/* <option value=\"Mouse\">Mouse</option>\n                    <option value=\"Keyboard\">Keyboard </option>\n                    <option value=\"Monitor\">Monitor </option>\n                    <option value=\"Cpu\">Cpu</option>\n                    <option value=\"laptop\">Laptop</option>\n                    <option value=\"laser\">Laser</option>\n                    <option value=\"LMP\">LMP</option>\n                    <option value=\"module\">Module</option>\n                    <option value=\"router\">Router</option>\n                    <option value=\"scanner\">Scanner</option>\n                    <option value=\"server\">Server</option>\n                    <option value=\"desktop\">Desktop</option>\n                    <option value=\"storage\">Storage</option>\n                    <option value=\"switch\">Switch</option>\n                    <option value=\"UPS\">UPS</option>\n                    <option value=\"others\">Others</option> */}\n                </Select>\n              </Label>\n            </div>\n          ) : (\n            <div className=\"flex flex-col w-full\">\n              <Label className=\"w-full\">\n                <span>Select Category*</span>\n                <Select\n                  className=\"mt-1\"\n                  value={values[num].type}\n                  onChange={(e) => {\n                    let newlist = [...values];\n                    // console.log(e.target.value)\n                    newlist[num].type = e.target.value.toLowerCase();\n                    // newlist[num].type = newlist[num].type.toLowerCase();\n                    // console.log(newlist)\n\n                    setValues(newlist);\n                  }}\n                >\n                  <option value=\"\" selected disabled>\n                    Select Type\n                  </option>\n\n                  <option value=\"console\">Console</option>\n                  <option value=\"DMP\">DMP</option>\n                  <option value=\"inkjet\">Inkjet</option>\n                  <option value=\"KVM\">KVM</option>\n                  <option value=\"laptop\">Laptop</option>\n                  <option value=\"laser\">Laser</option>\n                  <option value=\"LMP\">LMP</option>\n                  <option value=\"module\">Module</option>\n                  <option value=\"router\">Router</option>\n                  <option value=\"scanner\">Scanner</option>\n                  <option value=\"server\">Server</option>\n                  <option value=\"desktop\">Desktop</option>\n                  <option value=\"storage\">Storage</option>\n                  <option value=\"switch\">Switch</option>\n                  <option value=\"UPS\">UPS</option>\n                  <option value=\"others\">Others</option>\n                </Select>\n              </Label>\n            </div>\n          )}\n\n          {values[num].systype == \"item\" ? (\n            <>\n              <div className=\"flex flex-col w-full\">\n                <Label className=\"w-full\">\n                  <span>Product Name*</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    value={values[num].name}\n                    onChange={(e) => {\n                      let newlist = [...values];\n                      newlist[num].name = e.target.value;\n                      setValues(newlist);\n                    }}\n                  />\n                </Label>\n                <HelperText valid={false}>{err.name}</HelperText>\n              </div>\n            </>\n          ) : (\n            <>\n              <>\n                <div className=\"flex flex-col w-full\">\n                  <Label className=\"w-full\">\n                    <span>Brand*</span>\n                    <Input\n                      className=\"mt-1\"\n                      type=\"text\"\n                      value={values[num].brand}\n                      onChange={(e) => {\n                        let newlist = [...values];\n                        newlist[num].brand = e.target.value;\n                        setValues(newlist);\n                      }}\n                    />\n                  </Label>\n                  <HelperText valid={false}>{err.brand}</HelperText>\n                </div>\n              </>\n\n              <>\n                <div className=\"flex flex-col w-full\">\n                  <Label className=\"w-full\">\n                    <span>Model*</span>\n                    <Input\n                      className=\"mt-1\"\n                      type=\"text\"\n                      value={values[num].model}\n                      onChange={(e) => {\n                        let newlist = [...values];\n                        newlist[num].model = e.target.value;\n                        setValues(newlist);\n                      }}\n                    />\n                  </Label>\n                  <HelperText valid={false}>{err.name}</HelperText>\n                </div>\n              </>\n            </>\n          )}\n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Serial Number*</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={values[num].sno}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].sno = e.target.value;\n                  setValues(newlist);\n                }}\n              />\n            </Label>\n            <HelperText valid={false}>{err.sno}</HelperText>\n          </div>\n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Select Condition*</span>\n              <Select\n                className=\"mt-1\"\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].condition = e.target.value;\n                  setValues(newlist);\n                }}\n              >\n                <option value=\"Good\" selected>\n                  Good\n                </option>\n                <option value=\"Defective\">Defective</option>\n                <option value=\"DOA\">DOA</option>\n                <option value=\"Damaged\">Damaged</option>\n                <option value=\"Damaged\">Scrap</option>\n              </Select>\n            </Label>\n          </div>\n        </div>\n\n        {/* -------------Row 2 --------- */}\n        <div className=\"flex-row flex space-x-3\">\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Stock Type*</span>\n              <Select\n                className=\"mt-1\"\n                value={values[num].stocktype}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].stocktype = e.target.value;\n                  setValues(newlist);\n                }}\n              >\n                <option value=\"\" selected disabled>\n                  Select Stock Type\n                </option>\n                <option value=\"Purchased\">Purchased</option>\n                <option value=\"Serviced\">Serviced</option>\n              </Select>\n            </Label>\n          </div>\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Warranty*</span>\n              <Select\n                className=\"mt-1\"\n                value={values[num].wty}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].wty = e.target.value;\n                  setValues(newlist);\n                  setCalnum(num);\n                  setDateCalculate(!datecalculate);\n                }}\n              >\n                <option value=\"\" selected disabled>\n                  Select Category\n                </option>\n                <option value=\"0D\">0 days</option>\n                <option value=\"3M\">3 Months</option>\n                <option value=\"6M\">6 Months</option>\n                <option value=\"1Y\">1 Year</option>\n                <option value=\"2Y\">2 Years</option>\n                <option value=\"3Y\">3 Years</option>\n                <option value=\"4Y\">4 Years</option>\n                <option value=\"5Y\">5 Years</option>\n                <option value=\"20Y\">20 Years</option>\n              </Select>\n            </Label>\n          </div>\n\n          <>\n            <div className=\"flex flex-col w-full\">\n              <Label className=\"w-full\">\n                <span>Expiry Date</span>\n                <Input\n                  className=\"mt-1\"\n                  type=\"text\"\n                  value={values[num].expirydate}\n                  readOnly={true}\n                />\n              </Label>\n              <HelperText valid={false}>{err.name}</HelperText>\n            </div>\n          </>\n\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Tax Category*</span>\n              <Select\n                className=\"mt-1\"\n                value={values[num].taxcategory}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  let thestring = e.target.value;\n                  let theperc = thestring.slice(-3, -1);\n                  newlist[num].taxcategory = e.target.value;\n                  newlist[num].taxperc = theperc;\n                  setValues(newlist);\n                  // calculate trigger\n                  setCalnum(num);\n                  setCalculate(!calculate);\n                }}\n              >\n                {basevalues.purchlocation == \"Local\" ? (\n                  <>\n                    <option value=\"\" selected disabled>\n                      Select Tax Category\n                    </option>\n                    <option value=\"GST 18%\">GST 18%</option>\n                    <option value=\"GST 28%\">GST 28%</option>\n                  </>\n                ) : (\n                  <>\n                    <option value=\"\" selected disabled>\n                      Select Tax Category\n                    </option>\n                    <option value=\"IGST 18%\">IGST 18%</option>\n                    <option value=\"IGST 28%\">IGST 28%</option>\n                  </>\n                )}\n              </Select>\n            </Label>\n          </div>\n          {/* <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Tax Percentage*</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                readOnly=\"true\"\n                value={values[num].taxperc}\n              />\n            </Label>\n            <HelperText valid={false}>{err.invnumber}</HelperText>\n          </div> */}\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Rate*</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={values[num].rate}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].rate = e.target.value;\n                  setValues(newlist);\n                  setCalnum(num);\n                  setCalculate(!calculate);\n                }}\n              />\n            </Label>\n          </div>\n        </div>\n        {/* -------------------------ROw 3-------------------- */}\n        <div className=\"flex-row flex  space-x-3\">\n          <Label className=\" mt-3\">\n            Net Tax: {parseFloat(values[num].nettax).toFixed(2)}\n          </Label>\n          <Label className=\" ml-5 mt-3\">\n            Invoice Amount:\n            {parseFloat(values[num].invamount).toFixed(2)}\n          </Label>\n        </div>\n        {/* --------Row 4 ------------- */}\n        {/* <div className=\"flex-row flex space-x-3 my-2\">\n          {basevalues.purchlocation == \"Local\" ? (\n            <>\n              {\" \"}\n              <div className=\"flex flex-col w-full\">\n                <Label className=\"w-full\">\n                  <span>CGST*</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    readOnly=\"true\"\n                    value={values[num].cgst}\n                  />\n                </Label>\n              </div>\n              <div className=\"flex flex-col w-full\">\n                <Label className=\"w-full\">\n                  <span>SGST*</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    readOnly=\"true\"\n                    value={values[num].sgst}\n                  />\n                </Label>\n              </div>\n              <div className=\"flex flex-col w-full\">\n                <Label className=\"w-full\">\n                  <span>Net Tax*</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    readOnly=\"true\"\n                    value={values[num].nettax}\n                  />\n                </Label>\n              </div>\n            </>\n          ) : (\n            <>\n              {\" \"}\n              <div className=\"flex flex-col w-full\">\n                <Label className=\"w-full\">\n                  <span>IGST</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    readOnly=\"true\"\n                    value={values[num].igst}\n                  />\n                </Label>\n              </div>\n              <div className=\"flex flex-col w-full\">\n                <Label className=\"w-full\">\n                  <span>Net Tax*</span>\n                  <Input\n                    className=\"mt-1\"\n                    type=\"text\"\n                    readOnly=\"true\"\n                    value={values[num].nettax}\n                  />\n                </Label>\n              </div>\n            </>\n          )}\n        </div> */}\n        {/* ----row 4------ */}\n        {/* <div className=\"flex-row flex space-x-3\">\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Amount</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={values[num].amount}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].amount = e.target.value;\n                  setValues(newlist);\n                }}\n              />\n            </Label>\n          </div>\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>TCS</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={values[num].tcs}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].amount = e.target.value;\n                  setValues(newlist);\n                }}\n              />\n            </Label>\n          </div>\n          <div className=\"flex flex-col w-full\">\n            <Label className=\"w-full\">\n              <span>Invoice Amount</span>\n              <Input\n                className=\"mt-1\"\n                type=\"text\"\n                value={values[num].invamount}\n                onChange={(e) => {\n                  let newlist = [...values];\n                  newlist[num].invamount = e.target.value;\n                  setValues(newlist);\n                }}\n              />\n            </Label>\n          </div>\n        </div> */}\n\n        {/* <Label className=\"font-bold mt-5 mb-2\">\n    <span>Additional Information</span>\n  </Label> */}\n        {/* <hr /> */}\n      </div>\n    );\n  };\n\n  const BottomCard = () => {\n    return (\n      <Card className=\"mb-4 shadow-md \">\n        <CardBody>\n          <div className=\"flex flex-row flex-wrap justify-around\">\n            <Button\n              onClick={() => {\n                let newitem = [...values];\n                let add = invdetails;\n                newitem.push(add);\n                setValues(newitem);\n              }}\n              aria-label=\"Notifications\"\n              aria-haspopup=\"true\"\n              layout=\"outline\"\n              className=\" mx-2 \"\n            >\n              Add Item\n            </Button>\n\n            {/* <Button\n              onClick={() => {\n                let newitem = [...values];\n                if (newitem[1]) {\n                  newitem.pop();\n                  setValues(newitem);\n                }\n              }}\n              aria-label=\"Notifications\"\n              aria-haspopup=\"true\"\n              layout=\"outline\"\n              className=\" mx-2 \"\n            >\n              Remove Item\n            </Button> */}\n\n            <Button\n              onClick={() => {\n                let newitem = [...values];\n                let add = { ...values[values.length - 1] };\n                add.sno = \"\";\n                console.log(add);\n                newitem.push(add);\n                setValues(newitem);\n              }}\n              aria-label=\"Notifications\"\n              aria-haspopup=\"true\"\n              layout=\"outline\"\n              className=\" mx-2 \"\n            >\n              Add Similar Item\n            </Button>\n\n            <Button\n              onClick={submitItems}\n              aria-label=\"Notifications\"\n              aria-haspopup=\"true\"\n              // layout=\"outline\"\n              className=\" mx-2 \"\n            >\n              Submit\n            </Button>\n            {/* <Button\n              onClick={() => {\n                console.log(basevalues);\n              }}\n              aria-label=\"Notifications\"\n              aria-haspopup=\"true\"\n              // layout=\"outline\"\n              className=\" mx-2 \"\n            >\n              Test\n            </Button> */}\n            <div className=\" dark:text-gray-100 text-black font-bold flex-1 my-auto mx-20\">\n              <span>Invoice Amount: {parseFloat(basevalues.totalInvoice)}</span>\n            </div>\n          </div>\n        </CardBody>\n      </Card>\n    );\n  };\n\n  return (\n    <>\n      {BasicForm()}\n      {MessageModalComponent()}\n\n      {values.map((item, i) => {\n        return ItemForm(i);\n      })}\n      {BottomCard()}\n      {VendorModal()}\n    </>\n  );\n}\n\nexport default PurchaseInventory;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n} from \"@windmill/react-ui\";\nimport Axios from \"axios\";\nimport { Tabs, TabList, Tab, TabPanel } from \"react-tabs\";\nimport \"react-tabs/style/react-tabs.css\";\nimport { API } from \"../../backendapi\";\n\nexport default function CustomerCreateModal({\n  isModalOpen,\n  setIsModalOpen,\n  customer,\n  setCustomer,\n}) {\n  const [customers, setCustomers] = useState([]);\n  // const [accounts, setAccounts] = useState([]);\n  // const [units, setUnits] = useState([]);\n  const [tabIndex, setTabIndex] = useState(0);\n  const [search, setSearch] = useState(\"\");\n  const [tempbadgeView, setTempBadgeView] = useState(\"\");\n\n  //   Search Functions---------------------------------------------------------\n  const handleChange = (e) => {\n    setSearch(e.target.value);\n  };\n\n  //   -----------------------Send Search for Fuzzy ---------------------------------------------------------\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let payload = {\n      search: search,\n      role: 1,\n    };\n    try {\n      let response = await axios({\n        url: `${API}/customer/customers`,\n        method: \"POST\",\n        data: payload,\n      });\n      console.log(response.data);\n      setCustomers(response.data);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  //   ---------------Intital Load ----------------------------\n\n  useEffect(() => {\n    (async function thegetter() {\n      let payload = {\n        search: search,\n        role: 1,\n      };\n      try {\n        let response = await axios({\n          url: `${API}/customer/customers`,\n          method: \"POST\",\n          data: payload,\n        });\n        console.log(response.data);\n        setCustomers(response.data);\n      } catch (error) {\n        throw error;\n      }\n    })();\n  }, []);\n\n  const pickCustomer = async (customer) => {\n    // console.log(customer);\n    setCustomer({\n      _id: customer._id,\n      customerName: customer.name,\n    });\n    setIsModalOpen(false);\n    // setTempBadgeView(customer.customerName);\n  };\n\n  const CustomerTable = () => {\n    return (\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Customer</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n            <tr>\n              <TableCell>\n                <form onSubmit={handleSubmit}>\n                  <input\n                    className=\"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input\"\n                    placeholder=\"Search Customers\"\n                    onChange={handleChange}\n                  />\n                </form>\n              </TableCell>\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {customers.map((customer, i) => (\n              <TableRow\n                key={i}\n                className=\"hover:bg-purple-200 cursor-pointer\"\n                onClick={() => pickCustomer(customer)}\n              >\n                <TableCell>\n                  <div>\n                    <div>\n                      <p className=\"font-semibold\">{customer.name}</p>\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter></TableFooter>\n      </TableContainer>\n    );\n  };\n\n  return (\n    <>\n      {/* <div>\n      <Button onClick={openModal}>Open modal</Button>\n    </div> */}\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)}>\n        <ModalHeader>Select Customer</ModalHeader>\n        <ModalBody className=\"overflow-y-scroll h-64\">\n          <Tabs selectedIndex={tabIndex} onSelect={(ind) => setTabIndex(ind)}>\n            <TabList>\n              <Tab>Customer</Tab>\n            </TabList>\n            <TabPanel>{CustomerTable()}</TabPanel>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          {/* <Badge className=\"mx-2 text-md\" type=\"success\">\n            Customer: {tempbadgeView}\n          </Badge> */}\n          {/* <Badge className=\"mx-2 text-md\" type=\"success\">\n            Account : {account.accountName}\n          </Badge>\n          <Badge className=\"mx-2 text-md\" type=\"success\">\n            Unit: {unit.unitName}\n          </Badge> */}\n          <Button\n            className=\"w-full sm:w-auto\"\n            // layout=\"outline\"\n            onClick={() => {\n              setIsModalOpen(false);\n            }}\n          >\n            Select\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n}\n","import Axios from \"axios\";\nimport { API } from \"../backendapi\";\nimport Emp from \"../helpers/auth/EmpProfile\";\n\nexport const unitCreate = (newunit) => {\n  return Axios.post(`${API}/unit/${Emp.getId()}/create`, newunit)\n    .then((unit) => {\n      console.log(\"h\", unit.data);\n      return unit.data;\n    })\n    .catch((error) => {\n      console.log(\"ERRRROs\");\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        throw error.response.data.errors;\n      }\n    });\n};\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n} from \"@windmill/react-ui\";\nimport Axios from \"axios\";\nimport { Tabs, TabList, Tab, TabPanel } from \"react-tabs\";\nimport \"react-tabs/style/react-tabs.css\";\nimport { API } from \"../../backendapi\";\n\nexport default function AddUnitModal({\n  isModalOpen,\n  setIsModalOpen,\n\n  account,\n  setAccount,\n  customer,\n  setCustomer,\n}) {\n  const [customers, setCustomers] = useState([]);\n  const [accounts, setAccounts] = useState([]);\n  // const [units, setUnits] = useState([]);\n  const [tabIndex, setTabIndex] = useState(0);\n  const [search, setSearch] = useState(\"\");\n\n  //   Search Functions---------------------------------------------------------\n  const handleChange = (e) => {\n    setSearch(e.target.value);\n  };\n\n  //   -----------------------Send Search for Fuzzy ---------------------------------------------------------\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let payload = {\n      search: search,\n      role: 1,\n    };\n    try {\n      let response = await axios({\n        url: `${API}/customer/customers`,\n        method: \"POST\",\n        data: payload,\n      });\n      console.log(response.data);\n      setCustomers(response.data);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  //   ---------------Intital Load ----------------------------\n\n  useEffect(() => {\n    (async function thegetter() {\n      let payload = {\n        search: search,\n        role: 1,\n      };\n      try {\n        let response = await axios({\n          url: `${API}/customer/customers`,\n          method: \"POST\",\n          data: payload,\n        });\n        console.log(response.data);\n        setCustomers(response.data);\n      } catch (error) {\n        throw error;\n      }\n    })();\n  }, []);\n\n  const pickCustomer = async (customer) => {\n    // console.log(customer);\n    setCustomer({\n      _id: customer._id,\n      customerName: customer.name,\n    });\n    setAccount({\n      _id: \"\",\n      accountName: \"\",\n    });\n\n    try {\n      const accs = await Axios.post(`${API}/customer/accounts`, {\n        customerId: customer._id,\n      });\n      console.log(accs.data);\n      // let temp = [];\n      // accs.data.map((acc) => {\n      //   temp.push(acc);\n      // });\n      setAccounts(accs.data);\n      setTabIndex(1);\n    } catch (err) {\n      console.log(\"axiosErr\", err);\n    }\n  };\n\n  const pickAccount = async (account) => {\n    console.log(account);\n    setAccount({\n      _id: account._id,\n      accountName: account.name,\n    });\n  };\n\n  const CustomerTable = () => {\n    return (\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Customer</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n            <tr>\n              <TableCell>\n                <form onSubmit={handleSubmit}>\n                  <input\n                    className=\"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input\"\n                    placeholder=\"Search Customers\"\n                    onChange={handleChange}\n                  />\n                </form>\n              </TableCell>\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {customers.map((customer, i) => (\n              <TableRow\n                key={i}\n                className=\"hover:bg-purple-200 cursor-pointer\"\n                onClick={() => pickCustomer(customer)}\n              >\n                <TableCell>\n                  <div>\n                    <div>\n                      <p className=\"font-semibold\">{customer.name}</p>\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter></TableFooter>\n      </TableContainer>\n    );\n  };\n\n  const AccountTable = () => {\n    return (\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Account</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {accounts.map((account, i) => (\n              <TableRow\n                key={i}\n                className=\"hover:bg-purple-200 cursor-pointer\"\n                onClick={() => pickAccount(account)}\n              >\n                <TableCell>\n                  <div>\n                    <div>\n                      <p className=\"font-semibold\">{account.name}</p>\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter></TableFooter>\n      </TableContainer>\n    );\n  };\n\n  return (\n    <>\n      {/* <div>\n      <Button onClick={openModal}>Open modal</Button>\n    </div> */}\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)}>\n        <ModalHeader>\n          Select {tabIndex == 0 ? <>Customer</> : <>Account</>}\n        </ModalHeader>\n        <ModalBody className=\"overflow-y-scroll h-64\">\n          <Tabs selectedIndex={tabIndex} onSelect={(ind) => setTabIndex(ind)}>\n            <TabList>\n              <Tab>Customer</Tab>\n              <Tab>Account</Tab>\n            </TabList>\n            <TabPanel>{CustomerTable()}</TabPanel>\n            <TabPanel>{AccountTable()}</TabPanel>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          <Badge className=\"mx-2 text-md\" type=\"success\">\n            Customer: {customer.customerName}\n          </Badge>\n          <Badge className=\"mx-2 text-md\" type=\"success\">\n            Account : {account.accountName}\n          </Badge>\n\n          <Button\n            className=\"w-full sm:w-auto\"\n            // layout=\"outline\"\n            onClick={() => {\n              setIsModalOpen(false);\n              // setRefresh(!refresh);\n\n              setAccounts([]);\n            }}\n          >\n            Select\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n}\n"],"sourceRoot":""}