(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[54],{1192:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a.n(n),r=a(12),c=a(19),o=a(6),u=a(3),s=a(0),m=a.n(s),p=a(9),d=a.n(p),i=a(10),E=a(18),b=a(191),f=a(194),h=a(2),v=(a(24),a(202),a(192),a(7));t.default=function(){var e=Object(v.g)(),t=Object(v.i)().id,a=Object(s.useState)(!1),n=Object(u.a)(a,2),p=n[0],N=n[1],y=Object(s.useState)(!1),C=Object(u.a)(y,2),O=(C[0],C[1],Object(s.useState)({_id:"",customerName:""})),g=Object(u.a)(O,2),w=(g[0],g[1],Object(s.useState)({username:"",email:"",password:"",confpassword:"",name:"",unitId:[],address:"",district:"",state:"",locationType:"",pincode:"",GSTnumber:"",contactPerson:"",contactNo:"",altContact:"",WhatsappNo:"",role:0})),T=Object(u.a)(w,2),x=T[0],j=T[1],S=Object(s.useState)({email:"",name:"",enc_password:"",confpassword:""}),k=Object(u.a)(S,2),I=k[0],L=(k[1],function(e){return function(t){j(Object(o.a)(Object(o.a)({},x),{},Object(c.a)({},e,t.target.value)))}}),P=function(){var e=Object(r.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t},e.prev=1,e.next=4,d()({url:"".concat(i.a,"/customer/").concat(E.a.getId(),"/getCustomerById"),method:"POST",data:a});case 4:n=e.sent,j({username:n.data[0].username,email:n.data[0].email,name:n.data[0].name,address:n.data[0].address,district:n.data[0].district,state:n.data[0].state,locationType:n.data[0].locationType,pincode:n.data[0].pincode,GSTnumber:n.data[0].GSTnumber,contactPerson:n.data[0].contactPerson,contactNo:n.data[0].contactNo,altContact:n.data[0].altContact,role:n.data[0].role}),console.log("Done",n.data[0]),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){P()}),[]);var M=function(){var e=Object(r.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t,update:{name:x.name,address:x.address,district:x.district,state:x.state,locationType:x.locationType,pincode:x.pincode,GSTnumber:x.GSTnumber,contactPerson:x.contactPerson,contactNo:x.contactNo,altContact:x.altContact,whatsappNo:x.WhatsappNo}},console.log("PAYLOAD",a),e.prev=2,e.next=5,d()({url:"".concat(i.a,"/customer/").concat(E.a.getId(),"/update"),method:"POST",data:a});case 5:N(!0),console.log("Done"),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(m.a.Fragment,null,m.a.createElement(b.a,null,"Add Customer"),m.a.createElement("div",{className:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},m.a.createElement(h.Label,{className:"font-bold"},m.a.createElement("span",null,"Update Customer")),m.a.createElement("hr",{className:"mb-2 mt-2"}),m.a.createElement(h.Label,null,m.a.createElement("span",null," Type"),m.a.createElement(f.a,null,1==x.role?m.a.createElement(m.a.Fragment,null,"Customer"):m.a.createElement(m.a.Fragment,null,"Account"))),m.a.createElement(h.Label,null,m.a.createElement("span",null,"UserName"),m.a.createElement(f.a,null,x.username," ")),m.a.createElement(h.HelperText,{valid:!1},I.username),m.a.createElement(h.Label,null,m.a.createElement("span",null,"Email"),m.a.createElement(f.a,null,x.email," ")),m.a.createElement(m.a.Fragment,null,m.a.createElement(h.Label,null,m.a.createElement("span",null,"Customer Name"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.name,onChange:L("name")})),m.a.createElement(h.HelperText,{valid:!1},I.customerName)),m.a.createElement(h.HelperText,{valid:!1},I.email),m.a.createElement(h.Label,{className:"font-bold mt-5 mb-2"},m.a.createElement("span",null,"Additional Information")),m.a.createElement("hr",null),m.a.createElement(h.Label,null,m.a.createElement("span",null,"Address"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.address,onChange:L("address")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"District"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.district,onChange:L("district")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"state"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.state,onChange:L("state")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"Location Type"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.locationType,onChange:L("locationType")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"PIN code"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.pincode,onChange:L("pincode")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"GST Number"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.GSTnumber,onChange:L("GSTnumber")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"Contact Person"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.contactPerson,onChange:L("contactPerson")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"Contact Number"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.contactNo,onChange:L("contactNo")}))," ",m.a.createElement(h.Label,null,m.a.createElement("span",null,"Whatsapp Number"),m.a.createElement(h.Input,{className:"mt-1",type:"text",value:x.WhatsappNo,onChange:L("WhatsappNo")})),m.a.createElement("hr",{className:"my-8"}),m.a.createElement("hr",null),m.a.createElement(h.Button,{onClick:M,"aria-label":"Notifications","aria-haspopup":"true",className:"mt-4"},"Update Information")),m.a.createElement(m.a.Fragment,null,m.a.createElement(h.Modal,{isOpen:p,onClose:function(){return N(!1)}},m.a.createElement(h.ModalHeader,null,"Customer Updated Successfully!"),m.a.createElement(h.ModalBody,null),m.a.createElement(h.ModalFooter,null,m.a.createElement(h.Button,{className:"w-full sm:w-auto",onClick:function(){return e.push("/app/customer/getCustomerById/".concat(t))}},"Okay!")))))}},202:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),u=a.n(o),s=a(9),m=a.n(s),p=a(2),d=a(192),i=(a(196),a(10));function E(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=(e.customer,e.setCustomer),s=Object(o.useState)([]),E=Object(c.a)(s,2),b=E[0],f=E[1],h=Object(o.useState)(0),v=Object(c.a)(h,2),N=v[0],y=v[1],C=Object(o.useState)(""),O=Object(c.a)(C,2),g=O[0],w=O[1],T=Object(o.useState)(""),x=Object(c.a)(T,2),j=(x[0],x[1],function(e){w(e.target.value)}),S=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:g,role:1},e.prev=2,e.next=5,m()({url:"".concat(i.a,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),f(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:g,role:1},e.prev=1,e.next=4,m()({url:"".concat(i.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),f(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var k=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({_id:t._id,customerName:t.name}),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(p.ModalHeader,null,"Select Customer"),u.a.createElement(p.ModalBody,{className:"overflow-y-scroll h-64"},u.a.createElement(d.d,{selectedIndex:N,onSelect:function(e){return y(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer")),u.a.createElement(d.c,null,u.a.createElement(p.TableContainer,null,u.a.createElement(p.Table,null,u.a.createElement(p.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(p.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(p.TableCell,null,u.a.createElement("form",{onSubmit:S},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:j}))))),u.a.createElement(p.TableBody,null,b.map((function(e,t){return u.a.createElement(p.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return k(e)}},u.a.createElement(p.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(p.TableFooter,null))))),u.a.createElement(p.ModalFooter,null,u.a.createElement(p.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1)}},"Select"))))}}}]);
//# sourceMappingURL=54.bd7219dc.chunk.js.map