{"version":3,"sources":["pages/Inventory/Inventory.js","helpers/toolfuctions/toolfunctions.js","../../src/FileSaver.js","../node_modules/react-csv/lib/core.js","../node_modules/react-csv/lib/metaProps.js","components/Modal/AssetFilters/CustomerSelection.js","../node_modules/react-csv/index.js","../node_modules/react-csv/lib/index.js","../node_modules/react-csv/lib/components/Download.js","../node_modules/react-csv/lib/components/Link.js"],"names":["Inventory","useState","isDeleteModalOpen","setIsDeleteModalOpen","deleteId","setDeleteId","isViewModalOpen","setIsViewModalOpen","historyModalOpen","setHistoryModalOpen","viewId","setViewId","isDwnldModalOpen","setIsDwnldModalOpen","useContext","BottomBarContext","setBBarOpen","bbaropen","setAssetDetails","assetdetails","activerowid","setActiveRowId","TopBarContext","setTopHeading","topheading","page","setPage","data","setData","refresh","setRefresh","type","setType","location","setLocation","condition","setCondition","selectedprod","searchtype","searchquery","setSearchQuery","totalResults","setTotalResults","downloadInv","a","csv","payload","pages","limit","filters","toLocaleLowerCase","axios","url","API","Emp","getId","method","response","console","log","out","array","map","i","name","id","sno","invnumber","invdate","invtype","purchtype","purchlocation","vendor","gstno","panno","aadharno","taxcategory","taxperc","rate","igst","cgst","sgst","nettax","amount","tcs","invamount","wty","expirydate","brand","model","systype","stocktype","caseId","csvData","Blob","saveAs","useEffect","total","isOpen","onClose","className","onClick","temp","filter","x","_id","item","moment","format","ViewModal","layout","history","entry","key","date","capitalize","histtype","callId","assetId","status","note","HistoryModal","class","value","onChange","e","target","disabled","selected","xmlns","viewBox","d","onSubmit","preventDefault","placeholder","user","size","aria-label","to","aria-hidden","resultsPerPage","label","p","exports","s","charAt","toUpperCase","slice","MouseEvent","document","window","self","global","test","navigator","HTMLAnchorElement","b","setTimeout","f","autoBom","open","module","Object","defineProperty","_typeof","Symbol","iterator","obj","constructor","prototype","_toConsumableArray","arr","Array","isArray","arr2","length","from","isSafari","userAgent","isJsons","every","row","isArrays","jsonsHeaders","json","keys","reduce","Set","concat","jsons2arrays","jsons","headers","headerLabels","headerKeys","header","object","getHeaderValue","property","foundValue","replace","split","o","undefined","splice","elementOrEmpty","element","joiner","separator","arguments","enclosingCharacter","column","join","arrays2csv","jsons2csv","string2csv","toCSV","TypeError","buildURI","uFEFF","blob","dataURI","URL","webkitURL","createObjectURL","PropsNotForwarded","defaultProps","propTypes","_react","require","_propTypes","__esModule","oneOfType","string","isRequired","filename","bool","func","asyncOnClick","CustomerSelection","isModalOpen","setIsModalOpen","unit","setUnit","account","setAccount","customer","setCustomer","customers","setCustomers","accounts","setAccounts","units","setUnits","tabIndex","setTabIndex","search","setSearch","handleChange","handleSubmit","role","pickCustomer","customerName","accountName","unitName","Axios","post","customerId","accs","pickAccount","accountId","u","pickUnit","selectedIndex","onSelect","ind","CSVLink","CSVDownload","_Download2","_interopRequireDefault","_Link2","default","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_core","_metaProps","_React$Component","instance","_classCallCheck","this","_this","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","state","subClass","superClass","create","setPrototypeOf","_inherits","apply","_props","specs","Component","assign","_extends","source","hasOwnProperty","bind","href","setState","prevProps","_props2","event","msSaveOrOpenBlob","_props3","msSaveBlob","_this2","proceed","handleLegacy","_this3","handleAsyncClick","handleSyncClick","_this4","_props4","children","rest","indexOf","_objectWithoutProperties","createElement","download","ref","link","handleClick"],"mappings":"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","file":"static/js/11.7a440ee6.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\n\nimport Emp from \"../../helpers/auth/EmpProfile\";\nimport { EditIcon, TrashIcon } from \"../../icons\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"@windmill/react-ui\";\nimport { CSVLink, CSVDownload } from \"react-csv\";\nimport { saveAs } from \"file-saver\";\n\nimport {\n  TableBody,\n  TableContainer,\n  Table,\n  Button,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n  Dropdown,\n  DropdownItem,\n} from \"@windmill/react-ui\";\n\nimport { API } from \"../../backendapi\";\nimport CustomerSelection from \"../../components/Modal/AssetFilters/CustomerSelection\";\nimport { BottomBarContext } from \"../../context/BottomBarContext\";\nimport { Link } from \"react-router-dom\";\nimport { TopBarContext } from \"../../context/TopBarContext\";\nimport { capitalize } from \"../../helpers/toolfuctions/toolfunctions\";\n\nfunction Inventory() {\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [deleteId, setDeleteId] = useState(0);\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\n  const [historyModalOpen, setHistoryModalOpen] = useState(false);\n  const [viewId, setViewId] = useState(0);\n  const [isDwnldModalOpen, setIsDwnldModalOpen] = useState(false);\n\n  const { bbaropen, setBBarOpen, setAssetDetails, assetdetails } = useContext(\n    BottomBarContext\n  );\n  // table variable styles\n  const [activerowid, setActiveRowId] = useState(0);\n\n  const { topheading, setTopHeading } = useContext(TopBarContext);\n\n  const [floatbox, setFloatBox] = useState(false);\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  // dropdown and modals\n  const [isOpen, setIsOpen] = useState(false);\n  const [isOpenTwo, setIsOpenTwo] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [refresh, setRefresh] = useState(true);\n  const [disabler, setDisabler] = useState(true);\n\n  // filterhooks\n  const [type, setType] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [condition, setCondition] = useState(\"\");\n\n  // Selected Prod for the bottom bar----------\n  const [selectedprod, setSelectedProd] = useState({});\n\n  // search\n  const [searchtype, setSearchType] = useState(\"\");\n  const [searchlabel, setSearchLabel] = useState(\"\");\n  const [searchquery, setSearchQuery] = useState(\"\");\n\n  // Getting data states\n\n  // pagination setup\n  const resultsPerPage = 10;\n  const [totalResults, setTotalResults] = useState(20);\n\n  // pagination change control\n  function onPageChange(p) {\n    setPage(p);\n  }\n\n  const downloadInv = async () => {\n    let csv =\n      \"name,id,sno,condition,location,invnumber,invdate,invtype,purchtype,purchlocation,vendor,gstno,panno,aadharno,taxcategory,taxperc,rate,igst,cgst,sgst,nettax,amount,tcs,invamount,wty,expirydate,brand,model,systype,stocktype,caseId \\n\";\n\n    let array;\n    let payload = {\n      pages: {\n        page: page,\n        limit: 10000000,\n      },\n      // filters: {\n      //   type: \"\",\n      //   location: \"\",\n      //   condition: \"\",\n      //   searchtype: \"\",\n      //   searchquery: \"\",\n      // },\n      filters: {\n        type: type.toLocaleLowerCase(),\n        location: location,\n        condition: condition,\n        searchtype: searchtype,\n        searchquery: searchquery,\n      },\n    };\n    try {\n      let response = await axios({\n        url: `${API}/inventory/${Emp.getId()}/getall`,\n        method: \"POST\",\n        data: payload,\n      });\n      console.log(response.data.out);\n      array = response.data.out;\n      // return response.data;\n    } catch (error) {\n      throw error;\n    }\n    array.map((i) => {\n      csv =\n        csv +\n        `${i.name},${i.id},${i.sno},${i.condition},${i.location},${i.invnumber},${i.invdate},${i.invtype},${i.purchtype},${i.purchlocation},${i.vendor},${i.gstno},${i.panno},${i.aadharno},${i.taxcategory},${i.taxperc},${i.rate},${i.igst},${i.cgst},${i.sgst},${i.nettax},${i.amount},${i.tcs},${i.invamount},${i.wty},${i.expirydate},${i.brand},${i.model},${i.systype},${i.stocktype},${i.caseId}\\n`;\n    });\n    // console.log(csv);\n    const csvData = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\n    saveAs(csvData, \"Inventory.csv\");\n  };\n\n  const DeleteModal = () => {\n    return (\n      <>\n        <Modal\n          isOpen={isDeleteModalOpen}\n          onClose={() => setIsDeleteModalOpen(false)}\n        >\n          <ModalHeader>Are you sure you want to delete!</ModalHeader>\n          <ModalBody></ModalBody>\n          <ModalFooter>\n            <Button\n              className=\"w-full sm:w-auto\"\n              onClick={async () => {\n                try {\n                  let response = await axios({\n                    url: `${API}/inventory/${Emp.getId()}/delete`,\n                    method: \"POST\",\n                    data: { id: deleteId },\n                  });\n                  console.log(response.data);\n                  let temp = data.filter((x) => x._id != deleteId);\n                  setData(temp);\n                  setIsDeleteModalOpen(false);\n\n                  // setData(response.data);\n                } catch (error) {\n                  throw error;\n                }\n              }}\n            >\n              Confirm Delete\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </>\n    );\n  };\n\n  const ViewModal = () => {\n    if (data[viewId]) {\n      let item = data[viewId];\n      return (\n        <>\n          <Modal\n            isOpen={isViewModalOpen}\n            onClose={() => setIsViewModalOpen(false)}\n            className=\"w-7/12 dark:bg-gray-800 p-10 my-6  bg-gray-50 text-gray-900 dark:text-white  rounded-lg overflow-y-scroll\"\n          >\n            <ModalHeader className=\"flex flex-row justify-between text-xl\">\n              <div>{item.name}</div>\n              <div>\n                Condition: <Badge>{item.condition}</Badge>{\" \"}\n              </div>\n            </ModalHeader>\n            <ModalBody>\n              <div className=\"font-semibold text-xl my-2\">\n                Product Description\n              </div>\n\n              <div className=\" py-3 px-10 flex flex-col lg:flex-row items-center dark:bg-gray-700 justify-between bg-gray-100 rounded-lg \">\n                <div className=\"my-3  flex-col flex\">\n                  <div className=\"font-semibold\"> Serial No: {item.sno}</div>\n                  <div>Invnetory No: {item.invnumber}</div>\n                  <div>Location: {item.location}</div>\n                  <div>GST No: {item.gstno}</div>\n                  <div>Expiry Date: {item.expirydate}</div>\n                </div>\n                <div className=\"my-3 font- flex-col flex\">\n                  <span className=\"font-semibold\">Type: {item.type}</span>\n                  <div>\n                    inventory Date: {moment(item.invdate).format(\"DD/MM/YY\")}\n                  </div>\n                  <div>Purchase Location: {item.purchlocation}</div>\n                  <div>PAN No: {item.panno}</div>\n                  <div>Warranty: {item.wty}</div>\n                </div>\n                <div className=\"my-3  flex-col flex\">\n                  <div className=\"font-semibold\">Vendor: {item.vendor}</div>\n                  <div>Inventory Type: {item.invtype}</div>\n                  <div>Purchase type: {item.purchtype}</div>\n                  <div>Aadhar No: {item.aadharno}</div>\n                </div>\n              </div>\n\n              <div className=\"font-semibold text-xl my-2\">Product Rates</div>\n\n              <div className=\"flex flex-col lg:flex-row items-center dark:bg-gray-700 justify-between bg-gray-100 rounded-lg p-5 \">\n                <div className=\"my-3  flex-col flex\">\n                  <span className=\"font-semibold\">Amount:{item.amount}</span>\n                  <div className=\"font-semibold\">Net tax: {item.nettax}</div>\n                  <div>IGST: {item.igst}</div>\n                  <div>TCS: {item.tcs}</div>\n                </div>\n                <div className=\"my-3 font- flex-col flex\">\n                  <div className=\"font-semibold\">Rate: {item.rate}</div>\n                  <span>Tax Category:{item.taxcategory}</span>\n                  <div>CGST : {item.cgst}</div>\n                </div>\n                <div className=\"my-3  flex-col flex\">\n                  <div className=\"font-semibold\">\n                    Invoice Amount:{item.invamount}\n                  </div>\n                  <div>Tax percentage: {item.taxperc}</div>\n                  <div>SGST: {item.sgst}</div>\n                </div>\n              </div>\n\n              {/* <div className=\"flex flex-col lg:flex-row items-center justify-between bg-gray-100 rounded-lg p-3 \">\n              <div className=\"my-3  flex-col flex\">\n                \n                \n                <span>Type:{item.type}</span>\n                <span>vendor:{item.vendor}</span>\n                <span>location:{item.location}</span>\n                <span>Invnetory No:{item.invnumber}</span>\n                <span>taxcategory:{item.taxcategory}</span>\n                <span>amount:{item.amount}</span>\n                \n\n              </div>\n              <div className=\"my-3 font-semibold flex-col flex\">\n                \n                <div>inventory Date: {moment(item.invdate).format(\"DD/MM/YY\")}</div>\n                <div>gstno: {item.gstno}</div>\n                <div>taxperc: {item.taxperc}</div>\n                <div>tcs: {item.tcs}</div>\n                <div>expirydate: {item.expirydate}</div>\n                <div>Warranty: {item.wty}</div>\n              </div>\n                <div className=\"my-3 font-semibold flex-col flex\">\n                  <div> Serial No: {item.sno}</div>\n                  <div>Inventory Type: {item.invtype}</div>\n                  <div>Inventory Type: {item.invtype}</div>\n                  <div>panno: {item.panno}</div>\n                  <div>nettax: {item.nettax}</div>\n                  <div>igst: {item.igst}</div>\n                  \n                </div>\n                <div className=\"my-3 font-semibold flex-col flex\">\n                  <div> Condition: {item.condition}</div>\n                  <div>Purchase type: {item.purchtype}</div>\n                  <div>aadharno: {item.aadharno}</div>\n                  <div>rate: {item.rate}</div>\n                  <div>cgst: {item.cgst}</div>\n                  <div>sgst: {item.sgst}</div>\n                  \n                </div>\n           </div> */}\n\n              <div className=\"flex flex-col lg:flex-row items-center justify-between\">\n                {/* <div className=\"font-semibold\">Invoice Amount:{item.invamount}</div> */}\n              </div>\n            </ModalBody>\n            <ModalFooter></ModalFooter>\n          </Modal>\n        </>\n      );\n    }\n  };\n\n  const HistoryModal = () => {\n    if (data[viewId]) {\n      let item = data[viewId];\n      let history = data[viewId].history;\n      console.log(history);\n\n      return (\n        <>\n          <Modal\n            isOpen={historyModalOpen}\n            onClose={() => setHistoryModalOpen(false)}\n            className=\"w-7/12 dark:bg-gray-800 p-10 my-6  bg-gray-50 text-gray-900 dark:text-white  rounded-lg overflow-y-scroll\"\n          >\n            <ModalHeader className=\"flex flex-row justify-between text-xl\">\n              <div>{item.name}</div>\n              <div>\n                Condition: <Badge>{item.condition}</Badge>{\" \"}\n              </div>\n            </ModalHeader>\n            <ModalBody>\n              <div className=\"font-semibold text-xl my-2\">\n                Inventory History\n              </div>\n              {/* ------------------------- Table ------------------------------ */}\n              <TableContainer className=\"mt-4\">\n                <Table>\n                  <TableHeader>\n                    <tr>\n                      <TableCell>Date</TableCell>\n                      <TableCell>Type</TableCell>\n                      <TableCell>Call ID</TableCell>\n                      <TableCell>Asset ID</TableCell>\n                      <TableCell>Location</TableCell>\n                      <TableCell>Status</TableCell>\n                      <TableCell>Notes</TableCell>\n                    </tr>\n                  </TableHeader>\n                  <TableBody>\n                    {history.map((entry, i) => (\n                      <TableRow\n                        className={`hover:shadow-lg dark:hover:bg-gray-600 ${\n                          activerowid == entry._id\n                            ? \"bg-blue-300 shadow-lg dark:bg-gray-600\"\n                            : \"white\"\n                        } `}\n                        key={i}\n                        onClick={() => {\n                          // setActiveRowId(user._id);\n                          // console.log(\"the id is \" + user._id);\n                          // setSelectedProd(user);\n                          // setAssetDetails(user);\n                          // console.log(user.product.keyboard[0].keyboardname);\n                        }}\n                      >\n                        <TableCell className=\"w-8\">\n                          <div className=\"flex items-center text-sm \">\n                            <div>\n                              <p className=\"font-semibold\">\n                                {moment(entry.date).format(\"DD-MM-YYYY\")}\n                              </p>\n                            </div>\n                          </div>\n                        </TableCell>\n                        <TableCell>\n                          <span className=\"text-sm\">\n                            {capitalize(entry.histtype)}\n                          </span>\n                        </TableCell>\n\n                        <TableCell>\n                          <span className=\"text-sm\">{entry.callId}</span>\n                        </TableCell>\n                        <TableCell>\n                          <span className=\"text-sm\">{entry.assetId}</span>\n                        </TableCell>\n                        <TableCell>\n                          <span className=\"text-sm\">{entry.location}</span>\n                        </TableCell>\n                        <TableCell>\n                          <span className=\"text-sm\">{entry.status}</span>\n                        </TableCell>\n                        <TableCell>\n                          <span className=\"text-sm\">{entry.note}</span>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n                {/* <TableFooter>\n                  <Pagination\n                    totalResults={totalResults}\n                    resultsPerPage={resultsPerPage}\n                    label=\"Table navigation\"\n                    onChange={onPageChange}\n                  />\n                </TableFooter> */}\n              </TableContainer>\n            </ModalBody>\n            <ModalFooter></ModalFooter>\n          </Modal>\n        </>\n      );\n    }\n  };\n\n  const DwnldModal = () => {\n    return (\n      <>\n        <Modal\n          isOpen={isDwnldModalOpen}\n          onClose={() => setIsDwnldModalOpen(false)}\n          className=\"w-7/12 dark:bg-gray-800 p-10 my-6  bg-gray-50 text-gray-900 dark:text-white  rounded-lg overflow-y-scroll\"\n        >\n          <ModalHeader className=\"flex flex-row justify-between text-xl\">\n            <div className=\"text-lg\">Download Inventory Data?</div>\n          </ModalHeader>\n          <ModalBody>\n            <Button layout=\"outline\" onClick={downloadInv}>\n              Download\n            </Button>\n          </ModalBody>\n          <ModalFooter></ModalFooter>\n        </Modal>\n      </>\n    );\n  };\n\n  // on page change, load new sliced data\n  // here you would make another server request for new data\n\n  // -------Enabling Bottom Bar----\n  useEffect(() => {\n    // setBBarOpen(1);\n    return () => {\n      setBBarOpen(0);\n      setAssetDetails({});\n    };\n  }, []);\n  // -------------------------------\n  // ----------------------Heading Use Effect-------------\n  useEffect(() => {\n    setTopHeading(\"Inventory\");\n    return () => {\n      setTopHeading(\"\");\n    };\n  }, []);\n  // -----------------------------------------------------\n\n  useEffect(() => {\n    // Using an IIFE\n    (async function thegetter() {\n      console.log(\"getter called\");\n      let payload = {\n        pages: {\n          page: page,\n          limit: resultsPerPage,\n        },\n        filters: {\n          type: type.toLocaleLowerCase(),\n          location: location,\n          condition: condition,\n          searchtype: searchtype,\n          searchquery: searchquery,\n        },\n      };\n      // console.log(`${API}/asset/${Emp.getId()}/getall`);\n\n      try {\n        let response = await axios({\n          url: `${API}/inventory/${Emp.getId()}/getall`,\n          method: \"POST\",\n          data: payload,\n        });\n        console.log(response.data.out);\n        setTotalResults(response.data.total);\n        // const { total, data } = response.data;\n        // console.log(data + \"Now\");\n\n        setData(response.data.out);\n      } catch (error) {\n        throw error;\n      }\n    })();\n    // setData(response.slice((page - 1) * resultsPerPage, page * resultsPerPage));\n  }, [page, location, condition, type, refresh]);\n\n  console.log(selectedprod);\n\n  return (\n    <>\n      {DeleteModal()}\n      {ViewModal()}\n      {DwnldModal()}\n      {HistoryModal()}\n\n      <div className=\"mb-64 mt-4\">\n        {/* ------------------------------------------Filters----------------------------------------------------------------------------  */}\n        <div className=\"\">\n          {/* -------------------------------------Row 1 ------------------------------------------------------------------------------- */}\n          <div class=\"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 \">\n            <div class=\"relative mx-1 \">\n              <select\n                class=\" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500\"\n                value={type}\n                onChange={(e) => {\n                  setType(e.target.value);\n                }}\n              >\n                <option value=\"\" disabled selected>\n                  Item Type\n                </option>\n                <option value=\"\">All</option>\n                <option value=\"Mouse\">Mouse</option>\n                <option value=\"Keyboard\">Keyboard</option>\n                <option value=\"Monitor\">Monitor</option>\n                <option value=\"Cpu\">Cpu</option>\n                <option value=\"Ram\">Ram</option>\n                <option value=\"Fan\">Fan</option>\n                <option value=\"Motherboard\">Motherboard</option>\n                <option value=\"SMPS\">SMPS</option>\n                <option value=\"HDD\">HDD</option>\n                <option value=\"SMPS\">SMPS</option>\n                <option value=\"GCard\">Gcard</option>\n                <option value=\"EnetCard\">Enet Card</option>\n                <option value=\"SerialCard\">Serial Card</option>\n                <option value=\"ParalellCard\">Paralell Card</option>\n                <option value=\"OpticalDrive\">Optical Drive</option>\n                <option value=\"Others\">Others</option>\n              </select>\n\n              <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n                <svg\n                  class=\"fill-current h-4 w-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                </svg>\n              </div>\n            </div>\n\n            {/* -----------------------------------------Location ----------------------- */}\n            <div class=\"relative mx-1 \">\n              <select\n                class=\" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500\"\n                value={location}\n                onChange={(e) => {\n                  setLocation(e.target.value);\n                }}\n              >\n                <option value=\"\" disabled selected>\n                  Location\n                </option>\n                <option value=\"\">All</option>\n                <option value=\"Trivandrum\">Trivandrum</option>\n                <option value=\"Kottayam\">Kottayam</option>\n                <option value=\"Kozhikode\">Kozhikode</option>\n              </select>\n\n              <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n                <svg\n                  class=\"fill-current h-4 w-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                </svg>\n              </div>\n            </div>\n            {/* ---------------------------Condition Drop Down-------------------------------------- */}\n            <div class=\"relative mx-1 \">\n              <select\n                class=\" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500\"\n                value={condition}\n                onChange={(e) => {\n                  setCondition(e.target.value);\n                }}\n              >\n                <option value=\"\" disabled selected>\n                  Condition\n                </option>\n                <option value=\"\">All</option>\n                <option value=\"Good\">Good</option>\n                <option value=\"Bad\">Bad</option>\n                <option value=\"Used\">Used</option>\n              </select>\n\n              <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n                <svg\n                  class=\"fill-current h-4 w-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                </svg>\n              </div>\n            </div>\n\n            {/* -----------------Search Bar------------------------------------ */}\n            <div class=\"block relative xl:ml-64\">\n              <span class=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\n                <svg\n                  viewBox=\"0 0 24 24\"\n                  class=\"h-4 w-4 fill-current text-gray-500\"\n                >\n                  <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\n                </svg>\n              </span>\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  setRefresh(!refresh);\n                }}\n              >\n                <input\n                  value={searchquery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder=\"Search\"\n                  class=\"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\n                />\n              </form>\n            </div>\n\n            <div class=\"block relative xl:ml-64\">\n              <Button\n                layout=\"outline\"\n                onClick={() => {\n                  setIsDwnldModalOpen(true);\n                }}\n              >\n                Download Database\n              </Button>\n            </div>\n          </div>\n        </div>\n        {/* ----------------------------------------------Table----------------------------------------------------- */}\n        <TableContainer className=\"mt-4\">\n          <Table>\n            <TableHeader>\n              <tr>\n                <TableCell>Location</TableCell>\n                <TableCell>Stock Type</TableCell>\n                <TableCell>Category</TableCell>\n                <TableCell>Description</TableCell>\n                <TableCell>S.No</TableCell>\n                <TableCell>Vendor</TableCell>\n                <TableCell>Inv No.</TableCell>\n                <TableCell>Inv Date</TableCell>\n                <TableCell>Wty Expiry</TableCell>\n                <TableCell>Status</TableCell>\n                <TableCell>View/History</TableCell>\n                <TableCell>Edit/Delete</TableCell>\n              </tr>\n            </TableHeader>\n            <TableBody>\n              {data.map((user, i) => (\n                <TableRow\n                  className={`hover:shadow-lg dark:hover:bg-gray-600 ${\n                    activerowid == user._id\n                      ? \"bg-blue-300 shadow-lg dark:bg-gray-600\"\n                      : \"white\"\n                  } `}\n                  key={i}\n                  onClick={() => {\n                    setActiveRowId(user._id);\n\n                    // console.log(\"the id is \" + user._id);\n                    // setSelectedProd(user);\n                    // setAssetDetails(user);\n                    // console.log(user.product.keyboard[0].keyboardname);\n                  }}\n                >\n                  <TableCell>\n                    <span className=\"text-sm\">{user.location}</span>\n                  </TableCell>\n\n                  <TableCell>\n                    <span className=\"text-sm\">{user.stocktype}</span>\n                  </TableCell>\n                  <TableCell className=\"w-8\">\n                    <div>\n                      <p className=\"font-semibold\">{capitalize(user.type)}</p>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    {user.systype == \"item\" ? (\n                      <span className=\"text-sm\">{user.name}</span>\n                    ) : (\n                      <span className=\"text-sm\">{user.brand + user.model}</span>\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm\">{user.sno}</span>\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm\">{user.vendor}</span>\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm\">{user.invnumber}</span>\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm\">\n                      {moment(user.invdate).format(\"DD/MM/YY\")}\n                    </span>\n                  </TableCell>\n                  <TableCell>\n                    {/* <span className=\"text-sm\">{moment(user.expirydate).format(\"DD/MM/YY\")}</span> */}\n                    <span className=\"text-sm\">{user.expirydate}</span>\n                  </TableCell>\n                  <TableCell>\n                    <Badge\n                      type={user.condition == \"Good\" ? \"primary\" : \"danger\"}\n                    >\n                      {user.condition}\n                    </Badge>\n                  </TableCell>\n\n                  {/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */}\n                  {/* <TableCell className=\"w-8\">\n                    <div className=\"flex items-center text-sm \">\n                      <div>\n                        <p className=\"font-semibold\">{capitalize(user.type)}</p>\n                       \n                      </div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    {user.systype == \"item\" ? (\n                      <span className=\"text-sm\">{user.name}</span>\n                    ) : (\n                      <span className=\"text-sm\">{user.brand + user.model}</span>\n                    )}\n                  </TableCell>\n\n                  <TableCell>\n                    <span className=\"text-sm\">{user.sno}</span>\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm\">{user.location}</span>\n                  </TableCell>\n                  <TableCell>\n                    <span className=\"text-sm\">{user.invnumber}</span>\n                  </TableCell>\n                  <TableCell>\n                    <Badge\n                      type={user.condition == \"Good\" ? \"primary\" : \"danger\"}\n                    >\n                      {user.condition}\n                    </Badge>\n                  </TableCell> */}\n\n                  <TableCell>\n                    <div className=\"flex justify-start items-center space-x-2\">\n                      <Button\n                        onClick={() => {\n                          setViewId(i);\n                          setIsViewModalOpen(true);\n                        }}\n                        layout=\"outline\"\n                      >\n                        View\n                      </Button>\n                      <Button\n                        onClick={() => {\n                          setViewId(i);\n                          setHistoryModalOpen(true);\n                        }}\n                        layout=\"outline\"\n                      >\n                        History\n                      </Button>\n                    </div>\n                  </TableCell>\n\n                  <TableCell>\n                    <div className=\"flex items-center space-x-4\">\n                      <Button layout=\"link\" size=\"icon\" aria-label=\"Edit\">\n                        <Link\n                          key={user._id}\n                          to={`/app/inventory/update/${user._id}`}\n                        >\n                          <EditIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\n                        </Link>{\" \"}\n                      </Button>\n\n                      <Button\n                        layout=\"link\"\n                        size=\"icon\"\n                        aria-label=\"Delete\"\n                        onClick={async () => {\n                          console.log(\"delete Asset\");\n                          setIsDeleteModalOpen(true);\n                          setDeleteId(user._id);\n                        }}\n                      >\n                        <TrashIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <TableFooter>\n            <Pagination\n              totalResults={totalResults}\n              resultsPerPage={resultsPerPage}\n              label=\"Table navigation\"\n              onChange={onPageChange}\n            />\n          </TableFooter>\n        </TableContainer>\n\n        {/* ----------------------------------------------Table----------------------------------------------------- */}\n      </div>\n\n      {/* ------------------------------------Bottom Bar---------------------------------- */}\n    </>\n  );\n}\n\nexport default Inventory;\n","exports.capitalize = (s) => {\n  if (typeof s !== \"string\") return \"\";\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar isSafari = exports.isSafari = function isSafari() {\n  return (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n  );\n};\n\nvar isJsons = exports.isJsons = function isJsons(array) {\n  return Array.isArray(array) && array.every(function (row) {\n    return (typeof row === \"undefined\" ? \"undefined\" : _typeof(row)) === 'object' && !(row instanceof Array);\n  });\n};\n\nvar isArrays = exports.isArrays = function isArrays(array) {\n  return Array.isArray(array) && array.every(function (row) {\n    return Array.isArray(row);\n  });\n};\n\nvar jsonsHeaders = exports.jsonsHeaders = function jsonsHeaders(array) {\n  return Array.from(array.map(function (json) {\n    return Object.keys(json);\n  }).reduce(function (a, b) {\n    return new Set([].concat(_toConsumableArray(a), _toConsumableArray(b)));\n  }, []));\n};\n\nvar jsons2arrays = exports.jsons2arrays = function jsons2arrays(jsons, headers) {\n  headers = headers || jsonsHeaders(jsons);\n\n  var headerLabels = headers;\n  var headerKeys = headers;\n  if (isJsons(headers)) {\n    headerLabels = headers.map(function (header) {\n      return header.label;\n    });\n    headerKeys = headers.map(function (header) {\n      return header.key;\n    });\n  }\n\n  var data = jsons.map(function (object) {\n    return headerKeys.map(function (header) {\n      return getHeaderValue(header, object);\n    });\n  });\n  return [headerLabels].concat(_toConsumableArray(data));\n};\n\nvar getHeaderValue = exports.getHeaderValue = function getHeaderValue(property, obj) {\n  var foundValue = property.replace(/\\[([^\\]]+)]/g, \".$1\").split(\".\").reduce(function (o, p, i, arr) {\n    if (o[p] === undefined) {\n      arr.splice(1);\n    } else {\n      return o[p];\n    }\n  }, obj);\n\n  return foundValue === undefined ? property in obj ? obj[property] : '' : foundValue;\n};\n\nvar elementOrEmpty = exports.elementOrEmpty = function elementOrEmpty(element) {\n  return element || element === 0 ? element : '';\n};\n\nvar joiner = exports.joiner = function joiner(data) {\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n  var enclosingCharacter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '\"';\n\n  return data.filter(function (e) {\n    return e;\n  }).map(function (row) {\n    return row.map(function (element) {\n      return elementOrEmpty(element);\n    }).map(function (column) {\n      return \"\" + enclosingCharacter + column + enclosingCharacter;\n    }).join(separator);\n  }).join(\"\\n\");\n};\n\nvar arrays2csv = exports.arrays2csv = function arrays2csv(data, headers, separator, enclosingCharacter) {\n  return joiner(headers ? [headers].concat(_toConsumableArray(data)) : data, separator, enclosingCharacter);\n};\n\nvar jsons2csv = exports.jsons2csv = function jsons2csv(data, headers, separator, enclosingCharacter) {\n  return joiner(jsons2arrays(data, headers), separator, enclosingCharacter);\n};\n\nvar string2csv = exports.string2csv = function string2csv(data, headers, separator, enclosingCharacter) {\n  return headers ? headers.join(separator) + \"\\n\" + data : data;\n};\n\nvar toCSV = exports.toCSV = function toCSV(data, headers, separator, enclosingCharacter) {\n  if (isJsons(data)) return jsons2csv(data, headers, separator, enclosingCharacter);\n  if (isArrays(data)) return arrays2csv(data, headers, separator, enclosingCharacter);\n  if (typeof data === 'string') return string2csv(data, headers, separator);\n  throw new TypeError(\"Data should be a \\\"String\\\", \\\"Array of arrays\\\" OR \\\"Array of objects\\\" \");\n};\n\nvar buildURI = exports.buildURI = function buildURI(data, uFEFF, headers, separator, enclosingCharacter) {\n  var csv = toCSV(data, headers, separator, enclosingCharacter);\n  var type = isSafari() ? 'application/csv' : 'text/csv';\n  var blob = new Blob([uFEFF ? \"\\uFEFF\" : '', csv], { type: type });\n  var dataURI = \"data:\" + type + \";charset=utf-8,\" + (uFEFF ? \"\\uFEFF\" : '') + csv;\n\n  var URL = window.URL || window.webkitURL;\n\n  return typeof URL.createObjectURL === 'undefined' ? dataURI : URL.createObjectURL(blob);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PropsNotForwarded = exports.defaultProps = exports.propTypes = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar propTypes = exports.propTypes = {\n  data: (0, _propTypes.oneOfType)([_propTypes.string, _propTypes.array]).isRequired,\n  headers: _propTypes.array,\n  target: _propTypes.string,\n  separator: _propTypes.string,\n  filename: _propTypes.string,\n  uFEFF: _propTypes.bool,\n  onClick: _propTypes.func,\n  asyncOnClick: _propTypes.bool\n};\n\nvar defaultProps = exports.defaultProps = {\n  separator: ',',\n  filename: 'generatedBy_react-csv.csv',\n  uFEFF: true,\n  asyncOnClick: false\n};\n\nvar PropsNotForwarded = exports.PropsNotForwarded = ['data', 'headers'];","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n} from \"@windmill/react-ui\";\nimport Axios from \"axios\";\nimport { Tabs, TabList, Tab, TabPanel } from \"react-tabs\";\nimport \"react-tabs/style/react-tabs.css\";\n\nimport { API } from \"../../../backendapi\";\n\nexport default function CustomerSelection({\n  isModalOpen,\n  setIsModalOpen,\n  unit,\n  setUnit,\n  account,\n  setAccount,\n  customer,\n  setCustomer,\n  refresh,\n  setRefresh,\n}) {\n  const [customers, setCustomers] = useState([]);\n  const [accounts, setAccounts] = useState([]);\n  const [units, setUnits] = useState([]);\n  const [tabIndex, setTabIndex] = useState(0);\n  const [search, setSearch] = useState(\"\");\n\n  //   Search Functions---------------------------------------------------------\n  const handleChange = (e) => {\n    setSearch(e.target.value);\n  };\n\n  //   -----------------------Send Search for Fuzzy ---------------------------------------------------------\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let payload = {\n      search: search,\n      role: 1,\n    };\n    try {\n      let response = await axios({\n        url: `${API}/customer/customers`,\n        method: \"POST\",\n        data: payload,\n      });\n      console.log(response.data);\n      setCustomers(response.data);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  //   ---------------Intital Load ----------------------------\n\n  useEffect(() => {\n    (async function thegetter() {\n      let payload = {\n        search: search,\n        role: 1,\n      };\n      try {\n        let response = await axios({\n          url: `${API}/customer/customers`,\n          method: \"POST\",\n          data: payload,\n        });\n        console.log(response.data);\n        setCustomers(response.data);\n      } catch (error) {\n        throw error;\n      }\n    })();\n  }, []);\n\n  const pickCustomer = async (customer) => {\n    // console.log(customer);\n    setCustomer({\n      _id: customer._id,\n      customerName: customer.name,\n    });\n    setAccount({\n      _id: \"\",\n      accountName: \"\",\n    });\n    setUnit({\n      _id: \"\",\n      unitName: \"\",\n    });\n    try {\n      const accs = await Axios.post(`${API}/customer/accounts`, {\n        customerId: customer._id,\n      });\n      console.log(accs.data);\n      // let temp = [];\n      // accs.data.map((acc) => {\n      //   temp.push(acc);\n      // });\n      setAccounts(accs.data);\n      //   setTabIndex(1);\n    } catch (err) {\n      console.log(\"axiosErr\", err);\n    }\n  };\n\n  const pickAccount = async (account) => {\n    console.log(account);\n    setAccount({\n      _id: account._id,\n      accountName: account.name,\n    });\n    setUnit({\n      _id: \"\",\n      unitName: \"\",\n    });\n    try {\n      const u = await Axios.post(`${API}/customer/units`, {\n        accountId: account._id,\n      });\n      console.log(u.data);\n      // let temp = [];\n      // u.data.map((acc) => {\n      //   temp.push(acc);\n      // });\n      setUnits(u.data);\n      //   setTabIndex(2);\n    } catch (err) {\n      console.log(\"axiosErr\", err);\n    }\n  };\n\n  const pickUnit = async (unit) => {\n    console.log(unit);\n    setUnit({\n      _id: unit._id,\n      unitName: unit.unitName,\n    });\n  };\n\n  const CustomerTable = () => {\n    return (\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Customer</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n            <tr>\n              <TableCell>\n                <form onSubmit={handleSubmit}>\n                  <input\n                    className=\"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input\"\n                    placeholder=\"Search Customers\"\n                    onChange={handleChange}\n                  />\n                </form>\n              </TableCell>\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {customers.map((customer, i) => (\n              <TableRow\n                key={i}\n                className=\"hover:bg-purple-200 cursor-pointer\"\n                onClick={() => pickCustomer(customer)}\n              >\n                <TableCell>\n                  <div>\n                    <div>\n                      <p className=\"font-semibold\">{customer.name}</p>\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter></TableFooter>\n      </TableContainer>\n    );\n  };\n\n  const AccountTable = () => {\n    return (\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Account</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {accounts.map((account, i) => (\n              <TableRow\n                key={i}\n                className=\"hover:bg-purple-200 cursor-pointer\"\n                onClick={() => pickAccount(account)}\n              >\n                <TableCell>\n                  <div>\n                    <div>\n                      <p className=\"font-semibold\">{account.name}</p>\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter></TableFooter>\n      </TableContainer>\n    );\n  };\n\n  const UnitTable = () => {\n    return (\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              <TableCell>Unit</TableCell>\n              {/* <TableCell>Unit</TableCell> */}\n              {/* <TableCell>Status</TableCell>\n              <TableCell>Date</TableCell> */}\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {units.map((unit, i) => (\n              <TableRow\n                key={i}\n                className=\"hover:bg-purple-200 cursor-pointer\"\n                onClick={() => pickUnit(unit)}\n              >\n                <TableCell>\n                  <div>\n                    <div>\n                      <p className=\"font-semibold\">{unit.unitName}</p>\n                    </div>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter></TableFooter>\n      </TableContainer>\n    );\n  };\n\n  return (\n    <>\n      {/* <div>\n      <Button onClick={openModal}>Open modal</Button>\n    </div> */}\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)}>\n        <ModalHeader>\n          Select{\" \"}\n          {tabIndex == 0 ? (\n            <>Customer</>\n          ) : tabIndex == 1 ? (\n            <>Account</>\n          ) : (\n            <>Unit</>\n          )}\n        </ModalHeader>\n        <ModalBody>\n          <Tabs selectedIndex={tabIndex} onSelect={(ind) => setTabIndex(ind)}>\n            <TabList>\n              <Tab>Customer</Tab>\n              <Tab>Account</Tab>\n              <Tab>Unit</Tab>\n            </TabList>\n            <TabPanel>{CustomerTable()}</TabPanel>\n            <TabPanel>{AccountTable()}</TabPanel>\n            <TabPanel>{UnitTable()}</TabPanel>\n          </Tabs>\n          <Badge className=\"mx-2 text-md\" type=\"success\">\n            Customer: {customer.customerName}\n          </Badge>\n          <Badge className=\"mx-2 text-md\" type=\"success\">\n            Account : {account.accountName}\n          </Badge>\n          <Badge className=\"mx-2 text-md\" type=\"success\">\n            Unit: {unit.unitName}\n          </Badge>\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            className=\"w-full sm:w-auto\"\n            // layout=\"outline\"\n            onClick={() => {\n              setIsModalOpen(false);\n              setRefresh(!refresh);\n            }}\n          >\n            Select\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n}\n","module.exports = require('./lib/index.js');\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CSVLink = exports.CSVDownload = undefined;\n\nvar _Download = require('./components/Download');\n\nvar _Download2 = _interopRequireDefault(_Download);\n\nvar _Link = require('./components/Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CSVDownload = exports.CSVDownload = _Download2.default;\nvar CSVLink = exports.CSVLink = _Link2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('../core');\n\nvar _metaProps = require('../metaProps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultProps = {\n  target: '_blank'\n};\n\nvar CSVDownload = function (_React$Component) {\n  _inherits(CSVDownload, _React$Component);\n\n  function CSVDownload(props) {\n    _classCallCheck(this, CSVDownload);\n\n    var _this = _possibleConstructorReturn(this, (CSVDownload.__proto__ || Object.getPrototypeOf(CSVDownload)).call(this, props));\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(CSVDownload, [{\n    key: 'buildURI',\n    value: function buildURI() {\n      return _core.buildURI.apply(undefined, arguments);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          data = _props.data,\n          headers = _props.headers,\n          separator = _props.separator,\n          enclosingCharacter = _props.enclosingCharacter,\n          uFEFF = _props.uFEFF,\n          target = _props.target,\n          specs = _props.specs,\n          replace = _props.replace;\n\n      this.state.page = window.open(this.buildURI(data, uFEFF, headers, separator, enclosingCharacter), target, specs, replace);\n    }\n  }, {\n    key: 'getWindow',\n    value: function getWindow() {\n      return this.state.page;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return CSVDownload;\n}(_react2.default.Component);\n\nCSVDownload.defaultProps = Object.assign(_metaProps.defaultProps, defaultProps);\nCSVDownload.propTypes = _metaProps.propTypes;\nexports.default = CSVDownload;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('../core');\n\nvar _metaProps = require('../metaProps');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CSVLink = function (_React$Component) {\n  _inherits(CSVLink, _React$Component);\n\n  function CSVLink(props) {\n    _classCallCheck(this, CSVLink);\n\n    var _this = _possibleConstructorReturn(this, (CSVLink.__proto__ || Object.getPrototypeOf(CSVLink)).call(this, props));\n\n    _this.buildURI = _this.buildURI.bind(_this);\n    _this.state = { href: '' };\n    return _this;\n  }\n\n  _createClass(CSVLink, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          data = _props.data,\n          headers = _props.headers,\n          separator = _props.separator,\n          uFEFF = _props.uFEFF,\n          enclosingCharacter = _props.enclosingCharacter;\n\n      this.setState({ href: this.buildURI(data, uFEFF, headers, separator, enclosingCharacter) });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props !== prevProps) {\n        var _props2 = this.props,\n            data = _props2.data,\n            headers = _props2.headers,\n            separator = _props2.separator,\n            uFEFF = _props2.uFEFF;\n\n        this.setState({ href: this.buildURI(data, uFEFF, headers, separator) });\n      }\n    }\n  }, {\n    key: 'buildURI',\n    value: function buildURI() {\n      return _core.buildURI.apply(undefined, arguments);\n    }\n  }, {\n    key: 'handleLegacy',\n    value: function handleLegacy(event) {\n      if (window.navigator.msSaveOrOpenBlob) {\n        event.preventDefault();\n\n        var _props3 = this.props,\n            data = _props3.data,\n            headers = _props3.headers,\n            separator = _props3.separator,\n            filename = _props3.filename,\n            enclosingCharacter = _props3.enclosingCharacter,\n            uFEFF = _props3.uFEFF;\n\n\n        var blob = new Blob([uFEFF ? '\\uFEFF' : '', (0, _core.toCSV)(data, headers, separator, enclosingCharacter)]);\n        window.navigator.msSaveBlob(blob, filename);\n\n        return false;\n      }\n    }\n  }, {\n    key: 'handleAsyncClick',\n    value: function handleAsyncClick(event) {\n      var _this2 = this;\n\n      var done = function done(proceed) {\n        if (proceed === false) {\n          event.preventDefault();\n          return;\n        }\n        _this2.handleLegacy(event);\n      };\n\n      this.props.onClick(event, done);\n    }\n  }, {\n    key: 'handleSyncClick',\n    value: function handleSyncClick(event) {\n      var stopEvent = this.props.onClick(event) === false;\n      if (stopEvent) {\n        event.preventDefault();\n        return;\n      }\n      this.handleLegacy(event);\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      var _this3 = this;\n\n      return function (event) {\n        if (typeof _this3.props.onClick === 'function') {\n          return _this3.props.asyncOnClick ? _this3.handleAsyncClick(event) : _this3.handleSyncClick(event);\n        }\n        _this3.handleLegacy(event);\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props4 = this.props,\n          data = _props4.data,\n          headers = _props4.headers,\n          separator = _props4.separator,\n          filename = _props4.filename,\n          uFEFF = _props4.uFEFF,\n          children = _props4.children,\n          onClick = _props4.onClick,\n          asyncOnClick = _props4.asyncOnClick,\n          enclosingCharacter = _props4.enclosingCharacter,\n          rest = _objectWithoutProperties(_props4, ['data', 'headers', 'separator', 'filename', 'uFEFF', 'children', 'onClick', 'asyncOnClick', 'enclosingCharacter']);\n\n      return _react2.default.createElement(\n        'a',\n        _extends({\n          download: filename\n        }, rest, {\n          ref: function ref(link) {\n            return _this4.link = link;\n          },\n          target: '_self',\n          href: this.state.href,\n          onClick: this.handleClick()\n        }),\n        children\n      );\n    }\n  }]);\n\n  return CSVLink;\n}(_react2.default.Component);\n\nCSVLink.defaultProps = _metaProps.defaultProps;\nCSVLink.propTypes = _metaProps.propTypes;\nexports.default = CSVLink;"],"sourceRoot":""}