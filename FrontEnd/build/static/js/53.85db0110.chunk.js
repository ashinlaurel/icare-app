(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[53],{1177:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a.n(n),l=a(12),r=a(3),c=a(2),u=a(36),s=a(0),d=a.n(s),i=a(10),m=a(44),p=a(203),v=a(18),b=a(1),f=a(43),E=a(9),g=a.n(E),h=a(37),S=a(20),x=a.n(S),y=a(207);t.default=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],E=Object(s.useState)(0),S=Object(r.a)(E,2),M=S[0],w=S[1],C=Object(s.useContext)(m.a),O=(C.bbaropen,C.setBBarOpen),N=C.setAssetDetails,D=(C.assetdetails,Object(s.useState)(0)),k=Object(r.a)(D,2),Y=k[0],T=k[1],j=Object(s.useContext)(f.a),P=(j.topheading,j.setTopHeading),B=Object(s.useState)(!1),I=Object(r.a)(B,2),A=(I[0],I[1],Object(s.useState)(1)),F=Object(r.a)(A,2),R=F[0],_=F[1],L=Object(s.useState)([]),H=Object(r.a)(L,2),z=H[0],U=H[1],K=Object(s.useState)(!1),G=Object(r.a)(K,2),q=(G[0],G[1],Object(s.useState)(!1)),J=Object(r.a)(q,2),V=J[0],W=J[1],Q=Object(s.useState)(!1),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(s.useState)(!0),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],oe=Object(s.useState)(!0),le=Object(r.a)(oe,2),re=le[0],ce=le[1],ue=Object(s.useState)(""),se=Object(r.a)(ue,2),de=se[0],ie=se[1],me=Object(s.useState)(""),pe=Object(r.a)(me,2),ve=pe[0],be=pe[1],fe=Object(s.useState)({_id:"",unitName:""}),Ee=Object(r.a)(fe,2),ge=Ee[0],he=Ee[1],Se=Object(s.useState)({_id:"",customerName:""}),xe=Object(r.a)(Se,2),ye=xe[0],Me=xe[1],we=Object(s.useState)({_id:"",accountName:""}),Ce=Object(r.a)(we,2),Oe=Ce[0],Ne=Ce[1],De=Object(s.useState)({}),ke=Object(r.a)(De,2),Ye=ke[0],Te=ke[1],je=Object(s.useState)(""),Pe=Object(r.a)(je,2),Be=Pe[0],Ie=Pe[1],Ae=Object(s.useState)(""),Fe=Object(r.a)(Ae,2),Re=Fe[0],_e=Fe[1],Le=Object(s.useState)(""),He=Object(r.a)(Le,2),ze=He[0],Ue=He[1],Ke=Object(s.useState)([]),Ge=Object(r.a)(Ke,2),qe=Ge[0],Je=Ge[1],Ve=Object(s.useState)(!1),We=Object(r.a)(Ve,2),Qe=We[0],Xe=We[1],Ze=Object(s.useState)(20),$e=Object(r.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(s.useState)(!1),nt=Object(r.a)(at,2),ot=nt[0],lt=nt[1],rt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,l,r,c,u,s,d,m,p,b,f,E,h,S,M,w,C,O,N,D,k,Y,T,j,P,B,I,A,F,_,L,H,z,U,K,G,q,J,V;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pages:{page:R,limit:1e7},filters:{business:de,producttype:ve,customer:ye,account:Oe,unitId:ge._id,customerId:ye._id,accountId:Oe._id,searchtype:Be,searchquery:ze}},e.prev=1,e.next=4,g()({url:"".concat(i.API,"/asset/").concat(v.a.getId(),"/getall"),method:"POST",data:a});case 4:n=e.sent,t=n.data.out,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:for(l=0,r=0,c=0,u=0,s=0,d=0,m=0,p=0,b=0,f=0,E=0,h=0,S=0,M=0,w=0,C=0,O=0,N=0,t.map((function(e,t){var a,n,o,i,v,g,x,y,D,k,Y,T,j,P,B,I,A,F;(null===(a=e.product)||void 0===a?void 0:a.cpu)&&(l=Math.max(l,e.product.cpu.length)),(null===(n=e.product)||void 0===n?void 0:n.ram)&&(r=Math.max(r,e.product.ram.length)),(null===(o=e.product)||void 0===o?void 0:o.hdd)&&(c=Math.max(c,e.product.hdd.length)),(null===(i=e.product)||void 0===i?void 0:i.smps)&&(u=Math.max(u,e.product.smps.length)),(null===(v=e.product)||void 0===v?void 0:v.fan)&&(s=Math.max(s,e.product.fan.length)),(null===(g=e.product)||void 0===g?void 0:g.motherboard)&&(d=Math.max(d,e.product.motherboard.length)),(null===(x=e.product)||void 0===x?void 0:x.opticaldrive)&&(m=Math.max(m,e.product.opticaldrive.length)),(null===(y=e.product)||void 0===y?void 0:y.keyboard)&&(p=Math.max(p,e.product.keyboard.length)),(null===(D=e.product)||void 0===D?void 0:D.mouse)&&(b=Math.max(b,e.product.mouse.length)),(null===(k=e.product)||void 0===k?void 0:k.monitor)&&(f=Math.max(f,e.product.monitor.length)),(null===(Y=e.product)||void 0===Y?void 0:Y.gcard)&&(E=Math.max(E,e.product.gcard.length)),(null===(T=e.product)||void 0===T?void 0:T.enetcard)&&(h=Math.max(h,e.product.enetcard.length)),(null===(j=e.product)||void 0===j?void 0:j.serialcard)&&(S=Math.max(S,e.product.serialcard.length)),(null===(P=e.product)||void 0===P?void 0:P.parallelcard)&&(M=Math.max(M,e.product.parallelcard.length)),(null===(B=e.product)||void 0===B?void 0:B.hbacard)&&(w=Math.max(w,e.product.hbacard.length)),(null===(I=e.product)||void 0===I?void 0:I.raidcontroller)&&(C=Math.max(C,e.product.raidcontroller.length)),(null===(A=e.product)||void 0===A?void 0:A.tapecontroller)&&(O=Math.max(O,e.product.tapecontroller.length)),(null===(F=e.product)||void 0===F?void 0:F.others)&&(N=Math.max(N,e.product.others.length))})),D="ProductType,Customer,Account,Unit,Business,PoNumber,PoDate,ContactFrom,ContractTo,BillingFrom,BillingTo,Brand,Model,SerialNumber,OperatingSystem,",k=1;k<=l;k++)D+="CPU ".concat(k,",CPU ").concat(k," SNo,");for(Y=1;Y<=r;Y++)D+="RAM ".concat(Y,",RAM ").concat(Y," SNo,");for(T=1;T<=c;T++)D+="HDD ".concat(T,",HDD ").concat(T," SNo,");for(j=1;j<=u;j++)D+="SMPS ".concat(j,",SMPS ").concat(j," SNo,");for(P=1;P<=s;P++)D+="Fan ".concat(P,",Fan ").concat(P," SNo,");for(B=1;B<=d;B++)D+="Motherboard ".concat(B,",Motherboard ").concat(B," SNo,");for(I=1;I<=m;I++)D+="Optical Drive ".concat(I,",Optical Drive ").concat(I," SNo,");for(A=1;A<=p;A++)D+="Keyboard ".concat(A,",Keyboard ").concat(A," SNo,");for(F=1;F<=b;F++)D+="Mouse ".concat(F,",Mouse ").concat(F," SNo,");for(_=1;_<=f;_++)D+="Monitor ".concat(_,",Monitor ").concat(_," SNo,");for(L=1;L<=E;L++)D+="Graphics Card ".concat(L,",Graphics Card ").concat(L," SNo,");for(H=1;H<=h;H++)D+="Enet Card ".concat(H,",Enet Card ").concat(H," SNo,");for(z=1;z<=S;z++)D+="Serial Card ".concat(z,",Serial Card ").concat(z," SNo,");for(U=1;U<=M;U++)D+="Parallel Card ".concat(U,",Parallel Card ").concat(U," SNo,");for(K=1;K<=w;K++)D+="HBA Card ".concat(K,",HBA Card ").concat(K," SNo,");for(G=1;G<=C;G++)D+="Raid Controller ".concat(G,",Raid Controller ").concat(G," SNo,");for(q=1;q<=O;q++)D+="Tape Controller ".concat(q,",Tape Controller ").concat(q," SNo,");for(J=1;J<=N;J++)D+="Others ".concat(J,",Others ").concat(J," SNo,");D+="\n",t.map((function(e,t){var a,n,o,i;D+='"'.concat(e.producttype,'","').concat(e.customerName,'","').concat(e.accountName,'","').concat(e.unitName,'","').concat(e.business,'","').concat(e.ponumber,'","').concat(x()(e.podate).format("DD/MM/YYYY"),'","').concat(x()(e.contractfrom).format("DD/MM/YYYY"),'","').concat(x()(e.contractto).format("DD/MM/YYYY"),'","').concat(x()(e.billingfrom).format("DD/MM/YYYY"),'","').concat(x()(e.billingto).format("DD/MM/YYYY"),'","').concat(null===(a=e.product)||void 0===a?void 0:a.brand,'","').concat(null===(n=e.product)||void 0===n?void 0:n.model,'","').concat(null===(o=e.product)||void 0===o?void 0:o.serialno,'","').concat(null===(i=e.product)||void 0===i?void 0:i.os,'",');for(var v=0;v<l;v++){var g;(null===(g=e.product)||void 0===g?void 0:g.cpu[v])?D+='"'.concat(e.product.cpu[v].cpuname,'","').concat(e.product.cpu[v].cpusno,'",'):D+='"","",'}for(var y=0;y<r;y++){var k;(null===(k=e.product)||void 0===k?void 0:k.ram[y])?D+='"'.concat(e.product.ram[y].ramname,'","').concat(e.product.ram[y].ramsno,'",'):D+='"","",'}for(var Y=0;Y<c;Y++){var T;(null===(T=e.product)||void 0===T?void 0:T.hdd[Y])?D+='"'.concat(e.product.hdd[Y].hddname,'","').concat(e.product.hdd[Y].hddsno,'",'):D+='"","",'}for(var j=0;j<u;j++){var P;(null===(P=e.product)||void 0===P?void 0:P.smps[j])?D+='"'.concat(e.product.smps[j].smpsname,'","').concat(e.product.smps[j].smpssno,'",'):D+='"","",'}for(var B=0;B<s;B++){var I;(null===(I=e.product)||void 0===I?void 0:I.fan[B])?D+='"'.concat(e.product.fan[B].fanname,'","').concat(e.product.fan[B].fansno,'",'):D+='"","",'}for(var A=0;A<d;A++){var F;(null===(F=e.product)||void 0===F?void 0:F.motherboard[A])?D+='"'.concat(e.product.motherboard[A].motherboardname,'","').concat(e.product.motherboard[A].motherboardsno,'",'):D+='"","",'}for(var R=0;R<m;R++){var _;(null===(_=e.product)||void 0===_?void 0:_.opticaldrive[R])?D+='"'.concat(e.product.opticaldrive[R].opticaldrivename,'","').concat(e.product.opticaldrive[R].opticaldrivesno,'",'):D+='"","",'}for(var L=0;L<p;L++){var H;(null===(H=e.product)||void 0===H?void 0:H.keyboard[L])?D+='"'.concat(e.product.keyboard[L].keyboardname,'","').concat(e.product.keyboard[L].keyboardsno,'",'):D+='"","",'}for(var z=0;z<b;z++){var U;(null===(U=e.product)||void 0===U?void 0:U.mouse[z])?D+='"'.concat(e.product.mouse[z].mousename,'","').concat(e.product.mouse[z].mousesno,'",'):D+='"","",'}for(var K=0;K<f;K++){var G;(null===(G=e.product)||void 0===G?void 0:G.monitor[K])?D+='"'.concat(e.product.monitor[K].monitorname,'","').concat(e.product.monitor[K].monitorsno,'",'):D+='"","",'}for(var q=0;q<E;q++){var J;(null===(J=e.product)||void 0===J?void 0:J.gcard[q])?D+='"'.concat(e.product.gcard[q].gcardname,'","').concat(e.product.gcard[q].gcardsno,'",'):D+='"","",'}for(var V=0;V<h;V++){var W;(null===(W=e.product)||void 0===W?void 0:W.enetcard[V])?D+='"'.concat(e.product.enetcard[V].enetcardname,'","').concat(e.product.enetcard[V].enetcardsno,'",'):D+='"","",'}for(var Q=0;Q<S;Q++){var X;(null===(X=e.product)||void 0===X?void 0:X.serialcard[Q])?D+='"'.concat(e.product.serialcard[Q].serialcardname,'","').concat(e.product.serialcard[Q].serialcardsno,'",'):D+='"","",'}for(var Z=0;Z<M;Z++){var $;if(null===($=e.product)||void 0===$?void 0:$.parallelcard[Z]){var ee=JSON.parse(JSON.stringify(e.product.parallelcard[Z]));void 0!==ee.parallelcardname&&""!=ee.parallelcard?D+='"'.concat(e.product.parallelcard[Z].parallelcardname,'","').concat(e.product.parallelcard[Z].parallelcardsno,'",'):D+='"","",'}}for(var te=0;te<w;te++){var ae;(null===(ae=e.product)||void 0===ae?void 0:ae.hbacard[te])?D+='"'.concat(e.product.hbacard[te].hbacardname,'","').concat(e.product.hbacard[te].hbacardsno,'",'):D+='"","",'}for(var ne=0;ne<C;ne++){var oe;(null===(oe=e.product)||void 0===oe?void 0:oe.raidcontroller[ne])?D+='"'.concat(e.product.raidcontroller[ne].raidcontrollername,'","').concat(e.product.raidcontroller[ne].raidcontrollersno,'",'):D+='"","",'}for(var le=0;le<O;le++){var re;(null===(re=e.product)||void 0===re?void 0:re.tapecontroller[le])?D+='"'.concat(e.product.tapecontroller[le].tapecontrollername,'","').concat(e.product.tapecontroller[le].tapecontrollersno,'",'):D+='"","",'}for(var ce=0;ce<N;ce++){var ue;(null===(ue=e.product)||void 0===ue?void 0:ue.others[ce])?D+='"'.concat(e.product.others[ce].othersname,'","').concat(e.product.others[ce].otherssno,'",'):D+='"","",'}D+="\n"})),V=new Blob([D],{type:"text/csv;charset=utf-8;"}),Object(y.saveAs)(V,"Assets.csv");case 53:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="SLNo,Customer,Account,Unit,Business,PoNumber,PoDate,ContactFrom,ContractTo,BillingFrom,BillingTo,Rate,Gst,Amount,ExpiryMonth,Product,SerialNo,\n",n={pages:{page:R,limit:1e7},filters:{business:de,producttype:ve,customer:ye,account:Oe,unitId:ge._id,customerId:ye._id,accountId:Oe._id,searchtype:Be,searchquery:ze}},e.prev=2,e.next=5,g()({url:"".concat(i.API,"/asset/").concat(v.a.getId(),"/getall"),method:"POST",data:n});case 5:l=e.sent,a=l.data.out,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:a.map((function(e,a){var n;t+='"'.concat(a+1,'","').concat(e.customerName,'","').concat(e.accountName,'","').concat(e.unitName,'","').concat(e.business,'","').concat(e.ponumber,'","').concat(x()(e.podate).format("DD/MM/YYYY"),'","').concat(x()(e.contractfrom).format("DD/MM/YYYY"),'","').concat(x()(e.contractto).format("DD/MM/YYYY"),'","').concat(x()(e.billingfrom).format("DD/MM/YYYY"),'","').concat(x()(e.billingto).format("DD/MM/YYYY"),'","').concat(e.amcrate,'","').concat(e.gstamount,'","').concat(e.netamount,'","').concat(x()(e.contractto).format("MMMM"),'","').concat(e.producttype,'","').concat(null===(n=e.product)||void 0===n?void 0:n.serialno,'",\n')})),console.log(t),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),Object(y.saveAs)(r,"Assets.csv");case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="SLNo,Customer,Account,Unit,PoNumber,PoDate,ContactFrom,ContractTo,BillingFrom,BillingTo,Rate,Gst,Amount,ExpiryMonth,Product,SerialNo,Keyboard,KbdSerialNo,Mouse,MouseSerialNo,Monitor,MonitorSerialNo,\n",n={pages:{page:R,limit:1e7},filters:{business:de,producttype:ve,customer:ye,account:Oe,unitId:ge._id,customerId:ye._id,accountId:Oe._id,searchtype:Be,searchquery:ze}},e.prev=2,e.next=5,g()({url:"".concat(i.API,"/asset/").concat(v.a.getId(),"/getall"),method:"POST",data:n});case 5:l=e.sent,console.log(l.data.out),a=l.data.out,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:a.map((function(e,a){var n,o,l,r,c,u,s,d,i,m,p,v,b;t+='"'.concat(a+1,'","').concat(e.customerName,'","').concat(e.accountName,'","').concat(e.unitName,'","').concat(e.ponumber,'","').concat(x()(e.podate).format("DD/MM/YYYY"),'","').concat(x()(e.contractfrom).format("DD/MM/YYYY"),'","').concat(x()(e.contractto).format("DD/MM/YYYY"),'","').concat(x()(e.billingfrom).format("DD/MM/YYYY"),'","').concat(x()(e.billingto).format("DD/MM/YYYY"),'","').concat(e.amcrate,'","').concat(e.gstamount,'","').concat(e.netamount,'","').concat(x()(e.contractto).format("MMMM"),'","').concat(e.producttype,'","').concat(null===(n=e.product)||void 0===n?void 0:n.serialno,'","').concat(0!=(null===(o=e.product)||void 0===o?void 0:o.keyboard.length)?null===(l=e.product)||void 0===l?void 0:l.keyboard[0].keyboardname:"",'","').concat(0!=(null===(r=e.product)||void 0===r?void 0:r.keyboard.length)?null===(c=e.product)||void 0===c?void 0:c.keyboard[0].keyboardsno:"",'","').concat(0!=(null===(u=e.product)||void 0===u?void 0:u.mouse.length)?null===(s=e.product)||void 0===s?void 0:s.mouse[0].mousename:"",'","').concat(0!=(null===(d=e.product)||void 0===d?void 0:d.mouse.length)?null===(i=e.product)||void 0===i?void 0:i.mouse[0].mousesno:"",'","').concat(0!=(null===(m=e.product)||void 0===m?void 0:m.monitor.length)?null===(p=e.product)||void 0===p?void 0:p.monitor[0].monitorname:"",'","').concat(0!=(null===(v=e.product)||void 0===v?void 0:v.monitor.length)?null===(b=e.product)||void 0===b?void 0:b.monitor[0].monitorsno:"",'",\n')})),console.log(t),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),Object(y.saveAs)(r,"Assets.csv");case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){O(0),N({})}}),[]),Object(s.useEffect)((function(){return P("Assets Management"),function(){P("")}}),[]),Object(s.useMemo)((function(){!function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:R,limit:10},filters:{business:de,producttype:ve,customer:ye,account:Oe,unitId:ge._id,customerId:ye._id,accountId:Oe._id,searchtype:Be,searchquery:ze}},e.prev=2,e.next=5,g()({url:"".concat(i.API,"/asset/").concat(v.a.getId(),"/getall"),method:"POST",data:t});case 5:return a=e.sent,console.log(a.data.out),e.next=9,tt(a.data.total);case 9:console.log("response total",a.data.total),U(a.data.out),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:console.log("totalResults",et);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}()()}),[R,de,ve,ae]),console.log(Ye),d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{isModalOpen:Z,setIsModalOpen:$,setUnit:he,unit:ge,customer:ye,setCustomer:Me,account:Oe,setAccount:Ne,refresh:ae,setRefresh:ne}),d.a.createElement(d.a.Fragment,null,d.a.createElement(c.Modal,{isOpen:Qe,onClose:function(){return Xe(!1)},className:"w-9/12 dark:bg-gray-800 p-10 my-6  bg-gray-50 text-gray-900 dark:text-white  rounded-lg overflow-y-auto"},d.a.createElement(c.ModalHeader,{className:"flex flex-row justify-between text-xl"}),d.a.createElement(c.ModalBody,null,d.a.createElement("div",{className:"font-semibold text-xl my-2"},"Asset History"),d.a.createElement(c.TableContainer,{className:"mt-4"},d.a.createElement(c.Table,null,d.a.createElement(c.TableHeader,null,d.a.createElement("tr",null,d.a.createElement(c.TableCell,null,"Date"),d.a.createElement(c.TableCell,null,"Engineer"),d.a.createElement(c.TableCell,null,"Attended Date"),d.a.createElement(c.TableCell,null,"Start Of Service"),d.a.createElement(c.TableCell,null,"End Of Service"),d.a.createElement(c.TableCell,null,"Status"),d.a.createElement(c.TableCell,null,"Notes"),d.a.createElement(c.TableCell,null,"Action Taken"),d.a.createElement(c.TableCell,null,"Images"))),d.a.createElement(c.TableBody,null,qe.map((function(e,t){return d.a.createElement(c.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600\n                       ",key:t,onClick:function(){}},d.a.createElement(c.TableCell,{className:"w-8"},d.a.createElement("div",{className:"flex items-center text-sm "},d.a.createElement("div",null,d.a.createElement("p",{className:"font-semibold"},x()(e.date).format("DD-MM-YYYY"))))),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},Object(h.capitalize)(e.engineer))),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.callAttendDate)),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.startOfService)),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.endOfService)),d.a.createElement(c.TableCell,null,d.a.createElement("span",null,0==e.callStatus?d.a.createElement(c.Badge,null,"Pending For Allocation"):null,1==e.callStatus?d.a.createElement(c.Badge,null,"Pending for Percall Approval"):null,2==e.callStatus?d.a.createElement(c.Badge,null,"Pending for Response"):null,3==e.callStatus?d.a.createElement(c.Badge,null,"Pending for OEM Response"):null,4==e.callStatus?d.a.createElement(c.Badge,null,"Pending for 2nd Response"):null,5==e.callStatus?d.a.createElement(c.Badge,null,"Pending for Customer"):null,6==e.callStatus?d.a.createElement(c.Badge,null,"Under Observation"):null,7==e.callStatus?d.a.createElement(c.Badge,null,"Pending for Others"):null,8==e.callStatus?d.a.createElement(c.Badge,null,"Pending for Spare"):null,9==e.callStatus?d.a.createElement(c.Badge,null,"Spare in Transit"):null,10==e.callStatus?d.a.createElement(c.Badge,null,"Cancelled Calls"):null,11==e.callStatus?d.a.createElement(c.Badge,null,"Closed Calls"):null,12==e.callStatus?d.a.createElement(c.Badge,null,"Spare Taken CMRR"):null,13==e.callStatus?d.a.createElement(c.Badge,null,"Pending For Spare Collection"):null,14==e.callStatus?d.a.createElement(c.Badge,null,"Standby Given"):null,15==e.callStatus?d.a.createElement(c.Badge,null,"Pending For Verification"):null)),d.a.createElement(c.TableCell,{className:"flex flex-row max-w-sm"},d.a.createElement("span",{className:"w-full overflow-auto"},e.note)),d.a.createElement(c.TableCell,{className:" max-w-sm overflow-auto"},d.a.createElement("span",{className:"w-full overflow-auto"},e.actionTaken)),d.a.createElement(c.TableCell,null))})))))),d.a.createElement(c.ModalFooter,null))),d.a.createElement(d.a.Fragment,null,d.a.createElement(c.Modal,{isOpen:a,onClose:function(){return n(!1)}},d.a.createElement(c.ModalHeader,null,"Are you sure you want to delete!"),d.a.createElement(c.ModalBody,null),d.a.createElement(c.ModalFooter,null,d.a.createElement(c.Button,{className:"w-full sm:w-auto",onClick:Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g()({url:"".concat(i.API,"/asset/").concat(v.a.getId(),"/delete"),method:"POST",data:{id:M}});case 3:t=e.sent,console.log(t.data),a=z.filter((function(e){return e._id!=M})),U(a),n(!1),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))},"Confirm Delete")))),function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],u=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,t();case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement(d.a.Fragment,null,d.a.createElement(c.Modal,{isOpen:ot,onClose:function(){return lt(!1)},className:" dark:bg-gray-800 p-5 mx-10 bg-gray-50 text-gray-900 dark:text-white text-center rounded-lg "},d.a.createElement(c.ModalHeader,{className:""},d.a.createElement("div",{className:"text-lg"},"Select Type Of Export")),d.a.createElement(c.ModalBody,null,d.a.createElement("div",{className:"flex flex-row items-center justify-between space-x-4"},d.a.createElement(c.Button,{layout:"outline",onClick:function(){return u(rt)}},"Full Database"),d.a.createElement(c.Button,{layout:"outline",onClick:function(){return u(ct)}},"Contract Details"),d.a.createElement(c.Button,{layout:"outline",onClick:function(){return u(ut)}},"Brief MIF")),a&&d.a.createElement("div",{className:"mt-8"},"Downloading, please wait..."))))}(),d.a.createElement("div",{className:"mb-64 mt-4"},d.a.createElement("div",{className:""},d.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-6 "},d.a.createElement("div",{class:"relative  "},d.a.createElement("button",{class:" shadow-md appearance-none h-full rounded border block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",onClick:function(){$(!Z)}},"Pick Customer"),d.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},d.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},d.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),d.a.createElement("div",{class:"relative mx-5 "},d.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:de,onChange:function(e){ie(e.target.value)}},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"Business Type"),d.a.createElement("option",{value:""},"All"),d.a.createElement("option",{value:"AMC"},"AMC"),d.a.createElement("option",{value:"WTY"},"Warranty"),d.a.createElement("option",{value:"NOS"},"NOS"),d.a.createElement("option",{value:"DEAD"},"DEAD")),d.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},d.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},d.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),d.a.createElement("div",{class:"relative mx-5 "},d.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ve,onChange:function(e){be(e.target.value)}},d.a.createElement("option",{value:"",disabled:!0,selected:!0},"Pick Product"),d.a.createElement("option",{value:""},"All"),d.a.createElement("option",{value:"Console"},"Console"),d.a.createElement("option",{value:"DMP"},"DMP"),d.a.createElement("option",{value:"Inkjet"},"Inkjet"),d.a.createElement("option",{value:"KVM"},"KVM"),d.a.createElement("option",{value:"Laptop"},"Laptop"),d.a.createElement("option",{value:"Laser"},"Laser"),d.a.createElement("option",{value:"LMP"},"LMP"),d.a.createElement("option",{value:"Module"},"Module"),d.a.createElement("option",{value:"Router"},"Router"),d.a.createElement("option",{value:"Scanner"},"Scanner"),d.a.createElement("option",{value:"Server"},"Server"),d.a.createElement("option",{value:"Desktop"},"Desktop"),d.a.createElement("option",{value:"Storage"},"Storage"),d.a.createElement("option",{value:"Switch"},"Switch"),d.a.createElement("option",{value:"UPS"},"UPS"),d.a.createElement("option",{value:"Ncompute"},"Ncompute"),d.a.createElement("option",{value:"Others"},"Others")),d.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},d.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},d.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),d.a.createElement("div",{className:"relative "},d.a.createElement("button",{onClick:function(){W(!0)},className:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},Be?Re:"Pick Search Type"),d.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},d.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},d.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),d.a.createElement(c.Dropdown,{isOpen:V,onClose:function(){return W(!V)}},d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie(""),_e(""),ce(!0),Ue(""),ne(!ae)}},d.a.createElement("span",null,"All")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("prodserial"),_e("Product Serial"),ce(!1)}},d.a.createElement("span",null,"Product Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("keyboardsno"),_e("Keyboard Serial"),ce(!1)}},d.a.createElement("span",null,"Keyboard Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("mousesno"),_e("Mouse Serial"),ce(!1)}},d.a.createElement("span",null,"Mouse Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("motherboardsno"),_e("Motherboard Serial"),ce(!1)}},d.a.createElement("span",null,"Motherboard Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("monitorsno"),_e("Monitor Serial"),ce(!1)}},d.a.createElement("span",null,"Monitor Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("hddsno"),_e("HDD Serial"),ce(!1)}},d.a.createElement("span",null,"HDD Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("cpusno"),_e("CPU Serial"),ce(!1)}},d.a.createElement("span",null,"CPU Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("ramsno"),_e("Ram Serial"),ce(!1)}},d.a.createElement("span",null,"RAM Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("smpssno"),_e("SMPS Serial"),ce(!1)}},d.a.createElement("span",null,"SMPS Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("fansno"),_e("Fan Serial"),ce(!1)}},d.a.createElement("span",null,"Fan Serial")),d.a.createElement(c.DropdownItem,{onClick:function(){W(!1),Ie("opticaldrivesno"),_e("Optical Drive Serial"),ce(!1)}},d.a.createElement("span",null,"Optical Drive Serial")))),d.a.createElement("div",{class:"block relative xl:ml-64"},d.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},d.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},d.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),d.a.createElement("form",{onSubmit:function(e){e.preventDefault(),ne(!ae)}},d.a.createElement("input",{value:ze,onChange:function(e){return Ue(e.target.value)},placeholder:"Search",disabled:re,class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))),d.a.createElement("div",{class:"block relative xl:ml-64"},d.a.createElement(c.Button,{layout:"outline",onClick:function(){lt(!0)}},"Export Data")))),d.a.createElement(c.TableContainer,{className:"mt-4"},d.a.createElement(c.Table,null,d.a.createElement(c.TableHeader,null,d.a.createElement("tr",null,d.a.createElement(c.TableCell,null,"Customer"),d.a.createElement(c.TableCell,null,"Unit"),d.a.createElement(c.TableCell,null,"Business"),d.a.createElement(c.TableCell,null,"Product"),d.a.createElement(c.TableCell,null,"Product Serial"),d.a.createElement(c.TableCell,null,"Contract From"),d.a.createElement(c.TableCell,null,"Contract To"),d.a.createElement(c.TableCell,null,"Purchase Number"),d.a.createElement(c.TableCell,null,"Purchase Date"),d.a.createElement(c.TableCell,null,"Edit/Delete"))),d.a.createElement(c.TableBody,null,z.map((function(e,t){return d.a.createElement(c.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat("NOS"==e.business?"bg-red-200 dark:bg-red-900 bg-transparent border-white":""," ").concat(Y==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){O(1),T(e._id),Te(e),N(e)}},d.a.createElement(c.TableCell,{className:"w-8"},d.a.createElement("div",{className:"flex items-center text-sm "},d.a.createElement("div",null,d.a.createElement("p",{className:"font-semibold"},e.customerName),d.a.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400"},e.accountName)))),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.unitName)),d.a.createElement(c.TableCell,null,d.a.createElement(c.Badge,{type:"AMC"==e.business?"primary":"success"},e.business)),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.producttype)),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.product.serialno)),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},x()(e.contractfrom).format("DD/MM/YYYY"))),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},x()(e.contractto).format("DD/MM/YYYY"))),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},e.ponumber)),d.a.createElement(c.TableCell,null,d.a.createElement("span",{className:"text-sm"},x()(e.podate).format("DD/MM/YYYY"))),d.a.createElement(c.TableCell,null,d.a.createElement("div",{className:"flex items-center space-x-4"},d.a.createElement(c.Button,{layout:"link",size:"icon","aria-label":"Edit"},d.a.createElement(b.b,{key:e._id,to:"/app/unit/update/".concat(e._id)},d.a.createElement(u.EditIcon,{className:"w-5 h-5","aria-hidden":"true"}))," "),14==v.a.getRole()?null:d.a.createElement(c.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("delete Asset"),n(!0),w(e._id);case 3:case"end":return t.stop()}}),t)})))},d.a.createElement(u.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})),d.a.createElement(c.Button,{onClick:function(){console.log("hellloo",z[t].product.history),Je(z[t].product.history),Xe(!0)},layout:"link",size:"icon","aria-label":"Edit"},d.a.createElement(u.MenuIcon,{className:"w-5 h-5","aria-hidden":"true"})))))})))),d.a.createElement(c.TableFooter,null,d.a.createElement(c.Pagination,{totalResults:et,resultsPerPage:10,label:"Table navigation",onChange:function(e){_(e)}})))))}}}]);
//# sourceMappingURL=53.85db0110.chunk.js.map