(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[50],{1293:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),s=a.n(o),u=a(21),m=a.n(u),i=a(9),p=a.n(i),d=a(18),b=a(2),E=(a(216),a(10)),f=(a(201),a(204),a(7)),w=a(44);t.default=function(){var e=Object(o.useContext)(w.a),t=(e.bbaropen,e.setBBarOpen,e.setAssetDetails,e.assetdetails,Object(o.useState)(0)),a=Object(c.a)(t,2),n=a[0],u=a[1],i=Object(f.i)(),h=(i.id,i.accountid,i.unitid),C=Object(o.useState)(!1),g=Object(c.a)(C,2),v=(g[0],g[1],Object(o.useState)(1)),k=Object(c.a)(v,2),O=k[0],S=k[1],x=Object(o.useState)([]),y=Object(c.a)(x,2),j=y[0],T=y[1],N=Object(o.useState)(!1),D=Object(c.a)(N,2),I=D[0],M=D[1],P=Object(o.useState)(!1),A=Object(c.a)(P,2),B=A[0],_=A[1],F=Object(o.useState)(!1),Y=Object(c.a)(F,2),L=(Y[0],Y[1],Object(o.useState)(!0)),R=Object(c.a)(L,2),U=R[0],z=R[1],H=Object(o.useState)(!0),K=Object(c.a)(H,2),J=(K[0],K[1]),V=Object(o.useState)(""),q=Object(c.a)(V,2),G=q[0],Q=(q[1],Object(o.useState)("")),W=Object(c.a)(Q,2),X=W[0],Z=W[1],$=Object(o.useState)({_id:"",unitName:""}),ee=Object(c.a)($,2),te=(ee[0],ee[1],Object(o.useState)({_id:"",customerName:""})),ae=Object(c.a)(te,2),ne=(ae[0],ae[1],Object(o.useState)({_id:"",accountName:""})),le=Object(c.a)(ne,2),re=(le[0],le[1],Object(o.useState)({})),ce=Object(c.a)(re,2),oe=ce[0],se=ce[1],ue=Object(o.useState)(""),me=Object(c.a)(ue,2),ie=me[0],pe=me[1],de=Object(o.useState)(""),be=Object(c.a)(de,2),Ee=be[0],fe=be[1],we=Object(o.useState)(""),he=Object(c.a)(we,2),Ce=he[0],ge=he[1],ve=Object(o.useState)(0),ke=Object(c.a)(ve,2),Oe=ke[0],Se=ke[1];return Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pages:{page:O,limit:10},filters:{business:G,producttype:X,unitId:h,searchtype:ie,searchquery:Ce}},e.prev=1,e.next=4,p()({url:"".concat(E.API,"/asset/").concat(d.a.getId(),"/getall"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data.out),T(a.data.out),Se(a.data.total),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}()()}),[O,G,X,U]),console.log(oe),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-64"},s.a.createElement("div",{className:""},s.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-6 "},s.a.createElement("div",{className:"relative "},s.a.createElement("button",{onClick:function(){M(!I)},className:"shadow-md z-50 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},X||"Pick Product"),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),s.a.createElement(b.Dropdown,{isOpen:I,onClose:function(){return M(!1)}},s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("")}},s.a.createElement("span",null,"All")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Console")}},s.a.createElement("span",null,"Console")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("DMP")}},s.a.createElement("span",null,"DMP")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Inkjet")}},s.a.createElement("span",null,"Inkjet")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("KVM")}},s.a.createElement("span",null,"KVM")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Laptop")}},s.a.createElement("span",null,"Laptop")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Laser")}},s.a.createElement("span",null,"Laser")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("LMP")}},s.a.createElement("span",null,"LMP")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Module")}},s.a.createElement("span",null,"Module")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Router")}},s.a.createElement("span",null,"Router")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Scanner")}},s.a.createElement("span",null,"Scanner")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Server")}},s.a.createElement("span",null,"Server")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Desktop")}},s.a.createElement("span",null,"Desktop")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Storage")}},s.a.createElement("span",null,"Storage")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Switch")}},s.a.createElement("span",null,"Switch")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("UPS")}},s.a.createElement("span",null,"UPS")),s.a.createElement(b.DropdownItem,{onClick:function(){M(!1),Z("Others")}},s.a.createElement("span",null,"Others")))),s.a.createElement("div",{className:"relative "},s.a.createElement("button",{onClick:function(){_(!B)},className:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},ie?Ee:"Pick Search Type"),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),s.a.createElement(b.Dropdown,{isOpen:B,onClose:function(){return _(!1)}},s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe(""),fe(""),J(!0),ge(""),z(!U)}},s.a.createElement("span",null,"All")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("keyboardsno"),fe("Keyboard Serial"),J(!1)}},s.a.createElement("span",null,"Keyboard Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("mousesno"),fe("Mouse Serial"),J(!1)}},s.a.createElement("span",null,"Mouse Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("motherboardsno"),fe("Motherboard Serial"),J(!1)}},s.a.createElement("span",null,"Motherboard Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("monitorsno"),fe("Monitor Serial"),J(!1)}},s.a.createElement("span",null,"Monitor Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("hddsno"),fe("HDD Serial"),J(!1)}},s.a.createElement("span",null,"HDD Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("cpusno"),fe("CPU Serial"),J(!1)}},s.a.createElement("span",null,"CPU Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("ramsno"),fe("Ram Serial"),J(!1)}},s.a.createElement("span",null,"RAM Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("smpssno"),fe("SMPS Serial"),J(!1)}},s.a.createElement("span",null,"SMPS Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("fansno"),fe("Fan Serial"),J(!1)}},s.a.createElement("span",null,"Fan Serial")),s.a.createElement(b.DropdownItem,{onClick:function(){_(!1),pe("opticaldrivesno"),fe("Optical Drive Serial"),J(!1)}},s.a.createElement("span",null,"Optical Drive Serial")))),s.a.createElement("div",{class:"block relative xl:ml-64"},s.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},s.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},s.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),z(!U)}},s.a.createElement("input",{value:Ce,onChange:function(e){return ge(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),s.a.createElement(b.TableContainer,{className:"mt-4"},s.a.createElement(b.Table,null,s.a.createElement(b.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(b.TableCell,null,"Customer"),s.a.createElement(b.TableCell,null,"Unit"),s.a.createElement(b.TableCell,null,"Business"),s.a.createElement(b.TableCell,null,"Product"),s.a.createElement(b.TableCell,null,"Product Serial"),s.a.createElement(b.TableCell,null,"Contract From"),s.a.createElement(b.TableCell,null,"Contract To"),s.a.createElement(b.TableCell,null,"Purchase Number"),s.a.createElement(b.TableCell,null,"Purchase Date"))),s.a.createElement(b.TableBody,null,j.map((function(e,t){return s.a.createElement(b.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(n==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){u(e._id),se(e)}},s.a.createElement(b.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.customerName),s.a.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400"},e.accountName)))),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.unitName)),s.a.createElement(b.TableCell,null,s.a.createElement(b.Badge,{type:"AMC"==e.business?"primary":"success"},e.business)),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.producttype)),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.product.serialno)),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},m()(e.contractfrom).format("DD/MM/YYYY"))),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},m()(e.contractto).format("DD/MM/YYYY"))),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.ponumber)),s.a.createElement(b.TableCell,null,s.a.createElement("span",{className:"text-sm"},m()(e.podate).format("DD/MM/YYYY"))))})))),s.a.createElement(b.TableFooter,null,s.a.createElement(b.Pagination,{totalResults:Oe,resultsPerPage:10,label:"Table navigation",onChange:function(e){S(e)}})))))}},201:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),s=a.n(o),u=a(9),m=a.n(u),i=a(2),p=a(196),d=(a(199),a(10));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,u=e.setUnit,b=e.account,E=e.setAccount,f=e.customer,w=e.setCustomer,h=e.setRefresh,C=Object(o.useState)([]),g=Object(c.a)(C,2),v=g[0],k=g[1],O=Object(o.useState)([]),S=Object(c.a)(O,2),x=S[0],y=S[1],j=Object(o.useState)([]),T=Object(c.a)(j,2),N=T[0],D=T[1],I=Object(o.useState)(0),M=Object(c.a)(I,2),P=M[0],A=M[1],B=Object(o.useState)(""),_=Object(c.a)(B,2),F=_[0],Y=_[1],L=function(e){Y(e.target.value)},R=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:F,role:1},e.prev=2,e.next=5,m()({url:"".concat(d.API,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),k(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:F,role:1},e.prev=1,e.next=4,m()({url:"".concat(d.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),k(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var U=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(d.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),y(a.data),A(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(d.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),D(a.data),A(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),u({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},s.a.createElement(i.ModalHeader,null,"Select"," ",0==P?s.a.createElement(s.a.Fragment,null,"Customer"):1==P?s.a.createElement(s.a.Fragment,null,"Account"):s.a.createElement(s.a.Fragment,null,"Unit")),s.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},s.a.createElement(p.d,{selectedIndex:P,onSelect:function(e){return A(e)}},s.a.createElement(p.b,null,s.a.createElement(p.a,null,"Customer"),s.a.createElement(p.a,null,"Account"),s.a.createElement(p.a,null,"Unit")),s.a.createElement(p.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Customer")),s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,s.a.createElement("form",{onSubmit:R},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:L}))))),s.a.createElement(i.TableBody,null,v.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(p.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Account"))),s.a.createElement(i.TableBody,null,x.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return z(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(p.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,{className:" w-full overflow-y-scroll"},s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Unit"))),s.a.createElement(i.TableBody,null,N.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return H(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),s.a.createElement(i.TableFooter,null))))),s.a.createElement(i.ModalFooter,null,s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName),s.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),h(!0)}},"Select"))))}}}]);
//# sourceMappingURL=50.0aad0fc2.chunk.js.map