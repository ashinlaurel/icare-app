(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[54],{1224:function(e,t,a){"use strict";a.r(t);var l=a(16),n=a(5),r=a.n(n),c=a(12),o=a(3),s=a(0),u=a.n(s),m=a(20),i=a.n(m),d=a(9),p=a.n(d),b=a(18),E=a(36),f=a(2),v=a(199),g=(a(193),a(10)),h=(a(202),a(44)),x=a(43),y=a(37),w=a(7);t.default=function(){var e=Object(w.i)().id,t=Object(w.g)(),a=Object(s.useState)(!1),n=Object(o.a)(a,2),m=(n[0],n[1],Object(s.useState)(0)),d=Object(o.a)(m,2),O=(d[0],d[1],Object(s.useContext)(h.a)),N=(O.bbaropen,O.setBBarOpen,O.setAssetDetails,O.assetdetails,Object(s.useState)("")),j=Object(o.a)(N,2),C=j[0],T=j[1],S=Object(s.useState)(-1),k=Object(o.a)(S,2),I=k[0],M=k[1],L=Object(s.useContext)(x.a),A=(L.topheading,L.setTopHeading),P=Object(s.useState)(!1),D=Object(o.a)(P,2),_=(D[0],D[1],Object(s.useState)(1)),B=Object(o.a)(_,2),F=B[0],Y=B[1],R=Object(s.useState)([]),H=Object(o.a)(R,2),U=H[0],G=H[1],z=Object(s.useState)([]),K=Object(o.a)(z,2),V=K[0],q=K[1],J=Object(s.useState)([]),W=Object(o.a)(J,2),$=W[0],Q=W[1],X=Object(s.useState)(!1),Z=Object(o.a)(X,2),ee=(Z[0],Z[1],Object(s.useState)(!1)),te=Object(o.a)(ee,2),ae=(te[0],te[1],Object(s.useState)(!1)),le=Object(o.a)(ae,2),ne=(le[0],le[1],Object(s.useState)(!0)),re=Object(o.a)(ne,2),ce=re[0],oe=re[1],se=Object(s.useState)(!0),ue=Object(o.a)(se,2),me=(ue[0],ue[1],Object(s.useState)("Normal")),ie=Object(o.a)(me,2),de=ie[0],pe=ie[1],be=Object(s.useState)(""),Ee=Object(o.a)(be,2),fe=Ee[0],ve=Ee[1],ge=Object(s.useState)(""),he=Object(o.a)(ge,2),xe=he[0],ye=he[1],we=Object(s.useState)(""),Oe=Object(o.a)(we,2),Ne=Oe[0],je=Oe[1],Ce=Object(s.useState)(""),Te=Object(o.a)(Ce,2),Se=Te[0],ke=Te[1],Ie=Object(s.useState)(i()().format()),Me=Object(o.a)(Ie,2),Le=Me[0],Ae=Me[1],Pe=Object(s.useState)("Available"),De=Object(o.a)(Pe,2),_e=De[0],Be=De[1],Fe=Object(s.useState)({}),Ye=Object(o.a)(Fe,2),Re=Ye[0],He=(Ye[1],Object(s.useState)("")),Ue=Object(o.a)(He,2),Ge=Ue[0],ze=(Ue[1],Object(s.useState)("")),Ke=Object(o.a)(ze,2),Ve=(Ke[0],Ke[1],Object(s.useState)("")),qe=Object(o.a)(Ve,2),Je=qe[0],We=qe[1],$e=Object(s.useState)(!1),Qe=Object(o.a)($e,2),Xe=Qe[0],Ze=Qe[1],et=Object(s.useState)(!1),tt=Object(o.a)(et,2),at=tt[0],lt=tt[1],nt=Object(s.useState)(""),rt=Object(o.a)(nt,2),ct=rt[0],ot=rt[1],st=Object(s.useState)(!1),ut=Object(o.a)(st,2),mt=ut[0],it=ut[1],dt=Object(s.useState)([]),pt=Object(o.a)(dt,2),bt=pt[0],Et=pt[1],ft={_id:"",name:"",aadharNo:"",PANNo:"",GSTNo:""},vt=Object(s.useState)(ft),gt=Object(o.a)(vt,2),ht=gt[0],xt=gt[1],yt=Object(s.useState)(!1),wt=Object(o.a)(yt,2),Ot=(wt[0],wt[1],Object(s.useState)({_id:"",unitName:""})),Nt=Object(o.a)(Ot,2),jt=Nt[0],Ct=Nt[1],Tt=Object(s.useState)({_id:"",customerName:""}),St=Object(o.a)(Tt,2),kt=St[0],It=St[1],Mt=Object(s.useState)({_id:"",accountName:""}),Lt=Object(o.a)(Mt,2),At=Lt[0],Pt=Lt[1],Dt=Object(s.useState)(!1),_t=Object(o.a)(Dt,2),Bt=_t[0],Ft=_t[1],Yt=Object(s.useState)(""),Rt=Object(o.a)(Yt,2),Ht=Rt[0],Ut=Rt[1],Gt=Object(s.useState)(""),zt=Object(o.a)(Gt,2),Kt=zt[0],Vt=zt[1],qt=Object(s.useState)(""),Jt=Object(o.a)(qt,2),Wt=Jt[0],$t=Jt[1],Qt=function(){var t=Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.post("".concat(g.API,"/lst/").concat(b.a.getId(),"/getbyid"),{id:e});case 3:a=t.sent,console.log("lst",a.data),pe(a.data.LSTtype),ye(a.data.from),je(a.data.to),ke(a.data.LSTNo),Ae(a.data.date),q(a.data.invItems),Q(a.data.invItems),aa(a.data.CMRRItems),Ut(a.data.customerName),$t(a.data.accountName),Vt(a.data.unitName),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log("assetFind Error",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){Qt()}),[]);var Xt={type:"",name:"",sno:"",condition:"Good",invnumber:"",location:"In Transit",caseId:"imprest",systype:"item"},Zt=Object(s.useState)([Xt]),ea=Object(o.a)(Zt,2),ta=ea[0],aa=ea[1];function la(){return(la=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={filters:{searchquery:C}},e.prev=1,e.next=4,p()({url:"".concat(g.API,"/vendor/").concat(b.a.getId(),"/getAll"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data.out),Et(a.data.out),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){la.apply(this,arguments)}()}),[C]);var na=Object(s.useState)(20),ra=Object(o.a)(na,2),ca=ra[0],oa=ra[1];function sa(e){Y(e)}var ua=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var l,n,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,a),""!=a&&""!=t){e.next=3;break}return e.abrupt("return");case 3:return l={from:a,date:t},n=0,e.prev=5,e.next=8,p()({url:"".concat(g.API,"/lst/").concat(b.a.getId(),"/lstbydate"),method:"POST",data:l});case 8:n=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),e.t0;case 14:c="Trivandrum"==a?"TVM":"Kottayam"==a?"KTM":"CLT",o=i()(t).format("YY"),i()(t).format("MM"),i()(t).format("DD"),(s=n.data+1)<10?s="00"+s:s<100&&(s="0"+s),console.log(n.data),ke("ICS"+c+o+s);case 23:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,a){return e.apply(this,arguments)}}();function ma(){return ia.apply(this,arguments)}function ia(){return(ia=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:F,limit:10},filters:{type:fe,location:xe,condition:_e,searchtype:Ge,searchquery:Je}},e.prev=2,e.next=5,p()({url:"".concat(g.API,"/inventory/").concat(b.a.getId(),"/getall"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),oa(a.data.total),G(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}Object(s.useEffect)((function(){return A("Edit LST"),function(){A("")}}),[]),Object(s.useEffect)((function(){ma()}),[F,xe,_e,fe,ce]),console.log(Re);var da=function(){var a=Object(c.a)(r.a.mark((function a(){var l,n,o,s,u,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!=Se){a.next=4;break}return ot("LST Number necessary"),lt(!0),a.abrupt("return");case 4:if(""!=Le){a.next=8;break}return ot("Date Necessary"),lt(!0),a.abrupt("return");case 8:if(""!=xe){a.next=12;break}return ot("From location not selected"),lt(!0),a.abrupt("return");case 12:if(""!=Ne){a.next=16;break}return ot("To location not selected"),lt(!0),a.abrupt("return");case 16:if("CMRR"!=de){a.next=20;break}return console.log(ta),pa(),a.abrupt("return");case 20:if(0!=V.length){a.next=24;break}return ot("No items selected"),lt(!0),a.abrupt("return");case 24:return l=[],V.map(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.push(t._id);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n={invItems:l},console.log("LST",n),a.prev=28,a.next=31,p()({url:"".concat(g.API,"/lst/").concat(b.a.getId(),"/update"),method:"POST",data:{id:e,update:n}});case 31:s=V,u=(o=$).filter((function(e){return!s.some((function(t){return t._id==e._id}))})),m=s.filter((function(e){return!o.some((function(t){return t._id==e._id}))})),console.log("toremove",u),console.log("toadd",m),m.map(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={histtype:"lst",date:Le,location:"In Transit",callId:"Nil",assetId:"Nil",status:t.condition,note:"Item sent from ".concat(xe," to ").concat(Ne," (LST Edited on ").concat(i()(new Date).format("DD/MM/YY"),")")},l={id:t._id,update:{location:"In transit",caseId:t.caseId,$push:{history:a},LSTtype:de}},console.log("PAYLOAD",l),e.prev=3,e.next=6,p()({url:"".concat(g.API,"/inventory/").concat(b.a.getId(),"/invupdate"),method:"POST",data:l});case 6:console.log("Done"),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()),u.map(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={histtype:"lst",date:Le,location:xe,callId:"Nil",assetId:"Nil",status:t.condition,note:"Item Removed from LST (".concat(Se,") (LST Edited on ").concat(i()(new Date).format("DD/MM/YY"),")")},l={id:t._id,update:{location:xe,caseId:"Nil",$push:{history:a},LSTtype:de,LSTCustomer:""}},console.log("PAYLOAD",l),e.prev=3,e.next=6,p()({url:"".concat(g.API,"/inventory/").concat(b.a.getId(),"/invupdate"),method:"POST",data:l});case 6:console.log("Done"),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()),console.log("Done"),ot("LST Saved!"),setTimeout((function(){return t.push("/app/lst/history")}),2e3),je(""),Ae(""),xt(ft),ua(Le,xe),lt(!0),q([]),ma(),a.next=55;break;case 51:throw a.prev=51,a.t0=a.catch(28),console.log(a.t0),a.t0;case 55:case"end":return a.stop()}}),a,null,[[28,51]])})));return function(){return a.apply(this,arguments)}}(),pa=function(){var t=Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={from:xe,to:Ne,LSTNo:Se,date:Le,invItems:[],status:"In Transit",LSTtype:de,CMRRItems:ta},console.log("LST",a),t.prev=2,t.next=5,p()({url:"".concat(g.API,"/lst/").concat(b.a.getId(),"/update"),method:"POST",data:{id:e,update:a}});case 5:console.log("Done"),ot("LST Submitted"),je(""),Ae(""),xt(ft),aa([Xt]),lt(!0),q([]),ma(),t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(2),console.log(t.t0),t.t0;case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(){return t.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:" mt-4"},u.a.createElement("div",{className:"flex flex-row dark:text-white  "},u.a.createElement("div",{className:"mr-1 flex flex-row dark:text-white  "},u.a.createElement("div",{className:"mx-1 my-1  "}," Type:"),u.a.createElement("p",{className:" text-purple-300 font-semibold    my-auto"},de)),u.a.createElement("div",{className:"mr-1 flex flex-row dark:text-white  "},u.a.createElement("div",{className:"mx-1 my-auto   "},"From:"),u.a.createElement("div",{class:"relative mx-1 my-auto "}," ",u.a.createElement("p",{className:" text-purple-300 font-semibold    my-auto"},xe))),u.a.createElement("div",{className:"flex flex-row dark:text-white  "},u.a.createElement("div",{className:"mx-1 my-auto "},"To:"),u.a.createElement("div",{class:"relative mx-1 my-auto "}," ",u.a.createElement("p",{className:" text-purple-300 font-semibold    my-auto"},Ne),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),u.a.createElement("div",{className:"flex flex-row dark:text-white  "},u.a.createElement("div",{className:" my-auto "},"Date: "),u.a.createElement("div",{class:"relative mx-1  my-auto "},u.a.createElement("p",{className:" text-purple-300 font-semibold my-auto "},i()(Le).format("DD/MM/YY")))),u.a.createElement("div",{className:" flex flex-row dark:text-white   "},u.a.createElement("div",{className:" mx-1  my-auto "},"LST No."),u.a.createElement("p",{className:" text-purple-300 font-semibold   my-auto"},Se)),u.a.createElement("div",{className:"flex flex-row dark:text-white ml-auto  "},u.a.createElement(f.Button,{onClick:da,className:"px-10"},"Save"))),"Customer"==de?u.a.createElement("div",{className:"flex flex-row dark:text-white  "},u.a.createElement("div",{className:" flex flex-row dark:text-white mt-2 "},"Customer:"," ",u.a.createElement("span",{className:"text-purple-300 font-semibold"}," ",Ht),", Account:"," ",u.a.createElement("span",{className:"text-purple-300 font-semibold"},Wt),", Unit:"," ",u.a.createElement("span",{className:"text-purple-300 font-semibold"},Kt))):null,"Normal"==de||"Customer"==de?u.a.createElement(u.a.Fragment,null,u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:""},u.a.createElement("div",{class:"mb-1 mt-5 dark:text-white font-semibold "},""!==ht.name?u.a.createElement(u.a.Fragment,null," Vendor:",ht.name):null),u.a.createElement("div",{class:"mb-1 mt-5 dark:text-white font-semibold "},"Selected Items")),u.a.createElement(f.TableContainer,{className:"mt-4"},u.a.createElement(f.Table,null,u.a.createElement(f.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,"Type"),u.a.createElement(f.TableCell,null,"Name"),u.a.createElement(f.TableCell,null,"Serial Number"),u.a.createElement(f.TableCell,null,"Location"),u.a.createElement(f.TableCell,null,"Inv Number"),u.a.createElement(f.TableCell,null,"Condition"),u.a.createElement(f.TableCell,null,"Case Id"),u.a.createElement(f.TableCell,null,"Remove"))),u.a.createElement(f.TableBody,null,V.map((function(e,t){return u.a.createElement(f.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(I==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){M(t)}},u.a.createElement(f.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.type)))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.name)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.sno)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.location)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.invnumber)),u.a.createElement(f.TableCell,null,u.a.createElement(f.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),u.a.createElement(f.TableCell,null,u.a.createElement("input",{value:e.caseId,onChange:function(t){var a=V;a=a.filter((function(a){if(a._id!=e._id)return a;console.log("here",t.target.value);var l=a;return l.caseId=t.target.value,l})),console.log(a),q(a)},defaultValue:"Imprest",placeholder:"Cse Id.",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-1 pr-1 py-1 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})),u.a.createElement(f.TableCell,null,u.a.createElement("div",{className:" py-1",onClick:function(){var t=[].concat(Object(l.a)(U),[e]);G(t);var a=V;a=a.filter((function(t){return t._id!=e._id})),q(a)}},u.a.createElement(E.TrashIcon,{className:"w-5 h-5 cursor-pointer m-2 text-2xl",fill:"maroon","aria-hidden":"true"}))))})))))),u.a.createElement("div",{className:"my-5"},u.a.createElement(f.Button,{layout:"outline",onClick:function(){if(""==xe||""==Ne)return ot("Select From and To Locations"),void lt(!0);Ze(!0)}},"Add Product from Inventory")),Xe?u.a.createElement("div",{className:"dark:bg-gray-700 bg-gray-100 px-2 py-2 rounded-lg"},u.a.createElement("div",{className:""},u.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:fe,onChange:function(e){ve(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Item Type"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"mouse"},"Mouse"),u.a.createElement("option",{value:"keyboard"},"Keyboard"),u.a.createElement("option",{value:"monitor"},"Monitor"),u.a.createElement("option",{value:"cpu"},"Cpu"),u.a.createElement("option",{value:"ram"},"Ram"),u.a.createElement("option",{value:"fan"},"Fan"),u.a.createElement("option",{value:"motherboard"},"Motherboard"),u.a.createElement("option",{value:"smps"},"SMPS"),u.a.createElement("option",{value:"hdd"},"HDD"),u.a.createElement("option",{value:"gcard"},"Gcard"),u.a.createElement("option",{value:"enetcard"},"Enet Card"),u.a.createElement("option",{value:"serialcard"},"Serial Card"),u.a.createElement("option",{value:"paralellcard"},"Paralell Card"),u.a.createElement("option",{value:"opticaldrive"},"Optical Drive"),u.a.createElement("option",{value:"others"},"Others")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:_e,onChange:function(e){Be(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0},"Condition"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Good"},"Good"),u.a.createElement("option",{value:"Bad"},"Bad"),u.a.createElement("option",{value:"Used"},"Used"),u.a.createElement("option",{value:"Available",selected:!0},"Available"),u.a.createElement("option",{value:"DOA"},"DOA")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"block relative xl:ml-64"},u.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},u.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},u.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),oe(!ce)}},u.a.createElement("input",{value:Je,onChange:function(e){return We(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),u.a.createElement(f.TableContainer,{className:"mt-4"},u.a.createElement(f.Table,null,u.a.createElement(f.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,"Category"),u.a.createElement(f.TableCell,null,"Description"),u.a.createElement(f.TableCell,null,"Serial Number"),u.a.createElement(f.TableCell,null,"Location"),u.a.createElement(f.TableCell,null,"Stock Type"),u.a.createElement(f.TableCell,null,"Wty."),u.a.createElement(f.TableCell,null,"Status"),u.a.createElement(f.TableCell,null,"Add"))),u.a.createElement(f.TableBody,null,U.map((function(e,t){return u.a.createElement(f.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(I==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){M(t)}},u.a.createElement(f.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},Object(y.capitalize)(e.type))))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.name)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.sno)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.location)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.stocktype)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.expirydate)),u.a.createElement(f.TableCell,null,u.a.createElement(f.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),u.a.createElement(f.TableCell,null,u.a.createElement(f.Button,{layout:"outline",className:"dark:border-green-700 border-green-400",onClick:function(){var t=!1,a=U;if(a=a.filter((function(t){return t._id!=e._id})),console.log(a),G(a),V.map((function(a){a._id==e._id&&(console.log(a._id,e._id),ot("Product already Added!"),lt(!0),t=!0)})),!t){e.caseId="imprest";var n=[].concat(Object(l.a)(V),[e]);q(n)}}},"Add")))})))),u.a.createElement(f.TableFooter,null,u.a.createElement(f.Pagination,{totalResults:ca,resultsPerPage:10,label:"Table navigation",onChange:sa})))):null):null),u.a.createElement(u.a.Fragment,null,u.a.createElement(f.Modal,{isOpen:at,onClose:function(){return lt(!1)}},u.a.createElement(f.ModalHeader,null,ct),u.a.createElement(f.ModalBody,null),u.a.createElement(f.ModalFooter,null,u.a.createElement(f.Button,{className:"w-full sm:w-auto",onClick:function(){return lt(!1)}},"Okay!")))),u.a.createElement(u.a.Fragment,null,u.a.createElement(f.Modal,{isOpen:mt,onClose:function(){return it(!1)}},u.a.createElement(f.ModalHeader,null,u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,"Pick Vendor")),u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,u.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:function(e){T(e.target.value)}}))))),u.a.createElement(f.ModalBody,{className:"overflow-y-scroll h-64"},u.a.createElement(f.TableContainer,null,u.a.createElement(f.Table,null,u.a.createElement(f.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,"Customer"))),u.a.createElement(f.TableBody,null,bt.map((function(e,t){return u.a.createElement(f.TableRow,{key:t,className:"hover:bg-purple-900 ",onClick:function(){console.log(e),xt(e),it(!1)}},u.a.createElement(f.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))))),u.a.createElement(f.ModalFooter,null,u.a.createElement(f.Button,{className:"w-full sm:w-auto",onClick:function(){return it(!1)}},"Okay!")))),"CMRR"==de?u.a.createElement(u.a.Fragment,null,ta.map((function(e,t){return a=t,u.a.createElement("div",{className:"px-4 py-3 my-2 bg-white rounded-lg shadow-md dark:bg-gray-800"},u.a.createElement(f.Label,{className:"font-bold flex-row flex justify-between"},u.a.createElement("span",null,"Item Number : ",a+1)," ",u.a.createElement("div",{layout:"outline",onClick:function(){var e=Object(l.a)(ta);e=e.filter((function(e,t){if(t!=a)return e})),aa(e)},className:"border-gray-100 rounded-full cursor pointer"},u.a.createElement(E.CloseIcon,{fill:"lightgray",className:"w-5 h-5 cursor-pointer ","aria-hidden":"true"}))),u.a.createElement("hr",{className:"mb-5 mt-2"}),u.a.createElement("div",{className:"flex-row flex space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Select Type*"),u.a.createElement(f.Select,{className:"mt-1",value:ta[a].systype,onChange:function(e){var t=Object(l.a)(ta);t[a].systype=e.target.value,aa(t)}},u.a.createElement("option",{selected:!0,value:"item"},"Item"),u.a.createElement("option",{value:"full system"},"Full System")))),"item"==ta[a].systype?u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Select Category*"),u.a.createElement(f.Select,{className:"mt-1",value:ta[a].type,onChange:function(e){var t=Object(l.a)(ta);t[a].type=e.target.value,aa(t)}},u.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select Type"),u.a.createElement("option",{value:"mouse"},"Mouse"),u.a.createElement("option",{value:"keyboard"},"Keyboard"),u.a.createElement("option",{value:"monitor"},"Monitor"),u.a.createElement("option",{value:"cpu"},"Cpu"),u.a.createElement("option",{value:"ram"},"Ram"),u.a.createElement("option",{value:"fan"},"Fan"),u.a.createElement("option",{value:"motherboard"},"Motherboard"),u.a.createElement("option",{value:"smps"},"SMPS"),u.a.createElement("option",{value:"hdd"},"HDD"),u.a.createElement("option",{value:"gcard"},"Gcard"),u.a.createElement("option",{value:"enetcard"},"Enet Card"),u.a.createElement("option",{value:"serialcard"},"Serial Card"),u.a.createElement("option",{value:"paralellcard"},"Paralell Card"),u.a.createElement("option",{value:"opticaldrive"},"Optical Drive"),u.a.createElement("option",{value:"others"},"Others")))):u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Select Category*"),u.a.createElement(f.Select,{className:"mt-1",value:ta[a].type,onChange:function(e){var t=Object(l.a)(ta);t[a].type=e.target.value,aa(t)}},u.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select Type"),u.a.createElement("option",{value:"console"},"Console"),u.a.createElement("option",{value:"DMP"},"DMP"),u.a.createElement("option",{value:"inkjet"},"Inkjet"),u.a.createElement("option",{value:"KVM"},"KVM"),u.a.createElement("option",{value:"laptop"},"Laptop"),u.a.createElement("option",{value:"laser"},"Laser"),u.a.createElement("option",{value:"LMP"},"LMP"),u.a.createElement("option",{value:"module"},"Module"),u.a.createElement("option",{value:"router"},"Router"),u.a.createElement("option",{value:"scanner"},"Scanner"),u.a.createElement("option",{value:"server"},"Server"),u.a.createElement("option",{value:"desktop"},"Desktop"),u.a.createElement("option",{value:"storage"},"Storage"),u.a.createElement("option",{value:"switch"},"Switch"),u.a.createElement("option",{value:"UPS"},"UPS"),u.a.createElement("option",{value:"others"},"Others")))),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Product Name*"),u.a.createElement(f.Input,{className:"mt-1",type:"text",value:ta[a].name,onChange:function(e){var t=Object(l.a)(ta);t[a].name=e.target.value,aa(t)}})))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Serial Number*"),u.a.createElement(f.Input,{className:"mt-1",type:"text",value:ta[a].sno,onChange:function(e){var t=Object(l.a)(ta);t[a].sno=e.target.value,aa(t)}}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Select Condition*"),u.a.createElement(f.Select,{className:"mt-1",onChange:function(e){var t=Object(l.a)(ta);t[a].condition=e.target.value,aa(t)}},u.a.createElement("option",{value:"Good",selected:!0},"Good"),u.a.createElement("option",{value:"Bad"},"Bad"),u.a.createElement("option",{value:"DOA"},"DOA"))))),u.a.createElement("div",{className:"flex-row flex space-x-3"},u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Warranty*"),u.a.createElement(f.Select,{className:"mt-1",value:ta[a].wty,onChange:function(e){var t=Object(l.a)(ta);t[a].wty=e.target.value,aa(t)}},u.a.createElement("option",{value:"",selected:!0,disabled:!0},"Select Category"),u.a.createElement("option",{value:"0D"},"0 days"),u.a.createElement("option",{value:"3M"},"3 Months"),u.a.createElement("option",{value:"6M"},"6 Months"),u.a.createElement("option",{value:"1Y"},"1 Year"),u.a.createElement("option",{value:"2Y"},"2 Years"),u.a.createElement("option",{value:"3Y"},"3 Years"),u.a.createElement("option",{value:"4Y"},"4 Years"),u.a.createElement("option",{value:"5Y"},"5 Years"),u.a.createElement("option",{value:"20Y"},"20 Years")))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Case ID*"),u.a.createElement(f.Input,{className:"mt-1",type:"text",value:ta[a].caseId,onChange:function(e){var t=Object(l.a)(ta);t[a].caseId=e.target.value,aa(t)}})))));var a})),u.a.createElement(f.Card,{className:"mb-4 shadow-md "},u.a.createElement(f.CardBody,null,u.a.createElement("div",{className:"flex flex-row flex-wrap justify-start"},u.a.createElement(f.Button,{onClick:function(){var e=Object(l.a)(ta),t=Xt;e.push(t),aa(e)},"aria-label":"Notifications","aria-haspopup":"true",layout:"outline",className:" mx-2 "},"Add Item"))))):null,u.a.createElement(v.a,{isModalOpen:Bt,setIsModalOpen:Ft,setUnit:Ct,unit:jt,customer:kt,setCustomer:It,account:At,setAccount:Pt}))}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var l=a(5),n=a.n(l),r=a(12),c=a(3),o=a(0),s=a.n(o),u=a(9),m=a.n(u),i=a(2),d=a(196),p=(a(198),a(10));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,l=e.unit,u=e.setUnit,b=e.account,E=e.setAccount,f=e.customer,v=e.setCustomer,g=Object(o.useState)([]),h=Object(c.a)(g,2),x=h[0],y=h[1],w=Object(o.useState)([]),O=Object(c.a)(w,2),N=O[0],j=O[1],C=Object(o.useState)([]),T=Object(c.a)(C,2),S=T[0],k=T[1],I=Object(o.useState)(0),M=Object(c.a)(I,2),L=M[0],A=M[1],P=Object(o.useState)(""),D=Object(c.a)(P,2),_=D[0],B=D[1],F=function(e){B(e.target.value)},Y=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:_,role:1},e.prev=2,e.next=5,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:a});case 5:l=e.sent,console.log(l.data),y(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:_,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),y(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var R=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),j(a.data),A(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),k(a.data),A(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),u({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},s.a.createElement(i.ModalHeader,null,"Select"," ",0==L?s.a.createElement(s.a.Fragment,null,"Customer"):1==L?s.a.createElement(s.a.Fragment,null,"Account"):s.a.createElement(s.a.Fragment,null,"Unit")),s.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},s.a.createElement(d.d,{selectedIndex:L,onSelect:function(e){return A(e)}},s.a.createElement(d.b,null,s.a.createElement(d.a,null,"Customer"),s.a.createElement(d.a,null,"Account"),s.a.createElement(d.a,null,"Unit")),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Customer")),s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,s.a.createElement("form",{onSubmit:Y},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:F}))))),s.a.createElement(i.TableBody,null,x.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return R(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Account"))),s.a.createElement(i.TableBody,null,N.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return H(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,{className:" w-full overflow-y-scroll"},s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Unit"))),s.a.createElement(i.TableBody,null,S.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),s.a.createElement(i.TableFooter,null))))),s.a.createElement(i.ModalFooter,null,s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",l.unitName),s.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){return a(!1)}},"Select"))))}}}]);
//# sourceMappingURL=54.97ef5b62.chunk.js.map