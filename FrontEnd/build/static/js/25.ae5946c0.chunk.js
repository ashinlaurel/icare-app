(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[25],{1066:function(e,t,a){"use strict";a.r(t);var l=a(3),n=a.n(l),r=a(9),c=a(2),o=a(0),u=a.n(o),s=a(19),i=a.n(s),m=a(8),d=a.n(m),p=a(15),E=a(28),b=a(1),f=a(10),v=(a(94),a(30)),g=a(6),h=a(29),y=a(966);t.default=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],s=Object(o.useState)(0),m=Object(c.a)(s,2),x=m[0],w=m[1],O=Object(o.useState)(!1),j=Object(c.a)(O,2),C=j[0],T=j[1],N=Object(o.useState)(0),S=Object(c.a)(N,2),k=S[0],M=S[1],B=Object(o.useContext)(v.a),_=(B.bbaropen,B.setBBarOpen),F=B.setAssetDetails,D=(B.assetdetails,Object(o.useState)(0)),P=Object(c.a)(D,2),A=P[0],I=P[1],z=Object(o.useContext)(h.a),H=(z.topheading,z.setTopHeading),L=Object(o.useState)(!1),R=Object(c.a)(L,2),U=(R[0],R[1],Object(o.useState)(1)),K=Object(c.a)(U,2),G=K[0],J=K[1],V=Object(o.useState)([]),Y=Object(c.a)(V,2),q=Y[0],W=Y[1],Q=Object(o.useState)(!1),X=Object(c.a)(Q,2),Z=(X[0],X[1],Object(o.useState)(!1)),$=Object(c.a)(Z,2),ee=($[0],$[1],Object(o.useState)(!1)),te=Object(c.a)(ee,2),ae=(te[0],te[1],Object(o.useState)(!0)),le=Object(c.a)(ae,2),ne=le[0],re=le[1],ce=Object(o.useState)(!0),oe=Object(c.a)(ce,2),ue=(oe[0],oe[1],Object(o.useState)("")),se=Object(c.a)(ue,2),ie=se[0],me=se[1],de=Object(o.useState)(""),pe=Object(c.a)(de,2),Ee=pe[0],be=pe[1],fe=Object(o.useState)(""),ve=Object(c.a)(fe,2),ge=ve[0],he=ve[1],ye=Object(o.useState)({}),xe=Object(c.a)(ye,2),we=xe[0],Oe=(xe[1],Object(o.useState)("")),je=Object(c.a)(Oe,2),Ce=je[0],Te=(je[1],Object(o.useState)("")),Ne=Object(c.a)(Te,2),Se=(Ne[0],Ne[1],Object(o.useState)("")),ke=Object(c.a)(Se,2),Me=ke[0],Be=ke[1],_e=Object(o.useState)(20),Fe=Object(c.a)(_e,2),De=Fe[0],Pe=Fe[1];return Object(o.useEffect)((function(){return function(){_(0),F({})}}),[]),Object(o.useEffect)((function(){return H("Inventory"),function(){H("")}}),[]),Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:G,limit:10},filters:{type:ie,location:Ee,condition:ge,searchtype:Ce,searchquery:Me}},e.prev=2,e.next=5,d()({url:"".concat(f.a,"/inventory/").concat(p.a.getId(),"/getall"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),Pe(a.data.total),W(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}()()}),[G,Ee,ge,ie,ne]),console.log(we),u.a.createElement(u.a.Fragment,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(b.Modal,{isOpen:a,onClose:function(){return l(!1)}},u.a.createElement(b.ModalHeader,null,"Are you sure you want to delete!"),u.a.createElement(b.ModalBody,null),u.a.createElement(b.ModalFooter,null,u.a.createElement(b.Button,{className:"w-full sm:w-auto",onClick:Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({url:"".concat(f.a,"/inventory/").concat(p.a.getId(),"/delete"),method:"POST",data:{id:x}});case 3:t=e.sent,console.log(t.data),a=q.filter((function(e){return e._id!=x})),W(a),l(!1),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))},"Confirm Delete")))),function(){if(q[k]){var e=q[k];return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.Modal,{isOpen:C,onClose:function(){return T(!1)},className:"w-8/12 dark:bg-gray-800 p-10 my-12  bg-gray-50 text-gray-900 dark:text-white  rounded-lg overflow-y-scroll"},u.a.createElement(b.ModalHeader,null,e.name),u.a.createElement(b.ModalBody,null,u.a.createElement("div",{className:"flex flex-col lg:flex-row items-center justify-between "},u.a.createElement("div",{className:"my-3 font-semibold flex-col flex"},u.a.createElement("span",null,"Type:",e.type),u.a.createElement("span",null,"vendor:",e.vendor),u.a.createElement("span",null,"location:",e.location),u.a.createElement("span",null,"Invnetory No:",e.invnumber),u.a.createElement("span",null,"taxcategory:",e.taxcategory),u.a.createElement("span",null,"amount:",e.amount)),u.a.createElement("div",{className:"my-3 font-semibold flex-col flex"},u.a.createElement("div",null,"inventory Date: ",i()(e.invdate).format("DD/MM/YY")),u.a.createElement("div",null,"gstno: ",e.gstno),u.a.createElement("div",null,"taxperc: ",e.taxperc),u.a.createElement("div",null,"tcs: ",e.tcs),u.a.createElement("div",null,"expirydate: ",e.expirydate),u.a.createElement("div",null,"Warranty: ",e.wty)),u.a.createElement("div",{className:"my-3 font-semibold flex-col flex"},u.a.createElement("div",null," Serial No: ",e.sno),u.a.createElement("div",null,"Purchase location: ",e.purchlocation),u.a.createElement("div",null,"Inventory Type: ",e.invtype),u.a.createElement("div",null,"panno: ",e.panno),u.a.createElement("div",null,"nettax: ",e.nettax),u.a.createElement("div",null,"igst: ",e.igst)),u.a.createElement("div",{className:"my-3 font-semibold flex-col flex"},u.a.createElement("div",null," Condition: ",e.condition),u.a.createElement("div",null,"Purchase type: ",e.purchtype),u.a.createElement("div",null,"aadharno: ",e.aadharno),u.a.createElement("div",null,"rate: ",e.rate),u.a.createElement("div",null,"cgst: ",e.cgst),u.a.createElement("div",null,"sgst: ",e.sgst))),u.a.createElement("div",{className:"flex flex-col lg:flex-row items-center justify-between"},u.a.createElement("div",{className:"font-semibold"},"Invoice Amount:",e.invamount))),u.a.createElement(b.ModalFooter,null)))}}(),u.a.createElement("div",{className:"mb-64 mt-4"},u.a.createElement("div",{className:""},u.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ie,onChange:function(e){me(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Item Type"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Mouse"},"Mouse"),u.a.createElement("option",{value:"Keyboard"},"Keyboard"),u.a.createElement("option",{value:"Monitor"},"Monitor"),u.a.createElement("option",{value:"Cpu"},"Cpu"),u.a.createElement("option",{value:"Ram"},"Ram"),u.a.createElement("option",{value:"Fan"},"Fan"),u.a.createElement("option",{value:"Motherboard"},"Motherboard"),u.a.createElement("option",{value:"SMPS"},"SMPS"),u.a.createElement("option",{value:"HDD"},"HDD"),u.a.createElement("option",{value:"SMPS"},"SMPS"),u.a.createElement("option",{value:"GCard"},"Gcard"),u.a.createElement("option",{value:"EnetCard"},"Enet Card"),u.a.createElement("option",{value:"SerialCard"},"Serial Card"),u.a.createElement("option",{value:"ParalellCard"},"Paralell Card"),u.a.createElement("option",{value:"OpticalDrive"},"Optical Drive"),u.a.createElement("option",{value:"Others"},"Others")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:Ee,onChange:function(e){be(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),u.a.createElement("option",{value:"Kottayam"},"Kottayam"),u.a.createElement("option",{value:"Kozhikode"},"Kozhikode")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ge,onChange:function(e){he(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Condition"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Good"},"Good"),u.a.createElement("option",{value:"Bad"},"Bad"),u.a.createElement("option",{value:"Used"},"Used")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"block relative xl:ml-64"},u.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},u.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},u.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),re(!ne)}},u.a.createElement("input",{value:Me,onChange:function(e){return Be(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),u.a.createElement(b.TableContainer,{className:"mt-4"},u.a.createElement(b.Table,null,u.a.createElement(b.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(b.TableCell,null,"Type"),u.a.createElement(b.TableCell,null,"Name"),u.a.createElement(b.TableCell,null,"Serial Number"),u.a.createElement(b.TableCell,null,"Location"),u.a.createElement(b.TableCell,null,"Inv Number"),u.a.createElement(b.TableCell,null,"Condition"),u.a.createElement(b.TableCell,null,"View"),u.a.createElement(b.TableCell,null,"Edit/Delete"))),u.a.createElement(b.TableBody,null,q.map((function(e,t){return u.a.createElement(b.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(A==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){I(e._id)}},u.a.createElement(b.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},Object(y.capitalize)(e.type))))),u.a.createElement(b.TableCell,null,"item"==e.systype?u.a.createElement("span",{className:"text-sm"},e.name):u.a.createElement("span",{className:"text-sm"},e.brand+e.model)),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.sno)),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.location)),u.a.createElement(b.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.invnumber)),u.a.createElement(b.TableCell,null,u.a.createElement(b.Badge,{type:"Good"==e.condition?"primary":"danger"},e.condition)),u.a.createElement(b.TableCell,null,u.a.createElement(b.Button,{onClick:function(){M(t),T(!0)},layout:"outline"},"View")),u.a.createElement(b.TableCell,null,u.a.createElement("div",{className:"flex items-center space-x-4"},u.a.createElement(b.Button,{layout:"link",size:"icon","aria-label":"Edit"},u.a.createElement(g.b,{key:e._id,to:"/app/inventory/update/".concat(e._id)},u.a.createElement(E.EditIcon,{className:"w-5 h-5","aria-hidden":"true"}))," "),u.a.createElement(b.Button,{layout:"link",size:"icon","aria-label":"Delete",onClick:Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("delete Asset"),l(!0),w(e._id);case 3:case"end":return t.stop()}}),t)})))},u.a.createElement(E.TrashIcon,{className:"w-5 h-5","aria-hidden":"true"})))))})))),u.a.createElement(b.TableFooter,null,u.a.createElement(b.Pagination,{totalResults:De,resultsPerPage:10,label:"Table navigation",onChange:function(e){J(e)}})))))}},87:function(e,t,a){},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var l=a(3),n=a.n(l),r=a(9),c=a(2),o=a(0),u=a.n(o),s=a(8),i=a.n(s),m=a(1),d=a(92),p=(a(87),a(10));function E(e){var t=e.isModalOpen,a=e.setIsModalOpen,l=e.unit,s=e.setUnit,E=e.account,b=e.setAccount,f=e.customer,v=e.setCustomer,g=e.refresh,h=e.setRefresh,y=Object(o.useState)([]),x=Object(c.a)(y,2),w=x[0],O=x[1],j=Object(o.useState)([]),C=Object(c.a)(j,2),T=C[0],N=C[1],S=Object(o.useState)([]),k=Object(c.a)(S,2),M=k[0],B=k[1],_=Object(o.useState)(0),F=Object(c.a)(_,2),D=F[0],P=F[1],A=Object(o.useState)(""),I=Object(c.a)(A,2),z=I[0],H=I[1],L=function(e){H(e.target.value)},R=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:z,role:1},e.prev=2,e.next=5,i()({url:"".concat(p.a,"/customer/customers"),method:"POST",data:a});case 5:l=e.sent,console.log(l.data),O(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:z,role:1},e.prev=1,e.next=4,i()({url:"".concat(p.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),O(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var U=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),b({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,i.a.post("".concat(p.a,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),N(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),b({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,i.a.post("".concat(p.a,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),B(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(m.ModalHeader,null,"Select"," ",0==D?u.a.createElement(u.a.Fragment,null,"Customer"):1==D?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(m.ModalBody,null,u.a.createElement(d.d,{selectedIndex:D,onSelect:function(e){return P(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(m.TableContainer,null,u.a.createElement(m.Table,null,u.a.createElement(m.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,u.a.createElement("form",{onSubmit:R},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:L}))))),u.a.createElement(m.TableBody,null,w.map((function(e,t){return u.a.createElement(m.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},u.a.createElement(m.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(m.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(m.TableContainer,null,u.a.createElement(m.Table,null,u.a.createElement(m.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,"Account"))),u.a.createElement(m.TableBody,null,T.map((function(e,t){return u.a.createElement(m.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},u.a.createElement(m.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(m.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(m.TableContainer,null,u.a.createElement(m.Table,null,u.a.createElement(m.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(m.TableCell,null,"Unit"))),u.a.createElement(m.TableBody,null,M.map((function(e,t){return u.a.createElement(m.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return G(e)}},u.a.createElement(m.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(m.TableFooter,null)))),u.a.createElement(m.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(m.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",E.accountName),u.a.createElement(m.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",l.unitName)),u.a.createElement(m.ModalFooter,null,u.a.createElement(m.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),h(!g)}},"Select"))))}},966:function(e,t){t.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}}}]);
//# sourceMappingURL=25.ae5946c0.chunk.js.map