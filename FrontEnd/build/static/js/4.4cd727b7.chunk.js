(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[4],{199:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),u=a.n(o),s=a(9),m=a.n(s),i=a(2),d=a(192),E=(a(197),a(10));function p(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,s=e.setUnit,p=e.account,b=e.setAccount,f=e.customer,v=e.setCustomer,g=e.refresh,h=e.setRefresh,T=e.theunitdetails,N=e.setTheUnitDetails,y=Object(o.useState)([]),C=Object(c.a)(y,2),w=C[0],k=C[1],O=Object(o.useState)([]),x=Object(c.a)(O,2),j=x[0],S=x[1],M=Object(o.useState)([]),A=Object(c.a)(M,2),B=A[0],I=A[1],F=Object(o.useState)(0),_=Object(c.a)(F,2),P=_[0],H=_[1],R=Object(o.useState)(""),U=Object(c.a)(R,2),D=U[0],J=U[1],q=function(e){J(e.target.value)},z=function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:D,role:1},e.prev=1,e.next=4,m()({url:"".concat(E.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),k(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){z()}),[D]),Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:D,role:1},e.prev=1,e.next=4,m()({url:"".concat(E.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),k(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var G=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),b({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),S(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),b({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),I(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("-------------piking unit"),console.log(t),s({_id:t._id,contactPerson:t.contactPerson,contactNo:t.contactNo,unitName:t.unitName});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(i.ModalHeader,null,"Select"," ",0==P?u.a.createElement(u.a.Fragment,null,"Customer"):1==P?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(i.ModalBody,{className:"h-64 overflow-auto"},u.a.createElement(d.d,{selectedIndex:P,onSelect:function(e){return H(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,{className:""},u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,u.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:q}))))),u.a.createElement(i.TableBody,null,w.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return G(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Account"))),u.a.createElement(i.TableBody,null,j.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Unit"))),u.a.createElement(i.TableBody,null,B.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return L(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(i.TableFooter,null))))),u.a.createElement(i.ModalFooter,null,u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",p.accountName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName),u.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),h(!g),T&&N(n),S([]),I([])}},"Select"))))}},202:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),u=a.n(o),s=a(9),m=a.n(s),i=a(2),d=a(192),E=(a(197),a(10));function p(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,s=e.setUnit,p=e.account,b=e.setAccount,f=e.customer,v=e.setCustomer,g=Object(o.useState)([]),h=Object(c.a)(g,2),T=h[0],N=h[1],y=Object(o.useState)([]),C=Object(c.a)(y,2),w=C[0],k=C[1],O=Object(o.useState)([]),x=Object(c.a)(O,2),j=x[0],S=x[1],M=Object(o.useState)(0),A=Object(c.a)(M,2),B=A[0],I=A[1],F=Object(o.useState)(""),_=Object(c.a)(F,2),P=_[0],H=_[1],R=function(e){H(e.target.value)},U=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:P,role:1},e.prev=2,e.next=5,m()({url:"".concat(E.API,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),N(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:P,role:1},e.prev=1,e.next=4,m()({url:"".concat(E.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),N(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var D=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({_id:t._id,customerName:t.name}),b({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),k(a.data),I(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),b({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),S(a.data),I(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(i.ModalHeader,null,"Select"," ",0==B?u.a.createElement(u.a.Fragment,null,"Customer"):1==B?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},u.a.createElement(d.d,{selectedIndex:B,onSelect:function(e){return I(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,u.a.createElement("form",{onSubmit:U},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:R}))))),u.a.createElement(i.TableBody,null,T.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return D(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Account"))),u.a.createElement(i.TableBody,null,w.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return J(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,{className:" w-full overflow-y-scroll"},u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Unit"))),u.a.createElement(i.TableBody,null,j.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return q(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(i.TableFooter,null))))),u.a.createElement(i.ModalFooter,null,u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",p.accountName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName),u.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){return a(!1)}},"Select"))))}},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),l=a(0),r=a.n(l),c=a(2),o=a(9),u=a.n(o),s=a(10),m=a(18);function i(e){var t=e.isModalOpen,a=e.setIsModalOpen,o=e.setEngineer,i=e.nextModal,d=Object(l.useState)([]),E=Object(n.a)(d,2),p=E[0],b=E[1];Object(l.useEffect)((function(){console.log("HERERRE"),u.a.post("".concat(s.API,"/admin/").concat(m.a.getId(),"/getAll")).then((function(e){console.log(e.data);var t=[];e.data.map((function(e){t.push(e)})),b(t)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Modal,{isOpen:t,onClose:function(){return a(!1)}},r.a.createElement(c.ModalHeader,null,"Assign Engineer"),r.a.createElement(c.ModalBody,null,r.a.createElement(c.TableContainer,null,r.a.createElement(c.Table,null,r.a.createElement(c.TableHeader,null,r.a.createElement("tr",null,r.a.createElement(c.TableCell,null,"Name"),r.a.createElement(c.TableCell,null,"Employee ID"))),r.a.createElement(c.TableBody,null,p.map((function(e,t){return r.a.createElement(c.TableRow,{key:t,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){o({_id:e._id,enggName:e.employeeName}),a(!1),i(!0)}},r.a.createElement(c.TableCell,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"font-semibold"},e.employeeName)))),r.a.createElement(c.TableCell,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"font-semibold"},e.employeeID)))))})))),r.a.createElement(c.TableFooter,null))),r.a.createElement(c.ModalFooter,null,r.a.createElement(c.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return a(!1)}},"Cancel"),r.a.createElement(c.Button,{className:"w-full sm:w-auto"},"Accept"))))}},247:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),l=a(0),r=a.n(l),c=a(2),o=a(9),u=a.n(o),s=a(10),m=a(18);function i(e){var t=e.isModalOpen,a=e.setIsModalOpen,o=e.setEmployee,i=Object(l.useState)([]),d=Object(n.a)(i,2),E=d[0],p=d[1];Object(l.useEffect)((function(){console.log("HERERRE"),u.a.post("".concat(s.API,"/admin/").concat(m.a.getId(),"/getAllEmpData")).then((function(e){console.log(e.data);var t=[];e.data.map((function(e){t.push(e)})),p(t)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Modal,{isOpen:t,onClose:function(){return a(!1)}},r.a.createElement(c.ModalHeader,null,"Select Employee"),r.a.createElement(c.ModalBody,null,r.a.createElement(c.TableContainer,null,r.a.createElement(c.Table,null,r.a.createElement(c.TableHeader,null,r.a.createElement("tr",null,r.a.createElement(c.TableCell,null,"Name"),r.a.createElement(c.TableCell,null,"Email"))),r.a.createElement(c.TableBody,null,E.map((function(e,t){return r.a.createElement(c.TableRow,{key:t,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){console.log(e),o(e),a(!1)}},r.a.createElement(c.TableCell,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"font-semibold"},e.employeeName)))),r.a.createElement(c.TableCell,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"font-semibold"},e.email)))))})))),r.a.createElement(c.TableFooter,null))),r.a.createElement(c.ModalFooter,null,r.a.createElement(c.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return a(!1)}},"Cancel"),r.a.createElement(c.Button,{className:"w-full sm:w-auto"},"Accept"))))}},373:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),u=a.n(o),s=a(2),m=a(9),i=a.n(m),d=a(10),E=a(18);function p(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.setEmployee,m=Object(o.useState)([]),p=Object(c.a)(m,2),b=p[0],f=p[1],v=Object(o.useState)(""),g=Object(c.a)(v,2),h=g[0],T=g[1];Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:h,limit:5},e.prev=1,e.next=4,i()({url:"".concat(d.API,"/admin/").concat(E.a.getId(),"/getAllEmpCalls"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),n=[],a.data.map((function(e){n.push(e)})),f(n),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(s.Modal,{isOpen:t},u.a.createElement(s.ModalHeader,null,"Select Employee"),u.a.createElement(s.ModalBody,null,u.a.createElement("div",null,u.a.createElement("form",{className:"mb-2",onSubmit:function(e){e.preventDefault()}},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:function(e){T(e.target.value)}})),u.a.createElement(s.TableContainer,{className:" max-h-64 overflow-scroll"},u.a.createElement(s.Table,null,u.a.createElement(s.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(s.TableCell,null,"Name"),u.a.createElement(s.TableCell,null,"Email"))),u.a.createElement(s.TableBody,null,b.map((function(e,t){return u.a.createElement(s.TableRow,{key:t,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){console.log(e),n(e),a(!1)}},u.a.createElement(s.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.employeeName)))),u.a.createElement(s.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.email)))))})))),u.a.createElement(s.TableFooter,null)))),u.a.createElement(s.ModalFooter,null,u.a.createElement(s.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){a(!1)}},"Cancel"),u.a.createElement(s.Button,{className:"w-full sm:w-auto"},"Accept"))))}}}]);
//# sourceMappingURL=4.4cd727b7.chunk.js.map