(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[17],{1201:function(e,a,t){"use strict";t.r(a);var l=t(5),n=t.n(l),c=t(12),r=t(3),o=t(0),s=t.n(o),u=t(20),m=t.n(u),i=t(9),d=t.n(i),E=t(18),p=t(2),b=(t(215),t(10)),f=(t(199),t(202),t(219),t(44)),g=t(43),N=(t(24),t(234),t(271)),v=t(37),O=t(207);a.default=function(){var e=Object(o.useState)(!1),a=Object(r.a)(e,2),t=(a[0],a[1],Object(o.useContext)(f.a)),l=(t.bbaropen,t.setBBarOpen),u=t.setAssetDetails,i=(t.assetdetails,Object(o.useState)(0)),x=Object(r.a)(i,2),h=x[0],T=(x[1],Object(o.useContext)(g.a)),C=(T.topheading,T.setTopHeading),y=Object(o.useState)(!1),j=Object(r.a)(y,2),S=j[0],w=j[1],k=Object(o.useState)(!1),A=Object(r.a)(k,2),M=(A[0],A[1],Object(o.useState)(1)),P=Object(r.a)(M,2),I=(P[0],P[1]),D=Object(o.useState)([]),B=Object(r.a)(D,2),Y=B[0],F=B[1],R=Object(o.useState)(!1),H=Object(r.a)(R,2),_=(H[0],H[1],Object(o.useState)(!1)),U=Object(r.a)(_,2),q=(U[0],U[1],Object(o.useState)(!1)),J=Object(r.a)(q,2),z=(J[0],J[1],Object(o.useState)(!0)),G=Object(r.a)(z,2),L=(G[0],G[1],Object(o.useState)(!0)),V=Object(r.a)(L,2),K=(V[0],V[1],Object(o.useState)(null)),Q=Object(r.a)(K,2),W=Q[0],X=Q[1],Z=Object(o.useState)(!1),$=Object(r.a)(Z,2),ee=$[0],ae=$[1],te=Object(o.useState)({}),le=Object(r.a)(te,2),ne=(le[0],le[1],Object(o.useState)("")),ce=Object(r.a)(ne,2),re=(ce[0],ce[1],Object(o.useState)("")),oe=Object(r.a)(re,2),se=(oe[0],oe[1],Object(o.useState)("")),ue=Object(r.a)(se,2),me=(ue[0],ue[1],Object(o.useState)("")),ie=Object(r.a)(me,2),de=(ie[0],ie[1],Object(o.useState)("")),Ee=Object(r.a)(de,2),pe=(Ee[0],Ee[1],Object(o.useState)(20)),be=Object(r.a)(pe,2),fe=be[0],ge=be[1];Object(o.useEffect)((function(){Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=16;break}return a={pages:{page:1,limit:1e5},filters:{callStatus:"",searchquery:"",fromDate:"",toDate:"",employeeId:W._id}},console.log("HERE",a),e.prev=3,e.next=6,d()({url:"".concat(b.API,"/call/").concat(E.a.getId(),"/getall"),method:"POST",data:a});case 6:t=e.sent,console.log(t.data.out),ge(t.data.total),F(t.data.out),F(t.data.out),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(3),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))()}),[W]);var Ne=function(){var e=Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="CallNo,Date,Time,Unit,Phone,Product,SerialNumber,Problem,CallStatus,AssignedTo,AssignedDate,ETA,Priority\n",Y.map((function(e,t){a+='"'.concat(e.callNo,'","').concat(m()(e.date).format("DD-MM-YYYY"),'","').concat(m()("2018-04-02".concat("T",e.time)).format("h:mm a"),'","').concat(e.unitName,'","').concat(e.phone,'","').concat(e.assetId.producttype,'","').concat(e.assetId.product.serialno,'","').concat(e.problem,'","').concat(Object(v.getCallStatusAsString)(e.callStatus),'","').concat(e.employeeName?e.employeeName:"Not Assigned",'","').concat(m()(e.assignedDate).format("DD-MM-YYYY"),'","').concat(e.assignedETA,'","').concat(t+1,'",\n')})),t=new Blob([a],{type:"text/csv;charset=utf-8;"}),Object(O.saveAs)(t,"CallsExport.csv");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(c.a)(n.a.mark((function e(){var a,t,l,c,r,o,s,u,i,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t={search:"",limit:1e6},e.prev=2,e.next=5,d()({url:"".concat(b.API,"/admin/").concat(E.a.getId(),"/getAllEmpCalls"),method:"POST",data:t});case 5:l=e.sent,console.log(l.data),l.data.map((function(e){a.push(e)})),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:c=[],r=0;case 15:if(!(r<a.length)){e.next=31;break}return o={pages:{page:1,limit:1e5},filters:{callStatus:"",searchquery:"",fromDate:"",toDate:"",employeeId:a[r]._id}},e.prev=17,e.next=20,d()({url:"".concat(b.API,"/call/").concat(E.a.getId(),"/getall"),method:"POST",data:o});case 20:s=e.sent,console.log(s.data.out),c.push(s.data.out),e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(17),e.t1;case 28:r++,e.next=15;break;case 31:for(u="CallNo,Date,Time,Unit,Phone,Product,SerialNumber,Problem,CallStatus,AssignedTo,AssignedDate,ETA,Priority,\n",i=0;i<c.length;i++)c[i][0]&&(u+="".concat(Object(v.capitalize)(c[i][0].employeeName),",\n")),c[i].map((function(e,a){u+='"'.concat(e.callNo,'","').concat(m()(e.date).format("DD-MM-YYYY"),'","').concat(m()("2018-04-02".concat("T",e.time)).format("h:mm a"),'","').concat(e.unitName,'","').concat(e.phone,'","').concat(e.assetId.producttype,'","').concat(e.assetId.product.serialno,'","').concat(e.problem,'","').concat(Object(v.getCallStatusAsString)(e.callStatus),'","').concat(e.employeeName?e.employeeName:"Not Assigned",'","').concat(m()(e.assignedDate).format("DD-MM-YYYY"),'","').concat(e.assignedETA,'","').concat(a+1,'",\n')}));p=new Blob([u],{type:"text/csv;charset=utf-8;"}),Object(O.saveAs)(p,"CallsExport.csv");case 35:case"end":return e.stop()}}),e,null,[[2,10],[17,25]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return function(){l(0),u({})}}),[]),Object(o.useEffect)((function(){return C("Engineer Call Priority"),function(){C("")}}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(N.a,{isModalOpen:ee,setIsModalOpen:ae,setEmployee:X}),s.a.createElement(s.a.Fragment,null,s.a.createElement(p.Modal,{isOpen:S,onClose:function(){return w(!1)},className:" sdark:bg-gray-800 p-5 my-6 mx-10 px-5  bg-gray-50 text-gray-900 dark:text-white text-center  rounded-lg "},s.a.createElement(p.ModalHeader,{className:"flex flex-row justify-between text-xl mx-10 px-10"},s.a.createElement("div",{className:"text-lg"},"Download Call Data?")),s.a.createElement(p.ModalBody,null,s.a.createElement(p.Button,{layout:"outline",onClick:function(){Ne()}},"Download Current Engineer")))),s.a.createElement(N.a,null),s.a.createElement("div",{className:"mb-64 mt-4"},s.a.createElement("div",{className:"flex flex-row items-center justify-start space-x-2"},s.a.createElement(p.Button,{layout:"outline",onClick:function(){return ae(!0)}},"Select Engineer"),s.a.createElement("div",{className:"mx-4"},s.a.createElement(p.Button,{className:"px-12 py-2",layout:"outline",onClick:function(){w(!0)}},"Export")),s.a.createElement("div",{className:"mx-4"},s.a.createElement(p.Button,{className:"px-12 py-2",layout:"outline",onClick:function(){ve()}},"Export All"))),s.a.createElement(p.TableContainer,{className:"mt-4"},s.a.createElement(p.Table,null,s.a.createElement(p.TableHeader,null,s.a.createElement(p.TableCell,null,"Call No"),s.a.createElement(p.TableCell,null,"Date"),s.a.createElement(p.TableCell,null,"Unit Name"),s.a.createElement(p.TableCell,null,"Product"),s.a.createElement(p.TableCell,null,"Problem"),s.a.createElement(p.TableCell,null,"Call Status"),s.a.createElement(p.TableCell,{className:"text-xs"},"Assig. Date"),s.a.createElement(p.TableCell,null,"Priority")),s.a.createElement(p.TableBody,null,W&&Y.map((function(e,a){return s.a.createElement(p.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(h==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:a,onClick:function(){}},s.a.createElement(p.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.callNo)))),s.a.createElement(p.TableCell,null,s.a.createElement("div",{className:"flex flex-col"},s.a.createElement("span",{className:"text-sm"},m()(e.date).format("DD/MM/YYYY")),s.a.createElement("span",{className:"text-sm"},m()("2018-04-02".concat("T",e.time)).format("h:mm a")))),s.a.createElement(p.TableCell,null,s.a.createElement("div",{className:"flex flex-col"},s.a.createElement("span",{className:"text-sm"},e.unitName),s.a.createElement("span",{className:"text-sm"},"Ph: ",e.phone))),s.a.createElement(p.TableCell,null,s.a.createElement("div",{className:"flex flex-col"},s.a.createElement("span",{className:"text-sm"},e.assetId.producttype),s.a.createElement("span",{className:"text-xs "},"SL:",e.assetId.product.serialno))),s.a.createElement(p.TableCell,{className:"flex flex-row "},s.a.createElement("div",{className:"flex items-center justify-center "},s.a.createElement("div",{className:"flex flex-col items-start overflow-auto text-sm w-40 "},s.a.createElement("span",{className:" "},e.problem),e.employeeId?s.a.createElement("span",null,"Engineer: ",e.employeeName):s.a.createElement("span",null,"Engineer Not Assigned")))),s.a.createElement(p.TableCell,{className:"text-xs  "},s.a.createElement("div",{className:" w-32 overflow-auto "},0==e.callStatus?s.a.createElement("span",{className:" "},"Pending For Allocation"):null,1==e.callStatus?s.a.createElement("span",{className:""},"Pending for Percall Approval"):null,2==e.callStatus?s.a.createElement("span",{className:""},"Pending for Response"):null,3==e.callStatus?s.a.createElement("span",{className:""},"Pending for OEM Response"):null,4==e.callStatus?s.a.createElement("span",{className:""},"Pending for 2nd Response"):null,5==e.callStatus?s.a.createElement("span",{className:""},"Pending for Customer"):null,6==e.callStatus?s.a.createElement("span",{className:""},"Under Observation"):null,7==e.callStatus?s.a.createElement("span",{className:""},"Pending for Others"):null,8==e.callStatus?s.a.createElement("span",{className:""},"Pending for Spare"):null,9==e.callStatus?s.a.createElement("span",{className:""},"Spare in Transit"):null,10==e.callStatus?s.a.createElement("span",{className:""},"Cancelled Calls"):null,11==e.callStatus?s.a.createElement("span",{className:""},"Closed Calls"):null,12==e.callStatus?s.a.createElement("span",{className:""},"Spare Taken CMRR"):null,13==e.callStatus?s.a.createElement("span",{className:" "},"Pending For Spare Collection"):null,14==e.callStatus?s.a.createElement("span",{className:""},"Standby Given"):null,15==e.callStatus?s.a.createElement(p.Badge,null,"Pending For Verification"):null)),s.a.createElement(p.TableCell,null,s.a.createElement("div",{className:"flex flex-col"},s.a.createElement("span",{className:"text-sm"},m()(e.assignedDate).format("DD-MM-YYYY")),s.a.createElement("span",{className:"text-xs"}," ","Time: ",e.assignedETA))),s.a.createElement(p.TableCell,null,a+1))})))),s.a.createElement(p.TableFooter,null,s.a.createElement(p.Pagination,{totalResults:fe,resultsPerPage:100,label:"Table navigation",onChange:function(e){I(e)}})))))}},199:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var l=t(5),n=t.n(l),c=t(12),r=t(3),o=t(0),s=t.n(o),u=t(9),m=t.n(u),i=t(2),d=t(196),E=(t(198),t(10));function p(e){var a=e.isModalOpen,t=e.setIsModalOpen,l=e.unit,u=e.setUnit,p=e.account,b=e.setAccount,f=e.customer,g=e.setCustomer,N=e.setRefresh,v=Object(o.useState)([]),O=Object(r.a)(v,2),x=O[0],h=O[1],T=Object(o.useState)([]),C=Object(r.a)(T,2),y=C[0],j=C[1],S=Object(o.useState)([]),w=Object(r.a)(S,2),k=w[0],A=w[1],M=Object(o.useState)(0),P=Object(r.a)(M,2),I=P[0],D=P[1],B=Object(o.useState)(""),Y=Object(r.a)(B,2),F=Y[0],R=Y[1],H=function(e){R(e.target.value)},_=function(){var e=Object(c.a)(n.a.mark((function e(a){var t,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={search:F,role:1},e.prev=2,e.next=5,m()({url:"".concat(E.API,"/customer/customers"),method:"POST",data:t});case 5:l=e.sent,console.log(l.data),h(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={search:F,role:1},e.prev=1,e.next=4,m()({url:"".concat(E.API,"/customer/customers"),method:"POST",data:a});case 4:t=e.sent,console.log(t.data),h(t.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var U=function(){var e=Object(c.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({_id:a._id,customerName:a.name}),b({_id:"",accountName:""}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.API,"/customer/accounts"),{customerId:a._id});case 6:t=e.sent,console.log(t.data),j(t.data),D(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),b({_id:a._id,accountName:a.name}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(E.API,"/customer/units"),{accountId:a._id});case 6:t=e.sent,console.log(t.data),A(t.data),D(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),u({_id:a._id,unitName:a.unitName});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Modal,{isOpen:a,onClose:function(){return t(!1)}},s.a.createElement(i.ModalHeader,null,"Select"," ",0==I?s.a.createElement(s.a.Fragment,null,"Customer"):1==I?s.a.createElement(s.a.Fragment,null,"Account"):s.a.createElement(s.a.Fragment,null,"Unit")),s.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},s.a.createElement(d.d,{selectedIndex:I,onSelect:function(e){return D(e)}},s.a.createElement(d.b,null,s.a.createElement(d.a,null,"Customer"),s.a.createElement(d.a,null,"Account"),s.a.createElement(d.a,null,"Unit")),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Customer")),s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,s.a.createElement("form",{onSubmit:_},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:H}))))),s.a.createElement(i.TableBody,null,x.map((function(e,a){return s.a.createElement(i.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Account"))),s.a.createElement(i.TableBody,null,y.map((function(e,a){return s.a.createElement(i.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return q(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,{className:" w-full overflow-y-scroll"},s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Unit"))),s.a.createElement(i.TableBody,null,k.map((function(e,a){return s.a.createElement(i.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return J(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),s.a.createElement(i.TableFooter,null))))),s.a.createElement(i.ModalFooter,null,s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",p.accountName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",l.unitName),s.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){t(!1),N(!0)}},"Select"))))}},219:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var l=t(3),n=t(0),c=t.n(n),r=t(2),o=t(9),s=t.n(o),u=t(10),m=t(18);function i(e){var a=e.isModalOpen,t=e.setIsModalOpen,o=e.setEngineer,i=e.nextModal,d=Object(n.useState)([]),E=Object(l.a)(d,2),p=E[0],b=E[1];Object(n.useEffect)((function(){console.log("HERERRE"),s.a.post("".concat(u.API,"/admin/").concat(m.a.getId(),"/getAll")).then((function(e){console.log(e.data);var a=[];e.data.map((function(e){a.push(e)})),b(a)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.Modal,{isOpen:a,onClose:function(){return t(!1)}},c.a.createElement(r.ModalHeader,null,"Assign Engineer"),c.a.createElement(r.ModalBody,null,c.a.createElement(r.TableContainer,null,c.a.createElement(r.Table,null,c.a.createElement(r.TableHeader,null,c.a.createElement("tr",null,c.a.createElement(r.TableCell,null,"Name"),c.a.createElement(r.TableCell,null,"Employee ID"))),c.a.createElement(r.TableBody,null,p.map((function(e,a){return c.a.createElement(r.TableRow,{key:a,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){o({_id:e._id,enggName:e.employeeName}),t(!1),i(!0)}},c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.employeeName)))),c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.employeeID)))))})))),c.a.createElement(r.TableFooter,null))),c.a.createElement(r.ModalFooter,null,c.a.createElement(r.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return t(!1)}},"Cancel"),c.a.createElement(r.Button,{className:"w-full sm:w-auto"},"Accept"))))}},234:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var l=t(3),n=t(0),c=t.n(n),r=t(2),o=t(9),s=t.n(o),u=t(10),m=t(18);function i(e){var a=e.isModalOpen,t=e.setIsModalOpen,o=e.setEmployee,i=Object(n.useState)([]),d=Object(l.a)(i,2),E=d[0],p=d[1];Object(n.useEffect)((function(){console.log("HERERRE"),s.a.post("".concat(u.API,"/admin/").concat(m.a.getId(),"/getAllEmpData")).then((function(e){console.log(e.data);var a=[];e.data.map((function(e){a.push(e)})),p(a)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.Modal,{isOpen:a,onClose:function(){return t(!1)}},c.a.createElement(r.ModalHeader,null,"Select Employee"),c.a.createElement(r.ModalBody,null,c.a.createElement(r.TableContainer,null,c.a.createElement(r.Table,null,c.a.createElement(r.TableHeader,null,c.a.createElement("tr",null,c.a.createElement(r.TableCell,null,"Name"),c.a.createElement(r.TableCell,null,"Email"))),c.a.createElement(r.TableBody,null,E.map((function(e,a){return c.a.createElement(r.TableRow,{key:a,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){console.log(e),o(e),t(!1)}},c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.employeeName)))),c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.email)))))})))),c.a.createElement(r.TableFooter,null))),c.a.createElement(r.ModalFooter,null,c.a.createElement(r.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return t(!1)}},"Cancel"),c.a.createElement(r.Button,{className:"w-full sm:w-auto"},"Accept"))))}},271:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var l=t(5),n=t.n(l),c=t(12),r=t(3),o=t(0),s=t.n(o),u=t(2),m=t(9),i=t.n(m),d=t(10),E=t(18);function p(e){var a=e.isModalOpen,t=e.setIsModalOpen,l=e.setEmployee,m=Object(o.useState)([]),p=Object(r.a)(m,2),b=p[0],f=p[1],g=Object(o.useState)(""),N=Object(r.a)(g,2),v=N[0],O=N[1];Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(n.a.mark((function e(){var a,t,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={search:v,limit:5},e.prev=1,e.next=4,i()({url:"".concat(d.API,"/admin/").concat(E.a.getId(),"/getAllEmpCalls"),method:"POST",data:a});case 4:t=e.sent,console.log(t.data),l=[],t.data.map((function(e){l.push(e)})),f(l),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.Modal,{isOpen:a},s.a.createElement(u.ModalHeader,null,"Select Employee"),s.a.createElement(u.ModalBody,null,s.a.createElement("div",null,s.a.createElement("form",{className:"mb-2",onSubmit:function(e){e.preventDefault()}},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:function(e){O(e.target.value)}})),s.a.createElement(u.TableContainer,{className:" max-h-64 overflow-scroll"},s.a.createElement(u.Table,null,s.a.createElement(u.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(u.TableCell,null,"Name"),s.a.createElement(u.TableCell,null,"Email"))),s.a.createElement(u.TableBody,null,b.map((function(e,a){return s.a.createElement(u.TableRow,{key:a,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){console.log(e),l(e),t(!1)}},s.a.createElement(u.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.employeeName)))),s.a.createElement(u.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.email)))))})))),s.a.createElement(u.TableFooter,null)))),s.a.createElement(u.ModalFooter,null,s.a.createElement(u.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){t(!1)}},"Cancel"),s.a.createElement(u.Button,{className:"w-full sm:w-auto"},"Accept"))))}}}]);
//# sourceMappingURL=17.9749b1e9.chunk.js.map