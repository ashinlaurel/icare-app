(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[41],{1220:function(e,a,t){"use strict";t.r(a);var l=t(5),n=t.n(l),c=t(12),r=t(19),s=t(6),o=t(3),u=t(0),m=t.n(u),i=t(9),d=t.n(i),f=t(10),E=t(18),p=(t(191),t(193),t(2)),b=(t(24),t(201),t(196),t(43)),N=(t(205),t(206),t(7));a.default=function(){Object(N.g)();var e=Object(u.useState)(0),a=Object(o.a)(e,2),t=(a[0],a[1],Object(u.useState)("Male")),l=Object(o.a)(t,2),i=(l[0],l[1],Object(u.useState)("")),h=Object(o.a)(i,2),v=(h[0],h[1],Object(u.useState)("All")),w=Object(o.a)(v,2),x=(w[0],w[1],Object(u.useState)(!1)),C=Object(o.a)(x,2),g=C[0],O=C[1],k=Object(u.useState)(!1),j=Object(o.a)(k,2),S=(j[0],j[1],Object(u.useState)(!1)),y=Object(o.a)(S,2),I=y[0],T=y[1],A=Object(u.useContext)(b.a).setTopHeading,P=Object(u.useState)({name:"",aadharNo:"",PANNo:"",GSTNo:"",address:"",district:"Trivandrum",state:"Kerala",PIN:"",phno1:"",phno2:"",contactPerson:"",bankName:"",bankAcNo:"",bankAcName:"",branch:"",IFSCCode:"",creditDays:"",email:""}),M=Object(o.a)(P,2),F=M[0],L=M[1];Object(u.useEffect)((function(){return A("Add Vendor"),function(){A("")}}),[]);var B=function(e){return function(a){L(Object(s.a)(Object(s.a)({},F),{},Object(r.a)({},e,a.target.value)))}},_=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==F.name){e.next=4;break}return T(!0),console.log("missing inputs"),e.abrupt("return");case 4:return e.next=6,d()({url:"".concat(f.API,"/vendor/").concat(E.a.getId(),"/create"),method:"POST",data:F}).then((function(e){console.log("Added",e._id),O(!0),L({name:"",aadharNo:"",PANNo:"",GSTNo:"",address:"",district:"",state:"",PIN:"",phno1:"",phno2:"",contactPerson:"",bankName:"",bankAcNo:"",bankAcName:"",branch:"",IFSCCode:"",creditDays:"",email:""})})).catch((function(e){console.log("err",e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"px-4 py-3 mt-4 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},m.a.createElement(p.Label,{className:"font-bold"},m.a.createElement("span",null,"Add Vendor")),m.a.createElement("hr",{className:"mb-5 mt-2"}),m.a.createElement("div",{className:"flex-row flex space-x-3 mt-3 mb-2"},m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Name*"),m.a.createElement(p.Input,{className:"mt-1",value:F.name,onChange:B("name")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Contact Person"),m.a.createElement(p.Input,{className:"mt-1",value:F.contactPerson,onChange:B("contactPerson")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Email"),m.a.createElement(p.Input,{className:"mt-1",value:F.email,onChange:B("email")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"GST Number"),m.a.createElement(p.Input,{className:"mt-1",value:F.GSTNo,onChange:B("GSTNo")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"PAN Number"),m.a.createElement(p.Input,{className:"mt-1",value:F.PANNo,onChange:B("PANNo")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Aadhar Number"),m.a.createElement(p.Input,{className:"mt-1",value:F.aadharNo,onChange:B("aadharNo")}))," ")),m.a.createElement("div",{className:"flex-row flex space-x-3 mt-3 mb-2"},m.a.createElement("div",{className:"flex flex-col w-full "},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Address"),m.a.createElement(p.Input,{className:"mt-1",value:F.address,onChange:B("address")}))," "),m.a.createElement("div",{className:"flex flex-col w-full "},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"PIN Code"),m.a.createElement(p.Input,{className:"mt-1",value:F.PIN,onChange:B("PIN")}))," ")),m.a.createElement("div",{className:"flex-row flex space-x-3 mt-3 mb-2"},m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"District"),m.a.createElement(p.Input,{className:"mt-1",value:F.district,onChange:B("district")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"State"),m.a.createElement(p.Input,{className:"mt-1",type:"text",value:F.state,onChange:B("state")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Phone Number 1"),m.a.createElement(p.Input,{className:"mt-1",value:F.phno1,onChange:B("phno1")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Phone Number 2"),m.a.createElement(p.Input,{className:"mt-1",value:F.phno2,onChange:B("phno2")})))),m.a.createElement("div",{className:"flex-row flex space-x-3 mt-3 mb-2"},m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Bank Name"),m.a.createElement(p.Input,{className:"mt-1",value:F.bankName,onChange:B("bankName")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Acc Name"),m.a.createElement(p.Input,{className:"mt-1",type:"text",value:F.bankAcName,onChange:B("bankAcName")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Acc No."),m.a.createElement(p.Input,{className:"mt-1",value:F.bankAcNo,onChange:B("bankAcNo")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Branch"),m.a.createElement(p.Input,{className:"mt-1",value:F.branch,onChange:B("branch")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"IFSC Code"),m.a.createElement(p.Input,{className:"mt-1",value:F.IFSCCode,onChange:B("IFSCCode")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(p.Label,{className:"w-full"},m.a.createElement("span",null,"Credit Days"),m.a.createElement(p.Input,{className:"mt-1",value:F.creditDays,onChange:B("creditDays")})))),m.a.createElement(p.Button,{onClick:_,"aria-label":"Notifications","aria-haspopup":"true",className:"mt-4"},"Add Vendor")),m.a.createElement(m.a.Fragment,null,m.a.createElement(p.Modal,{isOpen:g,onClose:function(){return O(!1)}},m.a.createElement(p.ModalHeader,null,"Vendor Created Successfully!"),m.a.createElement(p.ModalBody,null),m.a.createElement(p.ModalFooter,null,m.a.createElement(p.Button,{className:"w-full sm:w-auto",onClick:function(){return O(!1)}},"Okay!")))),m.a.createElement(m.a.Fragment,null,m.a.createElement(p.Modal,{isOpen:I,onClose:function(){return T(!1)}},m.a.createElement(p.ModalHeader,null,"Required fields are not filled!"),m.a.createElement(p.ModalBody,null),m.a.createElement(p.ModalFooter,null,m.a.createElement(p.Button,{className:"w-full sm:w-auto",onClick:function(){return T(!1)}},"Okay!")))))}},201:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var l=t(5),n=t.n(l),c=t(12),r=t(3),s=t(0),o=t.n(s),u=t(9),m=t.n(u),i=t(2),d=t(196),f=(t(198),t(10));function E(e){var a=e.isModalOpen,t=e.setIsModalOpen,l=(e.customer,e.setCustomer),u=Object(s.useState)([]),E=Object(r.a)(u,2),p=E[0],b=E[1],N=Object(s.useState)(0),h=Object(r.a)(N,2),v=h[0],w=h[1],x=Object(s.useState)(""),C=Object(r.a)(x,2),g=C[0],O=C[1],k=Object(s.useState)(""),j=Object(r.a)(k,2),S=(j[0],j[1],function(e){O(e.target.value)}),y=function(){var e=Object(c.a)(n.a.mark((function e(a){var t,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={search:g,role:1},e.prev=2,e.next=5,m()({url:"".concat(f.API,"/customer/customers"),method:"POST",data:t});case 5:l=e.sent,console.log(l.data),b(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){!function(){var e=Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={search:g,role:1},e.prev=1,e.next=4,m()({url:"".concat(f.API,"/customer/customers"),method:"POST",data:a});case 4:t=e.sent,console.log(t.data),b(t.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var I=function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({_id:a._id,customerName:a.name}),t(!1);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Modal,{isOpen:a,onClose:function(){return t(!1)}},o.a.createElement(i.ModalHeader,null,"Select Customer"),o.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},o.a.createElement(d.d,{selectedIndex:v,onSelect:function(e){return w(e)}},o.a.createElement(d.b,null,o.a.createElement(d.a,null,"Customer")),o.a.createElement(d.c,null,o.a.createElement(i.TableContainer,null,o.a.createElement(i.Table,null,o.a.createElement(i.TableHeader,null,o.a.createElement("tr",null,o.a.createElement(i.TableCell,null,"Customer")),o.a.createElement("tr",null,o.a.createElement(i.TableCell,null,o.a.createElement("form",{onSubmit:y},o.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:S}))))),o.a.createElement(i.TableBody,null,p.map((function(e,a){return o.a.createElement(i.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return I(e)}},o.a.createElement(i.TableCell,null,o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{className:"font-semibold"},e.name)))))})))),o.a.createElement(i.TableFooter,null))))),o.a.createElement(i.ModalFooter,null,o.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){t(!1)}},"Select"))))}},205:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var l=t(9),n=t.n(l),c=t(10),r=t(18),s=function(e){return n.a.post("".concat(c.API,"/unit/").concat(r.a.getId(),"/create"),e).then((function(e){return console.log("h",e.data),e.data})).catch((function(e){if(console.log("ERRRROs"),e.response)throw console.log(e.response.data),console.log(e.response.status),e.response.data.errors}))}},206:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var l=t(5),n=t.n(l),c=t(12),r=t(3),s=t(0),o=t.n(s),u=t(9),m=t.n(u),i=t(2),d=t(196),f=(t(198),t(10));function E(e){var a=e.isModalOpen,t=e.setIsModalOpen,l=e.account,u=e.setAccount,E=e.customer,p=e.setCustomer,b=Object(s.useState)([]),N=Object(r.a)(b,2),h=N[0],v=N[1],w=Object(s.useState)([]),x=Object(r.a)(w,2),C=x[0],g=x[1],O=Object(s.useState)(0),k=Object(r.a)(O,2),j=k[0],S=k[1],y=Object(s.useState)(""),I=Object(r.a)(y,2),T=I[0],A=I[1],P=function(e){A(e.target.value)},M=function(){var e=Object(c.a)(n.a.mark((function e(a){var t,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={search:T,role:1},e.prev=2,e.next=5,m()({url:"".concat(f.API,"/customer/customers"),method:"POST",data:t});case 5:l=e.sent,console.log(l.data),v(l.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){!function(){var e=Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={search:T,role:1},e.prev=1,e.next=4,m()({url:"".concat(f.API,"/customer/customers"),method:"POST",data:a});case 4:t=e.sent,console.log(t.data),v(t.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var F=function(){var e=Object(c.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({_id:a._id,customerName:a.name}),u({_id:"",accountName:""}),e.prev=2,e.next=5,m.a.post("".concat(f.API,"/customer/accounts"),{customerId:a._id});case 5:t=e.sent,console.log(t.data),g(t.data),S(1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),u({_id:a._id,accountName:a.name});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Modal,{isOpen:a,onClose:function(){return t(!1)}},o.a.createElement(i.ModalHeader,null,"Select ",0==j?o.a.createElement(o.a.Fragment,null,"Customer"):o.a.createElement(o.a.Fragment,null,"Account")),o.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},o.a.createElement(d.d,{selectedIndex:j,onSelect:function(e){return S(e)}},o.a.createElement(d.b,null,o.a.createElement(d.a,null,"Customer"),o.a.createElement(d.a,null,"Account")),o.a.createElement(d.c,null,o.a.createElement(i.TableContainer,null,o.a.createElement(i.Table,null,o.a.createElement(i.TableHeader,null,o.a.createElement("tr",null,o.a.createElement(i.TableCell,null,"Customer")),o.a.createElement("tr",null,o.a.createElement(i.TableCell,null,o.a.createElement("form",{onSubmit:M},o.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:P}))))),o.a.createElement(i.TableBody,null,h.map((function(e,a){return o.a.createElement(i.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return F(e)}},o.a.createElement(i.TableCell,null,o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{className:"font-semibold"},e.name)))))})))),o.a.createElement(i.TableFooter,null))),o.a.createElement(d.c,null,o.a.createElement(i.TableContainer,null,o.a.createElement(i.Table,null,o.a.createElement(i.TableHeader,null,o.a.createElement("tr",null,o.a.createElement(i.TableCell,null,"Account"))),o.a.createElement(i.TableBody,null,C.map((function(e,a){return o.a.createElement(i.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return L(e)}},o.a.createElement(i.TableCell,null,o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{className:"font-semibold"},e.name)))))})))),o.a.createElement(i.TableFooter,null))))),o.a.createElement(i.ModalFooter,null,o.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",E.customerName),o.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",l.accountName),o.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){t(!1),g([])}},"Select"))))}}}]);
//# sourceMappingURL=41.1a8902b8.chunk.js.map