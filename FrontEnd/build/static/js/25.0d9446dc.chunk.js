(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[25],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(3),l=a.n(n),c=a(10),r=a(2),o=a(0),u=a.n(o),s=a(7),m=a.n(s),i=a(1),d=a(91),p=(a(87),a(8));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,s=e.setUnit,b=e.account,E=e.setAccount,f=e.customer,g=e.setCustomer,v=Object(o.useState)([]),h=Object(r.a)(v,2),x=h[0],O=h[1],N=Object(o.useState)([]),w=Object(r.a)(N,2),y=w[0],j=w[1],T=Object(o.useState)([]),C=Object(r.a)(T,2),S=C[0],k=C[1],_=Object(o.useState)(0),A=Object(r.a)(_,2),M=A[0],B=A[1],I=Object(o.useState)(""),F=Object(r.a)(I,2),P=F[0],R=F[1],H=function(e){R(e.target.value)},D=function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:P,role:1},e.prev=2,e.next=5,m()({url:"".concat(p.a,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),O(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:P,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),O(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var U=function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.a,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),j(a.data),B(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.a,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),k(a.data),B(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(i.ModalHeader,null,"Select"," ",0==M?u.a.createElement(u.a.Fragment,null,"Customer"):1==M?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(i.ModalBody,null,u.a.createElement(d.d,{selectedIndex:M,onSelect:function(e){return B(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,u.a.createElement("form",{onSubmit:D},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:H}))))),u.a.createElement(i.TableBody,null,x.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return U(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Account"))),u.a.createElement(i.TableBody,null,y.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return z(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Unit"))),u.a.createElement(i.TableBody,null,S.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return L(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(i.TableFooter,null)))),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName)),u.a.createElement(i.ModalFooter,null,u.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){return a(!1)}},"Select"))))}},1068:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a.n(n),c=a(10),r=a(2),o=a(0),u=a.n(o),s=a(18),m=a.n(s),i=a(7),d=a.n(i),p=a(15),b=(a(86),a(28)),E=a(1),f=(a(113),a(8)),g=(a(102),a(93),a(120)),v=a(30),h=a(29);a(19);t.default=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(o.useContext)(v.a),i=(s.bbaropen,s.setBBarOpen),x=s.setAssetDetails,O=(s.assetdetails,Object(o.useState)(0)),N=Object(r.a)(O,2),w=N[0],y=N[1],j=Object(o.useContext)(h.a),T=(j.topheading,j.setTopHeading),C=Object(o.useState)(!1),S=Object(r.a)(C,2),k=(S[0],S[1],Object(o.useState)(1)),_=Object(r.a)(k,2),A=_[0],M=_[1],B=Object(o.useState)([]),I=Object(r.a)(B,2),F=I[0],P=I[1],R=Object(o.useState)(!1),H=Object(r.a)(R,2),D=(H[0],H[1],Object(o.useState)(!1)),U=Object(r.a)(D,2),z=(U[0],U[1],Object(o.useState)(!1)),L=Object(r.a)(z,2),K=(L[0],L[1],Object(o.useState)(!0)),Y=Object(r.a)(K,2),G=Y[0],J=Y[1],$=Object(o.useState)(!0),q=Object(r.a)($,2),Q=(q[0],q[1],Object(o.useState)("")),V=Object(r.a)(Q,2),W=V[0],X=V[1],Z=Object(o.useState)(""),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(""),le=Object(r.a)(ne,2),ce=le[0],re=le[1],oe=Object(o.useState)(""),ue=Object(r.a)(oe,2),se=ue[0],me=(ue[1],Object(o.useState)("")),ie=Object(r.a)(me,2),de=ie[0],pe=(ie[1],Object(o.useState)({_id:"",unitName:""})),be=Object(r.a)(pe,2),Ee=be[0],fe=(be[1],Object(o.useState)({_id:"",customerName:""})),ge=Object(r.a)(fe,2),ve=ge[0],he=(ge[1],Object(o.useState)({_id:"",accountName:""})),xe=Object(r.a)(he,2),Oe=xe[0],Ne=(xe[1],Object(o.useState)({_id:"",enggName:""})),we=Object(r.a)(Ne,2),ye=we[0],je=we[1],Te=Object(o.useState)(!1),Ce=Object(r.a)(Te,2),Se=Ce[0],ke=Ce[1],_e=Object(o.useState)({}),Ae=Object(r.a)(_e,2),Me=Ae[0],Be=Ae[1],Ie=Object(o.useState)(""),Fe=Object(r.a)(Ie,2),Pe=Fe[0],Re=(Fe[1],Object(o.useState)("")),He=Object(r.a)(Re,2),De=(He[0],He[1],Object(o.useState)("")),Ue=Object(r.a)(De,2),ze=Ue[0],Le=Ue[1],Ke=Object(o.useState)(""),Ye=Object(r.a)(Ke,2),Ge=Ye[0],Je=Ye[1],$e=Object(o.useState)(""),qe=Object(r.a)($e,2),Qe=qe[0],Ve=qe[1],We=Object(o.useState)(20),Xe=Object(r.a)(We,2),Ze=Xe[0],et=Xe[1],tt=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.Modal,{isOpen:a,onClose:function(){return n(!1)}},u.a.createElement(E.ModalHeader,null,"Confirm Assignment"),u.a.createElement(E.ModalBody,null,u.a.createElement("div",{className:"font-xl text-xl"},"Assign ",ye.enggName," to call ",Me.callNo),u.a.createElement("div",{className:"flex flex-col w-full mt-2"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Assign Date"),u.a.createElement(E.Input,{className:"",type:"date",value:Ge,onChange:function(e){Je(e.target.value)}}))),u.a.createElement("div",{className:"flex flex-col w-full"},u.a.createElement(E.Label,{className:"w-full"},u.a.createElement("span",null,"Assign ETA"),u.a.createElement(E.Input,{className:"",type:"time",value:Qe,onChange:function(e){Ve(e.target.value)}})))),u.a.createElement(E.ModalFooter,null,u.a.createElement(E.Button,{className:"w-full sm:w-auto",onClick:Object(c.a)(l.a.mark((function e(){var t,a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(Me),""!=Ge&&""!=Qe){e.next=3;break}return e.abrupt("return");case 3:return t={date:m()().format(),callStatus:"2",engineer:ye.enggName,callAttendDate:"Nil",startOfService:"Nil",endOfService:"Nil",note:"".concat(ye.enggName," has been assigned to the call. Assigned Date: ").concat(Ge," Assigned ETA: ").concat(Qe),actionTaken:"Nil"},a={id:Me._id,update:{employeeId:ye._id,employeeName:ye.enggName,callStatus:2,assignedDate:Ge,assignedETA:Qe,$push:{history:t}}},c={id:ye._id,update:{$push:{assignedCalls:{priority:99,callId:Me._id,date:new Date}}}},e.prev=6,e.next=9,d()({url:"".concat(f.a,"/call/").concat(p.a.getId(),"/assignEngg"),method:"POST",data:a});case 9:return e.sent,r=F,console.log(r),r=r.filter((function(e){if(e._id===Me._id)return e.callStatus=2,e.employeeName=ye.enggName,e.employeeId=ye._id,e;P(r)})),e.next=15,d()({url:"".concat(f.a,"/admin/").concat(p.a.getId(),"/update"),method:"POST",data:c});case 15:n(!1),Je(""),Ve(""),e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(6),e.t0;case 23:case"end":return e.stop()}}),e,null,[[6,20]])})))},"Confirm Assignment"))))};return Object(o.useEffect)((function(){return function(){i(0),x({})}}),[]),Object(o.useEffect)((function(){return T("Assign Engineer"),function(){T("")}}),[]),Object(o.useEffect)((function(){!function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pages:{page:A,limit:10},filters:{business:se,producttype:de,customer:ve,account:Oe,unitId:Ee._id,customerId:ve._id,accountId:Oe._id,searchtype:Pe,searchquery:ze}},e.prev=1,e.next=4,d()({url:"".concat(f.a,"/call/").concat(p.a.getId(),"/getall"),method:"POST",data:t});case 4:a=e.sent,et(a.data.total),P(a.data.out),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[A,se,de,G]),u.a.createElement(u.a.Fragment,null,u.a.createElement(g.a,{isModalOpen:Se,setIsModalOpen:ke,setEngineer:je,nextModal:n}),u.a.createElement(tt,null),u.a.createElement("div",{className:"mb-64 mt-4"},u.a.createElement("div",{className:""},u.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 "},u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:W,onChange:function(e){X(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Call Status"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Mouse"},"Pending For Allocation"),u.a.createElement("option",{value:"Keyboard"},"Allocated")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:te,onChange:function(e){ae(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Location"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Trivandrum"},"Trivandrum"),u.a.createElement("option",{value:"Kottayam"},"Kottayam"),u.a.createElement("option",{value:"Kozhikode"},"Kozhikode")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-1 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:ce,onChange:function(e){re(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Condition"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"Good"},"Good"),u.a.createElement("option",{value:"Bad"},"Bad")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"block relative xl:ml-64"},u.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},u.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},u.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),J(!G)}},u.a.createElement("input",{value:ze,onChange:function(e){return Le(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),u.a.createElement(E.TableContainer,{className:"mt-4"},u.a.createElement(E.Table,null,u.a.createElement(E.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(E.TableCell,null,"Call No"),u.a.createElement(E.TableCell,null,"Date"),u.a.createElement(E.TableCell,null,"Unit Name"),u.a.createElement(E.TableCell,null,"Phone"),u.a.createElement(E.TableCell,null,"Call Status"),u.a.createElement(E.TableCell,null,"Assigned Employee"))),u.a.createElement(E.TableBody,null,F.map((function(e,t){return u.a.createElement(E.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(w==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){y(e._id),i(1),Be(e),e.assetId?x(e.assetId):x({}),console.log(e.assetId)}},u.a.createElement(E.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.callNo)))),u.a.createElement(E.TableCell,null,u.a.createElement("span",{className:"text-sm"},m()(e.date).format("DD/MM/YYYY"))),u.a.createElement(E.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.unitName)),u.a.createElement(E.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.phone)),u.a.createElement(E.TableCell,null,0==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Not Allocated"):null,1==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for Percall Approval"):null,2==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for Response"):null,3==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for OEM Response"):null,4==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for 2nd Response"):null,5==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for Customer"):null,6==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Under Observation"):null,7==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for Others"):null,8==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Pending for Spare"):null,9==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Spare in Transit"):null,10==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Cancelled Calls"):null,11==e.callStatus?u.a.createElement("span",{className:"text-sm"},"Closed Calls"):null),u.a.createElement(E.TableCell,null,e.employeeId?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"px-4 py-2 dark:border-purple-400 border-purple-600 dark:bg-gray-700 bg-purple-100 inline-block rounded-lg dark:text-purple-400 text-purple-700"},e.employeeName,u.a.createElement(E.Button,{layout:"link",size:"icon","aria-label":"Edit",onClick:function(){ke(!0),Ve(e.assignedETA),Je(e.assignedDate)},className:"rounded-full mx-2 "},u.a.createElement(b.EditIcon,{className:"w-5 h-5","aria-hidden":"true"})))):u.a.createElement(E.Button,{onClick:function(){return ke(!0)}},"Assign Now")))})))),u.a.createElement(E.TableFooter,null,u.a.createElement(E.Pagination,{totalResults:Ze,resultsPerPage:10,label:"Table navigation",onChange:function(e){M(e)}})))))}},120:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2),l=a(0),c=a.n(l),r=a(1),o=a(7),u=a.n(o),s=a(8),m=a(15);function i(e){var t=e.isModalOpen,a=e.setIsModalOpen,o=e.setEngineer,i=e.nextModal,d=Object(l.useState)([]),p=Object(n.a)(d,2),b=p[0],E=p[1];Object(l.useEffect)((function(){console.log("HERERRE"),u.a.post("".concat(s.a,"/admin/").concat(m.a.getId(),"/getAll")).then((function(e){console.log(e.data);var t=[];e.data.map((function(e){t.push(e)})),E(t)})).catch((function(e){console.log("axiosErr",e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.Modal,{isOpen:t,onClose:function(){return a(!1)}},c.a.createElement(r.ModalHeader,null,"Assign Engineer"),c.a.createElement(r.ModalBody,null,c.a.createElement(r.TableContainer,null,c.a.createElement(r.Table,null,c.a.createElement(r.TableHeader,null,c.a.createElement("tr",null,c.a.createElement(r.TableCell,null,"Name"),c.a.createElement(r.TableCell,null,"Email"))),c.a.createElement(r.TableBody,null,b.map((function(e,t){return c.a.createElement(r.TableRow,{key:t,className:"hover:bg-blue-300 dark:hover:bg-gray-100 bg-opacity-25 ",onClick:function(){o({_id:e._id,enggName:e.employeeName}),a(!1),i(!0)}},c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.employeeName)))),c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.email)))))})))),c.a.createElement(r.TableFooter,null))),c.a.createElement(r.ModalFooter,null,c.a.createElement(r.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return a(!1)}},"Cancel"),c.a.createElement(r.Button,{className:"w-full sm:w-auto"},"Accept"))))}},87:function(e,t,a){},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(3),l=a.n(n),c=a(10),r=a(2),o=a(0),u=a.n(o),s=a(7),m=a.n(s),i=a(1),d=a(91),p=(a(87),a(8));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,s=e.setUnit,b=e.account,E=e.setAccount,f=e.customer,g=e.setCustomer,v=e.refresh,h=e.setRefresh,x=Object(o.useState)([]),O=Object(r.a)(x,2),N=O[0],w=O[1],y=Object(o.useState)([]),j=Object(r.a)(y,2),T=j[0],C=j[1],S=Object(o.useState)([]),k=Object(r.a)(S,2),_=k[0],A=k[1],M=Object(o.useState)(0),B=Object(r.a)(M,2),I=B[0],F=B[1],P=Object(o.useState)(""),R=Object(r.a)(P,2),H=R[0],D=R[1],U=function(e){D(e.target.value)},z=function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:H,role:1},e.prev=2,e.next=5,m()({url:"".concat(p.a,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),w(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:H,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.a,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),w(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var L=function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.a,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),C(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),s({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.a,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),A(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},u.a.createElement(i.ModalHeader,null,"Select"," ",0==I?u.a.createElement(u.a.Fragment,null,"Customer"):1==I?u.a.createElement(u.a.Fragment,null,"Account"):u.a.createElement(u.a.Fragment,null,"Unit")),u.a.createElement(i.ModalBody,null,u.a.createElement(d.d,{selectedIndex:I,onSelect:function(e){return F(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account"),u.a.createElement(d.a,null,"Unit")),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Customer")),u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,u.a.createElement("form",{onSubmit:z},u.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:U}))))),u.a.createElement(i.TableBody,null,N.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return L(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Account"))),u.a.createElement(i.TableBody,null,T.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(i.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(i.TableContainer,null,u.a.createElement(i.Table,null,u.a.createElement(i.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(i.TableCell,null,"Unit"))),u.a.createElement(i.TableBody,null,_.map((function(e,t){return u.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return Y(e)}},u.a.createElement(i.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),u.a.createElement(i.TableFooter,null)))),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),u.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName)),u.a.createElement(i.ModalFooter,null,u.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),h(!v)}},"Select"))))}}}]);
//# sourceMappingURL=25.0d9446dc.chunk.js.map