(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[58],{1086:function(e,a,t){"use strict";t.r(a);var l=t(3),n=t.n(l),c=t(10),r=t(2),s=t(0),u=t.n(s),m=t(18),o=t.n(m),i=t(7),b=t.n(i),d=t(15),E=(t(86),t(28),t(1)),f=t(8),p=t(30),O=t(6),j=t(29);t(19);a.default=function(){var e=Object(s.useState)(!1),a=Object(r.a)(e,2),t=a[0],l=a[1],m=Object(s.useContext)(p.a),i=(m.bbaropen,m.setBBarOpen),C=m.setAssetDetails,N=(m.assetdetails,Object(s.useState)(0)),T=Object(r.a)(N,2),g=T[0],h=(T[1],Object(s.useContext)(j.a)),v=(h.topheading,h.setTopHeading),w=Object(s.useState)(1),y=Object(r.a)(w,2),x=y[0],k=(y[1],Object(s.useState)([])),S=Object(r.a)(k,2),B=S[0],M=S[1],I=Object(s.useState)(!0),_=Object(r.a)(I,2),D=_[0],F=(_[1],Object(s.useState)("")),U=Object(r.a)(F,2),Y=U[0],H=(U[1],Object(s.useState)("")),P=Object(r.a)(H,2),J=P[0],A=(P[1],Object(s.useState)({_id:"",enggName:""})),R=Object(r.a)(A,2),q=(R[0],R[1],Object(s.useState)({})),z=Object(r.a)(q,2);z[0],z[1],Object(s.useEffect)((function(){return function(){i(0),C({})}}),[]),Object(s.useEffect)((function(){return v("My Calls"),function(){v("")}}),[]),Object(s.useEffect)((function(){!function(){var e=Object(c.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b()({url:"".concat(f.a,"/admin/").concat(d.a.getId(),"/getCallsByEmpId"),method:"POST",data:{id:d.a.getId()}});case 3:a=e.sent,console.log(a.data[0].assignedCalls),M(a.data[0].assignedCalls),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[x,Y,J,D]);var G=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.Modal,{isOpen:t,onClose:function(){return l(!1)}},u.a.createElement(E.ModalHeader,null,"Updated Successfully!"),u.a.createElement(E.ModalBody,null),u.a.createElement(E.ModalFooter,null,u.a.createElement(E.Button,{className:"w-full sm:w-auto",onClick:function(){return l(!1)}},"Okay!"))))};return u.a.createElement(u.a.Fragment,null,u.a.createElement(G,null),u.a.createElement("div",{className:"mb-64 mt-4"},u.a.createElement(E.TableContainer,{className:"mt-4"},u.a.createElement(E.Table,null,u.a.createElement(E.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(E.TableCell,null,"Priority"),u.a.createElement(E.TableCell,null,"Call No"),u.a.createElement(E.TableCell,null,"Date"),u.a.createElement(E.TableCell,null,"Unit Name"),u.a.createElement(E.TableCell,null,"Phone"),u.a.createElement(E.TableCell,null,"Update"))),u.a.createElement(E.TableBody,null,B.map((function(e,a){e._id;var t=e.callId,l=e.priority;return u.a.createElement(E.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(g==t._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:a,onClick:function(){}},u.a.createElement(E.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},l)))),u.a.createElement(E.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},t.callNo)))),u.a.createElement(E.TableCell,null,u.a.createElement("span",{className:"text-sm"},o()(t.date).format("DD/MM/YYYY"))),u.a.createElement(E.TableCell,null,u.a.createElement("span",{className:"text-sm"},t.unitName)),u.a.createElement(E.TableCell,null,u.a.createElement("span",{className:"text-sm"},t.phone)),u.a.createElement(E.TableCell,null,u.a.createElement("div",{className:"flex justify-start items-center space-x-2"},u.a.createElement(O.b,{key:t._id,to:"/app/call/updatecall/".concat(t._id,"/").concat(t.assetId)},u.a.createElement(E.Button,{layout:"outline",onClick:function(){},className:" "},"Update")))))})))),u.a.createElement(E.TableFooter,null))))}}}]);
//# sourceMappingURL=58.1918d77b.chunk.js.map