(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[45],{1181:function(e,t,a){"use strict";a.r(t);var n=a(16),l=a(5),r=a.n(l),c=a(12),o=a(3),s=a(0),u=a.n(s),m=a(21),i=a.n(m),d=a(9),p=a.n(d),b=(a(200),a(18)),E=(a(37),a(36)),f=a(2),g=(a(215),a(10)),v=(a(202),a(199)),h=a(44),w=a(43);t.default=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1],Object(s.useState)(0)),l=Object(o.a)(a,2),m=(l[0],l[1],Object(s.useContext)(h.a)),d=(m.bbaropen,m.setBBarOpen),x=m.setAssetDetails,C=(m.assetdetails,Object(s.useState)(0)),y=Object(o.a)(C,2),O=y[0],k=y[1],N=Object(s.useContext)(w.a),T=(N.topheading,N.setTopHeading),j=Object(s.useState)(1),S=Object(o.a)(j,2),M=S[0],D=S[1],I=Object(s.useState)([]),A=Object(o.a)(I,2),B=A[0],P=A[1],_=Object(s.useState)(!1),U=Object(o.a)(_,2),F=U[0],L=U[1],R=Object(s.useState)(!1),Y=Object(o.a)(R,2),H=Y[0],z=Y[1],K=Object(s.useState)(!1),q=Object(o.a)(K,2),W=q[0],J=q[1],V=Object(s.useState)(!1),X=Object(o.a)(V,2),G=X[0],Q=X[1],Z=Object(s.useState)(!0),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(s.useState)(!0),ne=Object(o.a)(ae,2),le=ne[0],re=ne[1],ce=Object(s.useState)(""),oe=Object(o.a)(ce,2),se=oe[0],ue=oe[1],me=Object(s.useState)(""),ie=Object(o.a)(me,2),de=ie[0],pe=ie[1],be=Object(s.useState)({_id:"",unitName:""}),Ee=Object(o.a)(be,2),fe=Ee[0],ge=Ee[1],ve=Object(s.useState)({_id:"",customerName:""}),he=Object(o.a)(ve,2),we=he[0],xe=he[1],Ce=Object(s.useState)({_id:"",accountName:""}),ye=Object(o.a)(Ce,2),Oe=ye[0],ke=ye[1],Ne=Object(s.useState)({}),Te=Object(o.a)(Ne,2),je=(Te[0],Te[1]),Se=Object(s.useState)(""),Me=Object(o.a)(Se,2),De=Me[0],Ie=Me[1],Ae=Object(s.useState)(""),Be=Object(o.a)(Ae,2),Pe=Be[0],_e=Be[1],Ue=Object(s.useState)(""),Fe=Object(o.a)(Ue,2),Le=Fe[0],Re=Fe[1],Ye=Object(s.useState)([]),He=Object(o.a)(Ye,2),ze=(He[0],He[1],Object(s.useState)(!1)),Ke=Object(o.a)(ze,2),qe=(Ke[0],Ke[1],Object(s.useState)(20)),We=Object(o.a)(qe,2),Je=We[0],Ve=We[1],Xe=Object(s.useState)(!1),Ge=Object(o.a)(Xe,2),Qe=Ge[0],Ze=Ge[1],$e=Object(s.useState)([]),et=Object(o.a)($e,2),tt=et[0],at=et[1],nt=Object(s.useState)([]),lt=Object(o.a)(nt,2),rt=lt[0],ct=lt[1],ot=Object(s.useState)(!1),st=Object(o.a)(ot,2),ut=st[0],mt=st[1],it=Object(s.useState)(!1),dt=Object(o.a)(it,2),pt=dt[0],bt=dt[1],Et=Object(s.useState)(""),ft=Object(o.a)(Et,2),gt=ft[0],vt=ft[1],ht=Object(s.useState)(""),wt=Object(o.a)(ht,2),xt=wt[0],Ct=wt[1],yt=Object(s.useState)(""),Ot=Object(o.a)(yt,2),kt=Ot[0],Nt=Ot[1],Tt=Object(s.useState)(""),jt=Object(o.a)(Tt,2),St=jt[0],Mt=jt[1];function Dt(e){D(e)}Object(s.useEffect)((function(){return function(){d(0),x({})}}),[]),Object(s.useEffect)((function(){return T("Multi Asset Update"),function(){T("")}}),[]),Object(s.useMemo)((function(){!function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:M,limit:10},filters:{business:se,producttype:de,customer:we,account:Oe,unitId:fe._id,customerId:we._id,accountId:Oe._id,searchtype:De,searchquery:Le}},e.prev=2,e.next=5,p()({url:"".concat(g.API,"/asset/").concat(b.a.getId(),"/getall"),method:"POST",data:t});case 5:return a=e.sent,console.log(a.data.out),e.next=9,Ve(a.data.total);case 9:console.log("response total",a.data.total),P(a.data.out),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:console.log("totalResults",Je);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}()()}),[M,se,de,ee]);var It=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(rt),0!=rt.length){e.next=6;break}return alert("No inventory selected"),e.abrupt("return");case 6:if(pt||ut){e.next=11;break}return e.next=9,Ze(!1);case 9:return alert("No Update Type Enabled"),e.abrupt("return");case 11:return t={selectedids:rt,billingenable:pt,contractenable:ut,ContractFrom:gt,ContractTo:xt,BillingFrom:kt,BillingTo:St},e.prev=12,e.next=15,p()({url:"".concat(g.API,"/asset/").concat(b.a.getId(),"/multiAssetUpdate"),method:"POST",data:t});case 15:e.sent,at([]),ct([]),Q(!0),mt(!1),bt(!1),vt(""),Ct(""),Nt(""),Mt(""),te(!ee),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(12),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[12,28]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(v.a,{isModalOpen:W,setIsModalOpen:J,setUnit:ge,unit:fe,customer:we,setCustomer:xe,account:Oe,setAccount:ke,refresh:ee,setRefresh:te}),u.a.createElement(u.a.Fragment,null,u.a.createElement(f.Modal,{isOpen:Qe,onClose:function(){return Ze(!1)},className:" dark:bg-gray-800 p-5  mx-10  bg-gray-50 text-gray-900 dark:text-white text-center  rounded-lg "},u.a.createElement(f.ModalHeader,{className:" w-87"},u.a.createElement("div",{className:"text-lg"},"Are you sure you want to update all the selected inventory ?")),u.a.createElement(f.ModalBody,null,u.a.createElement("div",{className:" space-x-1"},u.a.createElement(f.Button,{layout:"outline",onClick:function(){Ze(!1),It()}},"Yes"),u.a.createElement(f.Button,{layout:"outline",onClick:function(){Ze(!1)}},"No"))))),u.a.createElement(u.a.Fragment,null,u.a.createElement(f.Modal,{isOpen:G,onClose:function(){return Q(!0)}},u.a.createElement(f.ModalHeader,null,'"Inventory Updated Successfully"'),u.a.createElement(f.ModalBody,null),u.a.createElement(f.ModalFooter,null,u.a.createElement(f.Button,{className:"w-full sm:w-auto",onClick:function(){return Q(!1)}},"Okay!")))),u.a.createElement("div",{className:"mb-64 mt-4"},u.a.createElement("div",{className:"flex flex-row mb-2"},u.a.createElement("div",{className:"w-3/4 text-lg font-semibold dark:text-white"},"Type Of Update"),u.a.createElement("div",{className:"w-1/4 flex justify-end "},u.a.createElement(f.Button,{onClick:function(){Ze(!0)}},"Update All"))),u.a.createElement("hr",{className:"my-2"}),u.a.createElement("div",{className:"flex flex-row"},u.a.createElement("div",{className:"w-full my-3 "},u.a.createElement("span",{className:" text-sm font-semibold dark:text-white"},"Enable Contract:"," "),u.a.createElement(f.Input,{className:"mx-2 w-5 h-5",type:"checkbox",checked:ut,onChange:function(){mt(!ut)}}),u.a.createElement("hr",{className:"mt-2"})),u.a.createElement("div",{className:"w-full my-3 ml-8"},u.a.createElement("span",{className:" text-sm font-semibold dark:text-white"},"Enable Billing:"," "),u.a.createElement(f.Input,{className:"mx-2 w-5 h-5",type:"checkbox",checked:pt,onChange:function(){bt(!pt)}}),u.a.createElement("hr",{className:"mt-2"}))),u.a.createElement("div",{className:"flex flex-col lg:flex-row  items-center justify-start lg:space-x-8"},u.a.createElement(f.Label,{className:"w-full "},u.a.createElement("span",null,"Contract From"),u.a.createElement(f.Input,{className:"mt-1",type:"date",disabled:!ut,value:gt,onChange:function(e){vt(e.target.value)}})),u.a.createElement(f.Label,{className:"w-full"},u.a.createElement("span",null,"Contract To"),u.a.createElement(f.Input,{disabled:!ut,className:"mt-1",type:"date",value:xt,onChange:function(e){Ct(e.target.value)}})),u.a.createElement(f.Label,{className:"w-full my-3"},u.a.createElement("span",null,"Billing From"),u.a.createElement(f.Input,{className:"mt-1",type:"date",disabled:!pt,value:kt,onChange:function(e){Nt(e.target.value)}})),u.a.createElement(f.Label,{className:"w-full my-3"},u.a.createElement("span",null,"Billing To"),u.a.createElement(f.Input,{type:"date",className:"mt-1",name:"brand",disabled:!pt,value:St,onChange:function(e){Mt(e.target.value)}}))),u.a.createElement(f.TableContainer,{className:"mt-4"},u.a.createElement(f.Table,null,u.a.createElement(f.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,"Customer"),u.a.createElement(f.TableCell,null,"Unit"),u.a.createElement(f.TableCell,null,"Business"),u.a.createElement(f.TableCell,null,"Product"),u.a.createElement(f.TableCell,null,"Product Serial"),u.a.createElement(f.TableCell,null,"Contract From"),u.a.createElement(f.TableCell,null,"Contract To"),u.a.createElement(f.TableCell,null,"Purchase Number"),u.a.createElement(f.TableCell,null,"Purchase Date"),u.a.createElement(f.TableCell,null,"Remove"))),u.a.createElement(f.TableBody,null,tt.map((function(e,t){return u.a.createElement(f.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(O==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){k(e._id),je(e),x(e)}},u.a.createElement(f.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.customerName),u.a.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400"},e.accountName)))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.unitName)),u.a.createElement(f.TableCell,null,u.a.createElement(f.Badge,{type:"AMC"==e.business?"primary":"success"},e.business)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.producttype)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.product.serialno)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},i()(e.contractfrom).format("DD/MM/YYYY"))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},i()(e.contractto).format("DD/MM/YYYY"))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.ponumber)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},i()(e.podate).format("DD/MM/YYYY"))),u.a.createElement(f.TableCell,null,u.a.createElement("div",{className:"flex items-center space-x-4"},u.a.createElement(f.Button,{onClick:Object(c.a)(r.a.mark((function e(){var a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(n.a)(tt),l=Object(n.a)(rt),e.next=4,a.splice(t,1);case 4:return e.next=6,l.splice(t,1);case 6:return e.next=8,at(a);case 8:return e.next=10,ct(l);case 10:case"end":return e.stop()}}),e)}))),layout:"link",size:"icon","aria-label":"Edit"},u.a.createElement(E.CloseIcon,{className:"w-6 h-6","aria-hidden":"true"})))))})))),u.a.createElement(f.TableFooter,null,u.a.createElement(f.Pagination,{totalResults:tt.length,resultsPerPage:10,label:"Table navigation",onChange:Dt}))),u.a.createElement("div",{className:" text-lg font-semibold mt-4 "},"Asset Picker"),u.a.createElement("hr",{className:"my-2"}),u.a.createElement("div",{className:""},u.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-6 "},u.a.createElement("div",{class:"relative  "},u.a.createElement("button",{class:" shadow-md appearance-none h-full rounded border block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",onClick:function(){J(!W)}},"Pick Customer"),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{class:"relative mx-5 "},u.a.createElement("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",value:se,onChange:function(e){ue(e.target.value)}},u.a.createElement("option",{value:"",disabled:!0,selected:!0},"Business Type"),u.a.createElement("option",{value:""},"All"),u.a.createElement("option",{value:"AMC"},"AMC"),u.a.createElement("option",{value:"WTY"},"Warranty"),u.a.createElement("option",{value:"NOS"},"NOS"),u.a.createElement("option",{value:"DEAD"},"DEAD")),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),u.a.createElement("div",{className:"relative z-40 "},u.a.createElement("button",{onClick:function(){L(!F)},className:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},de||"Pick Product"),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),u.a.createElement(f.Dropdown,{isOpen:F,onClose:function(){return L(!1)}},u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("")}},u.a.createElement("span",null,"All")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Console")}},u.a.createElement("span",null,"Console")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("DMP")}},u.a.createElement("span",null,"DMP")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Inkjet")}},u.a.createElement("span",null,"Inkjet")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("KVM")}},u.a.createElement("span",null,"KVM")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Laptop")}},u.a.createElement("span",null,"Laptop")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Laser")}},u.a.createElement("span",null,"Laser")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("LMP")}},u.a.createElement("span",null,"LMP")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Module")}},u.a.createElement("span",null,"Module")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Router")}},u.a.createElement("span",null,"Router")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Scanner")}},u.a.createElement("span",null,"Scanner")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Server")}},u.a.createElement("span",null,"Server")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Desktop")}},u.a.createElement("span",null,"Desktop")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Storage")}},u.a.createElement("span",null,"Storage")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Switch")}},u.a.createElement("span",null,"Switch")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("UPS")}},u.a.createElement("span",null,"UPS")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Ncompute")}},u.a.createElement("span",null,"Ncompute")),u.a.createElement(f.DropdownItem,{onClick:function(){L(!1),pe("Others")}},u.a.createElement("span",null,"Others")))),u.a.createElement("div",{className:"relative "},u.a.createElement("button",{onClick:function(){z(!H)},className:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},De?Pe:"Pick Search Type"),u.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},u.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),u.a.createElement(f.Dropdown,{isOpen:H,onClose:function(){return z(!1)}},u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie(""),_e(""),re(!0),Re(""),te(!ee)}},u.a.createElement("span",null,"All")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("prodserial"),_e("Product Serial"),re(!1)}},u.a.createElement("span",null,"Product Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("keyboardsno"),_e("Keyboard Serial"),re(!1)}},u.a.createElement("span",null,"Keyboard Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("mousesno"),_e("Mouse Serial"),re(!1)}},u.a.createElement("span",null,"Mouse Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("motherboardsno"),_e("Motherboard Serial"),re(!1)}},u.a.createElement("span",null,"Motherboard Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("monitorsno"),_e("Monitor Serial"),re(!1)}},u.a.createElement("span",null,"Monitor Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("hddsno"),_e("HDD Serial"),re(!1)}},u.a.createElement("span",null,"HDD Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("cpusno"),_e("CPU Serial"),re(!1)}},u.a.createElement("span",null,"CPU Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("ramsno"),_e("Ram Serial"),re(!1)}},u.a.createElement("span",null,"RAM Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("smpssno"),_e("SMPS Serial"),re(!1)}},u.a.createElement("span",null,"SMPS Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("fansno"),_e("Fan Serial"),re(!1)}},u.a.createElement("span",null,"Fan Serial")),u.a.createElement(f.DropdownItem,{onClick:function(){z(!1),Ie("opticaldrivesno"),_e("Optical Drive Serial"),re(!1)}},u.a.createElement("span",null,"Optical Drive Serial")))),u.a.createElement("div",{class:"block relative xl:ml-64"},u.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},u.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},u.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),te(!ee)}},u.a.createElement("input",{value:Le,onChange:function(e){return Re(e.target.value)},placeholder:"Search",disabled:le,class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),u.a.createElement(f.TableContainer,{className:"mt-4"},u.a.createElement(f.Table,null,u.a.createElement(f.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(f.TableCell,null,"Customer"),u.a.createElement(f.TableCell,null,"Unit"),u.a.createElement(f.TableCell,null,"Business"),u.a.createElement(f.TableCell,null,"Product"),u.a.createElement(f.TableCell,null,"Product Serial"),u.a.createElement(f.TableCell,null,"Contract From"),u.a.createElement(f.TableCell,null,"Contract To"),u.a.createElement(f.TableCell,null,"Purchase Number"),u.a.createElement(f.TableCell,null,"Purchase Date"),u.a.createElement(f.TableCell,null,"Add"))),u.a.createElement(f.TableBody,null,B.filter((function(e){for(var t=0;t<rt.length;t++)if(e._id==rt[t])return 0;return 1})).map((function(e,t){return u.a.createElement(f.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(O==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){k(e._id),je(e),x(e)}},u.a.createElement(f.TableCell,{className:"w-8"},u.a.createElement("div",{className:"flex items-center text-sm "},u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.customerName),u.a.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400"},e.accountName)))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.unitName)),u.a.createElement(f.TableCell,null,u.a.createElement(f.Badge,{type:"AMC"==e.business?"primary":"success"},e.business)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.producttype)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.product.serialno)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},i()(e.contractfrom).format("DD/MM/YYYY"))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},i()(e.contractto).format("DD/MM/YYYY"))),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},e.ponumber)),u.a.createElement(f.TableCell,null,u.a.createElement("span",{className:"text-sm"},i()(e.podate).format("DD/MM/YYYY"))),u.a.createElement(f.TableCell,null,u.a.createElement("div",{className:"flex items-center space-x-4"},u.a.createElement(f.Button,{onClick:Object(c.a)(r.a.mark((function t(){var a,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(n.a)(tt),l=Object(n.a)(rt),t.next=4,a.unshift(e);case 4:return t.next=6,l.unshift(e._id);case 6:return t.next=8,at(a);case 8:return t.next=10,ct(l);case 10:case"end":return t.stop()}}),t)}))),layout:"link",size:"icon","aria-label":"Edit"},u.a.createElement(E.TickIcon,{className:"w-6 h-6","aria-hidden":"true"})))))})))),u.a.createElement(f.TableFooter,null,u.a.createElement(f.Pagination,{totalResults:Je,resultsPerPage:10,label:"Table navigation",onChange:Dt})))))}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),s=a.n(o),u=a(9),m=a.n(u),i=a(2),d=a(192),p=(a(197),a(10));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,u=e.setUnit,b=e.account,E=e.setAccount,f=e.customer,g=e.setCustomer,v=e.refresh,h=e.setRefresh,w=e.theunitdetails,x=e.setTheUnitDetails,C=Object(o.useState)([]),y=Object(c.a)(C,2),O=y[0],k=y[1],N=Object(o.useState)([]),T=Object(c.a)(N,2),j=T[0],S=T[1],M=Object(o.useState)([]),D=Object(c.a)(M,2),I=D[0],A=D[1],B=Object(o.useState)(0),P=Object(c.a)(B,2),_=P[0],U=P[1],F=Object(o.useState)(""),L=Object(c.a)(F,2),R=L[0],Y=L[1],H=function(e){Y(e.target.value)},z=function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:R,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),k(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){z()}),[R]),Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:R,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),k(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var K=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),S(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),A(a.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("-------------piking unit"),console.log(t),u({_id:t._id,contactPerson:t.contactPerson,contactNo:t.contactNo,unitName:t.unitName});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},s.a.createElement(i.ModalHeader,null,"Select"," ",0==_?s.a.createElement(s.a.Fragment,null,"Customer"):1==_?s.a.createElement(s.a.Fragment,null,"Account"):s.a.createElement(s.a.Fragment,null,"Unit")),s.a.createElement(i.ModalBody,{className:"h-64 overflow-auto"},s.a.createElement(d.d,{selectedIndex:_,onSelect:function(e){return U(e)}},s.a.createElement(d.b,null,s.a.createElement(d.a,null,"Customer"),s.a.createElement(d.a,null,"Account"),s.a.createElement(d.a,null,"Unit")),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,{className:""},s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,s.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:H}))))),s.a.createElement(i.TableBody,null,O.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return K(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Account"))),s.a.createElement(i.TableBody,null,j.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return q(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Unit"))),s.a.createElement(i.TableBody,null,I.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return W(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),s.a.createElement(i.TableFooter,null))))),s.a.createElement(i.ModalFooter,null,s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName),s.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){a(!1),h(!v),w&&x(n),S([]),A([])}},"Select"))))}},200:function(e,t,a){(function(a){var n,l,r;l=[],void 0===(r="function"===typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){o(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function l(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,c=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(e,a,c){var o=r.URL||r.webkitURL,s=document.createElement("a");a=a||e.name||"download",s.download=a,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?l(s):n(s.href)?t(e,a,c):l(s,s.target="_blank")):(s.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(s.href)}),4e4),setTimeout((function(){l(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),a);else if(n(e))t(e,a,r);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){l(c)}))}}:function(e,a,n,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(r.HTMLElement)||r.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s||c)&&"undefined"!=typeof FileReader){var m=new FileReader;m.onloadend=function(){var e=m.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},m.readAsDataURL(e)}else{var i=r.URL||r.webkitURL,d=i.createObjectURL(e);l?l.location=d:location.href=d,l=null,setTimeout((function(){i.revokeObjectURL(d)}),4e4)}});r.saveAs=o.saveAs=o,e.exports=o})?n.apply(t,l):n)||(e.exports=r)}).call(this,a(148))},202:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),s=a.n(o),u=a(9),m=a.n(u),i=a(2),d=a(192),p=(a(197),a(10));function b(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.unit,u=e.setUnit,b=e.account,E=e.setAccount,f=e.customer,g=e.setCustomer,v=Object(o.useState)([]),h=Object(c.a)(v,2),w=h[0],x=h[1],C=Object(o.useState)([]),y=Object(c.a)(C,2),O=y[0],k=y[1],N=Object(o.useState)([]),T=Object(c.a)(N,2),j=T[0],S=T[1],M=Object(o.useState)(0),D=Object(c.a)(M,2),I=D[0],A=D[1],B=Object(o.useState)(""),P=Object(c.a)(B,2),_=P[0],U=P[1],F=function(e){U(e.target.value)},L=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={search:_,role:1},e.prev=2,e.next=5,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:a});case 5:n=e.sent,console.log(n.data),x(n.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:_,role:1},e.prev=1,e.next=4,m()({url:"".concat(p.API,"/customer/customers"),method:"POST",data:t});case 4:a=e.sent,console.log(a.data),x(a.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var R=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({_id:t._id,customerName:t.name}),E({_id:"",accountName:""}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/accounts"),{customerId:t._id});case 6:a=e.sent,console.log(a.data),k(a.data),A(1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),E({_id:t._id,accountName:t.name}),u({_id:"",unitName:""}),e.prev=3,e.next=6,m.a.post("".concat(p.API,"/customer/units"),{accountId:t._id});case 6:a=e.sent,console.log(a.data),S(a.data),A(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("axiosErr",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),u({_id:t._id,unitName:t.unitName});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.Modal,{isOpen:t,onClose:function(){return a(!1)}},s.a.createElement(i.ModalHeader,null,"Select"," ",0==I?s.a.createElement(s.a.Fragment,null,"Customer"):1==I?s.a.createElement(s.a.Fragment,null,"Account"):s.a.createElement(s.a.Fragment,null,"Unit")),s.a.createElement(i.ModalBody,{className:"overflow-y-scroll h-64"},s.a.createElement(d.d,{selectedIndex:I,onSelect:function(e){return A(e)}},s.a.createElement(d.b,null,s.a.createElement(d.a,null,"Customer"),s.a.createElement(d.a,null,"Account"),s.a.createElement(d.a,null,"Unit")),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Customer")),s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,s.a.createElement("form",{onSubmit:L},s.a.createElement("input",{className:"block w-full pr-20 text-sm text-black dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray form-input",placeholder:"Search Customers",onChange:F}))))),s.a.createElement(i.TableBody,null,w.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return R(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,null,s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Account"))),s.a.createElement(i.TableBody,null,O.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return Y(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.name)))))})))),s.a.createElement(i.TableFooter,null))),s.a.createElement(d.c,null,s.a.createElement(i.TableContainer,null,s.a.createElement(i.Table,{className:" w-full overflow-y-scroll"},s.a.createElement(i.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(i.TableCell,null,"Unit"))),s.a.createElement(i.TableBody,null,j.map((function(e,t){return s.a.createElement(i.TableRow,{key:t,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return H(e)}},s.a.createElement(i.TableCell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.unitName)))))})))),s.a.createElement(i.TableFooter,null))))),s.a.createElement(i.ModalFooter,null,s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",b.accountName),s.a.createElement(i.Badge,{className:"mx-2 text-md",type:"success"},"Unit: ",n.unitName),s.a.createElement(i.Button,{className:"w-full sm:w-auto",onClick:function(){return a(!1)}},"Select"))))}}}]);
//# sourceMappingURL=45.4792e2b5.chunk.js.map