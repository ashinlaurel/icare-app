(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[67],{1224:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a.n(n),r=a(12),c=a(3),o=a(0),s=a.n(o),m=a(20),u=a.n(m),i=a(9),p=a.n(i),b=a(38),d=a(2),E=a(10),f=a(44);t.default=function(){var e=Object(o.useContext)(f.a),t=(e.bbaropen,e.setBBarOpen,e.setAssetDetails,e.assetdetails,Object(o.useState)(0)),a=Object(c.a)(t,2),n=a[0],m=a[1],i=Object(o.useState)(!1),w=Object(c.a)(i,2),g=(w[0],w[1],Object(o.useState)(1)),C=Object(c.a)(g,2),h=C[0],S=C[1],k=Object(o.useState)([]),D=Object(c.a)(k,2),O=D[0],x=D[1],j=Object(o.useState)(!1),y=Object(c.a)(j,2),v=y[0],I=y[1],N=Object(o.useState)(!1),T=Object(c.a)(N,2),M=T[0],P=T[1],Y=Object(o.useState)(!1),L=Object(c.a)(Y,2),R=(L[0],L[1],Object(o.useState)(!0)),B=Object(c.a)(R,2),z=B[0],A=B[1],F=Object(o.useState)(!0),U=Object(c.a)(F,2),_=(U[0],U[1]),K=Object(o.useState)(""),H=Object(c.a)(K,2),J=H[0],V=(H[1],Object(o.useState)("")),q=Object(c.a)(V,2),G=q[0],Q=q[1],W=Object(o.useState)({_id:"",unitName:""}),X=Object(c.a)(W,2),Z=(X[0],X[1],Object(o.useState)({_id:"",customerName:""})),$=Object(c.a)(Z,2),ee=($[0],$[1],Object(o.useState)({_id:"",accountName:""})),te=Object(c.a)(ee,2),ae=(te[0],te[1],Object(o.useState)({})),ne=Object(c.a)(ae,2),le=ne[0],re=ne[1],ce=Object(o.useState)(""),oe=Object(c.a)(ce,2),se=oe[0],me=oe[1],ue=Object(o.useState)(""),ie=Object(c.a)(ue,2),pe=ie[0],be=ie[1],de=Object(o.useState)(""),Ee=Object(c.a)(de,2),fe=Ee[0],we=Ee[1],ge=Object(o.useState)(0),Ce=Object(c.a)(ge,2),he=Ce[0],Se=Ce[1];return Object(o.useEffect)((function(){console.log(b.a.getId(),b.a.getRole()),function(){var e=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={pages:{page:h,limit:10},filters:{business:J,producttype:G,searchtype:se,searchquery:fe}},1!=b.a.getRole()){e.next=5;break}t.filters.customerId=b.a.getId(),e.next=10;break;case 5:if(2!=b.a.getRole()){e.next=9;break}t.filters.accountId=b.a.getId(),e.next=10;break;case 9:return e.abrupt("return");case 10:return e.prev=10,e.next=13,p()({url:"".concat(E.API,"/asset/getallbycust"),method:"POST",data:t});case 13:a=e.sent,console.log(a.data.out),x(a.data.out),Se(a.data.total),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(10),e.t0;case 22:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(){return e.apply(this,arguments)}}()()}),[h,J,G,z]),console.log(le),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-64"},s.a.createElement("div",{className:""},s.a.createElement("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-6 "},s.a.createElement("div",{className:"relative "},s.a.createElement("button",{onClick:function(){I(!v)},className:"shadow-md z-50 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},G||"Pick Product"),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),s.a.createElement(d.Dropdown,{isOpen:v,onClose:function(){return I(!1)}},s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("")}},s.a.createElement("span",null,"All")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Console")}},s.a.createElement("span",null,"Console")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("DMP")}},s.a.createElement("span",null,"DMP")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Inkjet")}},s.a.createElement("span",null,"Inkjet")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("KVM")}},s.a.createElement("span",null,"KVM")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Laptop")}},s.a.createElement("span",null,"Laptop")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Laser")}},s.a.createElement("span",null,"Laser")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("LMP")}},s.a.createElement("span",null,"LMP")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Module")}},s.a.createElement("span",null,"Module")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Router")}},s.a.createElement("span",null,"Router")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Scanner")}},s.a.createElement("span",null,"Scanner")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Server")}},s.a.createElement("span",null,"Server")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Desktop")}},s.a.createElement("span",null,"Desktop")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Storage")}},s.a.createElement("span",null,"Storage")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Switch")}},s.a.createElement("span",null,"Switch")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("UPS")}},s.a.createElement("span",null,"UPS")),s.a.createElement(d.DropdownItem,{onClick:function(){I(!1),Q("Others")}},s.a.createElement("span",null,"Others")))),s.a.createElement("div",{className:"relative "},s.a.createElement("button",{onClick:function(){P(!M)},className:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-4 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none","aria-label":"Notifications","aria-haspopup":"true"},se?pe:"Pick Search Type"),s.a.createElement("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},s.a.createElement("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))),s.a.createElement(d.Dropdown,{isOpen:M,onClose:function(){return P(!1)}},s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me(""),be(""),_(!0),we(""),A(!z)}},s.a.createElement("span",null,"All")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("keyboardsno"),be("Keyboard Serial"),_(!1)}},s.a.createElement("span",null,"Keyboard Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("mousesno"),be("Mouse Serial"),_(!1)}},s.a.createElement("span",null,"Mouse Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("motherboardsno"),be("Motherboard Serial"),_(!1)}},s.a.createElement("span",null,"Motherboard Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("monitorsno"),be("Monitor Serial"),_(!1)}},s.a.createElement("span",null,"Monitor Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("hddsno"),be("HDD Serial"),_(!1)}},s.a.createElement("span",null,"HDD Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("cpusno"),be("CPU Serial"),_(!1)}},s.a.createElement("span",null,"CPU Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("ramsno"),be("Ram Serial"),_(!1)}},s.a.createElement("span",null,"RAM Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("smpssno"),be("SMPS Serial"),_(!1)}},s.a.createElement("span",null,"SMPS Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("fansno"),be("Fan Serial"),_(!1)}},s.a.createElement("span",null,"Fan Serial")),s.a.createElement(d.DropdownItem,{onClick:function(){P(!1),me("opticaldrivesno"),be("Optical Drive Serial"),_(!1)}},s.a.createElement("span",null,"Optical Drive Serial")))),s.a.createElement("div",{class:"block relative xl:ml-64"},s.a.createElement("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2"},s.a.createElement("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},s.a.createElement("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"}))),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),A(!z)}},s.a.createElement("input",{value:fe,onChange:function(e){return we(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"}))))),s.a.createElement(d.TableContainer,{className:"mt-4"},s.a.createElement(d.Table,null,s.a.createElement(d.TableHeader,null,s.a.createElement("tr",null,s.a.createElement(d.TableCell,null,"Customer"),s.a.createElement(d.TableCell,null,"Unit"),s.a.createElement(d.TableCell,null,"Business"),s.a.createElement(d.TableCell,null,"Product"),s.a.createElement(d.TableCell,null,"Product Serial"),s.a.createElement(d.TableCell,null,"Contract From"),s.a.createElement(d.TableCell,null,"Contract To"),s.a.createElement(d.TableCell,null,"Purchase Number"),s.a.createElement(d.TableCell,null,"Purchase Date"))),s.a.createElement(d.TableBody,null,O.map((function(e,t){return s.a.createElement(d.TableRow,{className:"hover:shadow-lg dark:hover:bg-gray-600 ".concat(n==e._id?"bg-blue-300 shadow-lg dark:bg-gray-600":"white"," "),key:t,onClick:function(){m(e._id),re(e)}},s.a.createElement(d.TableCell,{className:"w-8"},s.a.createElement("div",{className:"flex items-center text-sm "},s.a.createElement("div",null,s.a.createElement("p",{className:"font-semibold"},e.customerName),s.a.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400"},e.accountName)))),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.unitName)),s.a.createElement(d.TableCell,null,s.a.createElement(d.Badge,{type:"AMC"==e.business?"primary":"success"},e.business)),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.producttype)),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.product.serialno)),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},u()(e.contractfrom).format("DD/MM/YYYY"))),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},u()(e.contractto).format("DD/MM/YYYY"))),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},e.ponumber)),s.a.createElement(d.TableCell,null,s.a.createElement("span",{className:"text-sm"},u()(e.podate).format("DD/MM/YYYY"))))})))),s.a.createElement(d.TableFooter,null,s.a.createElement(d.Pagination,{totalResults:he,resultsPerPage:10,label:"Table navigation",onChange:function(e){S(e)}})))))}}}]);
//# sourceMappingURL=67.621a265f.chunk.js.map