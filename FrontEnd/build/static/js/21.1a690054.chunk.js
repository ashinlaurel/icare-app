(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[21],{1072:function(e,a,t){"use strict";t.r(a);var l=t(3),n=t.n(l),c=t(9),r=t(16),o=t(7),u=t(2),s=t(0),m=t.n(s),i=t(8),d=t.n(i),E=t(10),f=t(15),b=(t(86),t(88),t(1)),p=(t(18),t(93),t(92),t(29)),N=(t(97),t(98),t(4));a.default=function(){Object(N.g)();var e=Object(s.useState)(0),a=Object(u.a)(e,2),t=(a[0],a[1],Object(s.useState)("Male")),l=Object(u.a)(t,2),i=(l[0],l[1],Object(s.useState)("")),v=Object(u.a)(i,2),O=(v[0],v[1],Object(s.useState)("All")),h=Object(u.a)(O,2),g=(h[0],h[1],Object(s.useState)(!1)),w=Object(u.a)(g,2),x=w[0],C=w[1],j=Object(s.useState)(!1),T=Object(u.a)(j,2),S=(T[0],T[1],Object(s.useState)(!1)),y=Object(u.a)(S,2),M=y[0],k=y[1],I=Object(s.useContext)(p.a).setTopHeading,A=Object(s.useState)({name:"",aadharNo:"",PANNo:"",GSTNo:"",address:"",district:"",state:"",PIN:""}),B=Object(u.a)(A,2),F=B[0],P=B[1];Object(s.useEffect)((function(){return I("Add Vendor"),function(){I("")}}),[]);var L=function(e){return function(a){P(Object(o.a)(Object(o.a)({},F),{},Object(r.a)({},e,a.target.value)))}},H=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==F.name){e.next=4;break}return k(!0),console.log("missing inputs"),e.abrupt("return");case 4:return e.next=6,d()({url:"".concat(E.a,"/vendor/").concat(f.a.getId(),"/create"),method:"POST",data:F}).then((function(e){console.log("Added",e._id),C(!0),P({name:"",aadharNo:"",PANNo:"",GSTNo:"",address:"",district:"",state:"",PIN:""})})).catch((function(e){console.log("err",e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"px-4 py-3 mt-4 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800"},m.a.createElement(b.Label,{className:"font-bold"},m.a.createElement("span",null,"Add Vendor")),m.a.createElement("hr",{className:"mb-5 mt-2"}),m.a.createElement("div",{className:"flex-row flex space-x-3 mt-3 mb-2"},m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"Name*"),m.a.createElement(b.Input,{className:"mt-1",value:F.name,onChange:L("name")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"GST Number"),m.a.createElement(b.Input,{className:"mt-1",value:F.GSTNo,onChange:L("GSTNo")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"PAN Number"),m.a.createElement(b.Input,{className:"mt-1",value:F.PANNo,onChange:L("PANNo")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"Aadhar Number"),m.a.createElement(b.Input,{className:"mt-1",value:F.aadharNo,onChange:L("aadharNo")}))," ")),m.a.createElement("div",{className:"flex-row flex space-x-3 mt-3 mb-2"},m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"Address"),m.a.createElement(b.Input,{className:"mt-1",value:F.address,onChange:L("address")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"District"),m.a.createElement(b.Input,{className:"mt-1",value:F.district,onChange:L("district")}))),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"State"),m.a.createElement(b.Input,{className:"mt-1",type:"text",value:F.state,onChange:L("state")}))," "),m.a.createElement("div",{className:"flex flex-col w-full"},m.a.createElement(b.Label,{className:"w-full"},m.a.createElement("span",null,"PIN"),m.a.createElement(b.Input,{className:"mt-1",value:F.PIN,onChange:L("PIN")}))," ")),m.a.createElement(b.Button,{onClick:H,"aria-label":"Notifications","aria-haspopup":"true",className:"mt-4"},"Add Vendor")),m.a.createElement(m.a.Fragment,null,m.a.createElement(b.Modal,{isOpen:x,onClose:function(){return C(!1)}},m.a.createElement(b.ModalHeader,null,"Vendor Created Successfully!"),m.a.createElement(b.ModalBody,null),m.a.createElement(b.ModalFooter,null,m.a.createElement(b.Button,{className:"w-full sm:w-auto",onClick:function(){return C(!1)}},"Okay!")))),m.a.createElement(m.a.Fragment,null,m.a.createElement(b.Modal,{isOpen:M,onClose:function(){return k(!1)}},m.a.createElement(b.ModalHeader,null,"Required fields are not filled!"),m.a.createElement(b.ModalBody,null),m.a.createElement(b.ModalFooter,null,m.a.createElement(b.Button,{className:"w-full sm:w-auto",onClick:function(){return k(!1)}},"Okay!")))))}},87:function(e,a,t){},93:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var l=t(2),n=t(0),c=t.n(n),r=t(1),o=t(8),u=t.n(o),s=t(10);function m(e){var a=e.isModalOpen,t=e.setIsModalOpen,o=e.setCustomer,m=Object(n.useState)([]),i=Object(l.a)(m,2),d=i[0],E=i[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){u.a.post("".concat(s.a,"/customer/customers"),{search:"",role:1}).then((function(e){console.log(e.data);var a=[];e.data.map((function(e){a.push(e)})),E(a)})).catch((function(e){console.log("axiosErr",e)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.Modal,{isOpen:a,onClose:function(){return t(!1)}},c.a.createElement(r.ModalHeader,null,"Modal header"),c.a.createElement(r.ModalBody,null,c.a.createElement(r.TableContainer,null,c.a.createElement(r.Table,null,c.a.createElement(r.TableHeader,null,c.a.createElement("tr",null,c.a.createElement(r.TableCell,null,"Customer"))),c.a.createElement(r.TableBody,null,d.map((function(e,a){return c.a.createElement(r.TableRow,{key:a,className:"hover:bg-purple-900 ",onClick:function(){o({_id:e._id,customerName:e.name}),t(!1)}},c.a.createElement(r.TableCell,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("p",{className:"font-semibold"},e.name)))))})))),c.a.createElement(r.TableFooter,null))),c.a.createElement(r.ModalFooter,null,c.a.createElement(r.Button,{className:"w-full sm:w-auto",layout:"outline",onClick:function(){return t(!1)}},"Cancel"),c.a.createElement(r.Button,{className:"w-full sm:w-auto"},"Accept"))))}},97:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var l=t(8),n=t.n(l),c=t(10),r=t(15),o=function(e){return n.a.post("".concat(c.a,"/unit/").concat(r.a.getId(),"/create"),e).then((function(e){return console.log("h",e.data),e.data})).catch((function(e){if(console.log("ERRRROs"),e.response)throw console.log(e.response.data),console.log(e.response.status),e.response.data.errors}))}},98:function(e,a,t){"use strict";t.d(a,"a",(function(){return f}));var l=t(3),n=t.n(l),c=t(9),r=t(2),o=t(0),u=t.n(o),s=t(1),m=t(8),i=t.n(m),d=t(92),E=(t(87),t(10));function f(e){var a=e.isModalOpen,t=e.setIsModalOpen,l=e.account,m=e.setAccount,f=e.customer,b=e.setCustomer,p=Object(o.useState)([]),N=Object(r.a)(p,2),v=N[0],O=N[1],h=Object(o.useState)([]),g=Object(r.a)(h,2),w=g[0],x=g[1],C=Object(o.useState)([]),j=Object(r.a)(C,2),T=(j[0],j[1],Object(o.useState)(0)),S=Object(r.a)(T,2),y=S[0],M=S[1];Object(o.useEffect)((function(){i.a.post("".concat(E.a,"/customer/customers"),{search:"",role:1}).then((function(e){console.log(e.data);var a=[];e.data.map((function(e){a.push(e)})),O(a)})).catch((function(e){console.log("axiosErr",e)}))}),[]);var k=function(){var e=Object(c.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({_id:a._id,customerName:a.name}),e.prev=1,e.next=4,i.a.post("".concat(E.a,"/customer/accounts"),{customerId:a._id});case 4:t=e.sent,console.log(t.data),x(t.data),M(1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("axiosErr",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),m({_id:a._id,accountName:a.name});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement(s.Modal,{isOpen:a,onClose:function(){return t(!1)}},u.a.createElement(s.ModalHeader,null,"Select ",0==y?u.a.createElement(u.a.Fragment,null,"Customer"):u.a.createElement(u.a.Fragment,null,"Account")),u.a.createElement(s.ModalBody,null,u.a.createElement(d.d,{selectedIndex:y,onSelect:function(e){return M(e)}},u.a.createElement(d.b,null,u.a.createElement(d.a,null,"Customer"),u.a.createElement(d.a,null,"Account")),u.a.createElement(d.c,null,u.a.createElement(s.TableContainer,null,u.a.createElement(s.Table,null,u.a.createElement(s.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(s.TableCell,null,"Customer"))),u.a.createElement(s.TableBody,null,v.map((function(e,a){return u.a.createElement(s.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return k(e)}},u.a.createElement(s.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(s.TableFooter,null))),u.a.createElement(d.c,null,u.a.createElement(s.TableContainer,null,u.a.createElement(s.Table,null,u.a.createElement(s.TableHeader,null,u.a.createElement("tr",null,u.a.createElement(s.TableCell,null,"Account"))),u.a.createElement(s.TableBody,null,w.map((function(e,a){return u.a.createElement(s.TableRow,{key:a,className:"hover:bg-purple-200 cursor-pointer",onClick:function(){return I(e)}},u.a.createElement(s.TableCell,null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",{className:"font-semibold"},e.name)))))})))),u.a.createElement(s.TableFooter,null)))),u.a.createElement(s.Badge,{className:"mx-2 text-md",type:"success"},"Customer: ",f.customerName),u.a.createElement(s.Badge,{className:"mx-2 text-md",type:"success"},"Account : ",l.accountName)),u.a.createElement(s.ModalFooter,null,u.a.createElement(s.Button,{className:"w-full sm:w-auto",onClick:function(){return t(!1)}},"Select"))))}}}]);
//# sourceMappingURL=21.1a690054.chunk.js.map